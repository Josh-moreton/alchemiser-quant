# Phase 7 - Cleanup: Remove backward compatibility shims and legacy code after modular migration

## Context
This is a sub-issue of EPIC #424 for the modular rework of the alchemiser-quant codebase. After completing the migration to the new modular structure (strategy/, portfolio/, execution/, shared/), we need to clean up all the backward compatibility code that was left in place during the transition.

## Objective
Create tooling and processes to systematically identify, list, and remove all backward compatibility code while ensuring nothing breaks in the process.

## Requirements

### 1. Discovery and Inventory
- Create a script to scan the codebase and identify all backward compatibility artifacts:
  - Import shims and compatibility imports
  - Legacy module aliases
  - Deprecated functions/classes marked for removal
  - Old file paths that redirect to new locations
  - Any `# TODO: remove after migration` comments
  - Files in `legacy/` directories
  - Conditional imports for old vs new structure

### 2. Systematic Removal Tool
- Develop a tool that can:
  - List all backward compatibility items found
  - Remove them one by one in a controlled manner
  - Run tests after each removal to detect breakages
  - Rollback specific removals if tests fail
  - Generate a report of what was successfully removed

### 3. Testing Integration
- Ensure the tool integrates with existing test suite
- Run both unit tests and smoke tests after each removal
- Support for running specific test subsets for targeted validation
- Clear reporting of test failures linked to specific removals

### 4. Safety Mechanisms
- Create backup/rollback capability for each removal step
- Implement dry-run mode to preview what would be removed
- Add confirmation prompts for potentially risky removals
- Maintain a log of all changes made

### 5. Documentation
- Update documentation to reflect the clean, final modular structure
- Remove references to old import paths
- Update examples and guides to use new module structure

## Implementation Approach

1. **Scan Phase**: Identify all backward compatibility code
2. **Categorize Phase**: Group findings by risk level and type
3. **Remove Phase**: Systematically remove items, testing after each
4. **Verify Phase**: Run comprehensive test suite on cleaned codebase
5. **Document Phase**: Update all documentation and examples

## Acceptance Criteria
- [ ] All backward compatibility shims and legacy code identified and catalogued
- [ ] Removal tool successfully eliminates compatibility code without breaking functionality
- [ ] All tests pass after cleanup is complete
- [ ] Documentation updated to reflect clean modular structure
- [ ] No legacy import paths or deprecated code remain
- [ ] Codebase is in final, production-ready modular state

## Dependencies
- Requires completion of Phases 0-6 of the modular migration EPIC #424
- All new modular structure must be stable and tested
- Migration to new structure must be fully complete

This phase represents the final cleanup step to achieve a clean, maintainable modular codebase without any legacy cruft.