(defsymphony
 "Wakanda Forever Fund | BT 03-20-2015"
 {:asset-class "EQUITIES", :rebalance-frequency :daily}
 (weight-equal
  [(filter
    (cumulative-return {:window 60})
    (select-top 3)
    [(group
      "Simple Portfolio (UVXY) + v4 Pops + V1a TQQQ or not"
      [(weight-equal
        [(group
          "Single Popped Dividends (UVXY)"
          [(weight-equal
            [(if
              (> (rsi "QQQE" {:window 10}) 79)
              [(asset
                "UVXY"
                "ProShares Ultra VIX Short-Term Futures ETF")]
              [(weight-equal
                [(if
                  (> (rsi "VTV" {:window 10}) 79)
                  [(asset
                    "UVXY"
                    "ProShares Ultra VIX Short-Term Futures ETF")]
                  [(weight-equal
                    [(if
                      (> (rsi "VOX" {:window 10}) 79)
                      [(asset
                        "UVXY"
                        "ProShares Ultra VIX Short-Term Futures ETF")]
                      [(weight-equal
                        [(if
                          (> (rsi "TECL" {:window 10}) 79)
                          [(asset
                            "UVXY"
                            "ProShares Ultra VIX Short-Term Futures ETF")]
                          [(weight-equal
                            [(if
                              (> (rsi "VOOG" {:window 10}) 79)
                              [(asset
                                "UVXY"
                                "ProShares Ultra VIX Short-Term Futures ETF")]
                              [(weight-equal
                                [(if
                                  (> (rsi "VOOV" {:window 10}) 79)
                                  [(asset
                                    "UVXY"
                                    "ProShares Ultra VIX Short-Term Futures ETF")]
                                  [(weight-equal
                                    [(if
                                      (> (rsi "XLP" {:window 10}) 75)
                                      [(asset
                                        "UVXY"
                                        "ProShares Ultra VIX Short-Term Futures ETF")]
                                      [(weight-equal
                                        [(if
                                          (>
                                           (rsi "TQQQ" {:window 10})
                                           79)
                                          [(weight-equal
                                            [(asset
                                              "UVXY"
                                              "ProShares Ultra VIX Short-Term Futures ETF")])]
                                          [(weight-equal
                                            [(if
                                              (>
                                               (rsi "XLY" {:window 10})
                                               80)
                                              [(asset
                                                "UVXY"
                                                "ProShares Ultra VIX Short-Term Futures ETF")]
                                              [(weight-equal
                                                [(if
                                                  (>
                                                   (rsi
                                                    "FAS"
                                                    {:window 10})
                                                   80)
                                                  [(asset
                                                    "UVXY"
                                                    "ProShares Ultra VIX Short-Term Futures ETF")]
                                                  [(weight-equal
                                                    [(if
                                                      (>
                                                       (rsi
                                                        "SPY"
                                                        {:window 10})
                                                       80)
                                                      [(asset
                                                        "UVXY"
                                                        "ProShares Ultra VIX Short-Term Futures ETF")]
                                                      [(weight-equal
                                                        [(group
                                                          "Single Popped Dividends"
                                                          [(weight-equal
                                                            [(if
                                                              (>
                                                               (rsi
                                                                "UVXY"
                                                                {:window
                                                                 21})
                                                               65)
                                                              [(weight-equal
                                                                [(group
                                                                  "BSC"
                                                                  [(weight-equal
                                                                    [(if
                                                                      (>
                                                                       (rsi
                                                                        "SPY"
                                                                        {:window
                                                                         21})
                                                                       30)
                                                                      [(asset
                                                                        "VIXM"
                                                                        "ProShares VIX Mid-Term Futures ETF")]
                                                                      [(asset
                                                                        "SPXL"
                                                                        "Direxion Daily S&P 500 Bull 3x Shares")])])])])]
                                                              [(weight-equal
                                                                [(group
                                                                  "Combined Pop Bot"
                                                                  [(weight-equal
                                                                    [(if
                                                                      (<
                                                                       (rsi
                                                                        "TQQQ"
                                                                        {:window
                                                                         10})
                                                                       30)
                                                                      [(asset
                                                                        "TECL"
                                                                        "Direxion Daily Technology Bull 3x Shares")]
                                                                      [(weight-equal
                                                                        [(if
                                                                          (<
                                                                           (rsi
                                                                            "SOXL"
                                                                            {:window
                                                                             10})
                                                                           30)
                                                                          [(asset
                                                                            "SOXL"
                                                                            "Direxion Daily Semiconductor Bull 3x Shares")]
                                                                          [(weight-equal
                                                                            [(if
                                                                              (<
                                                                               (rsi
                                                                                "SPXL"
                                                                                {:window
                                                                                 10})
                                                                               30)
                                                                              [(asset
                                                                                "SPXL"
                                                                                "Direxion Daily S&P 500 Bull 3x Shares")]
                                                                              [(weight-equal
                                                                                [(group
                                                                                  "Dividends"
                                                                                  [(weight-equal
                                                                                    [(asset
                                                                                      "SCHD"
                                                                                      "Schwab US Dividend Equity ETF")
                                                                                     (asset
                                                                                      "DGRO"
                                                                                      "iShares Core Dividend Growth ETF")])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])
         (group
          "SVXY/VMS'd - SCHD-Jedi (UVXY)"
          [(weight-equal
            [(if
              (> (rsi "QQQE" {:window 10}) 79)
              [(asset
                "UVXY"
                "ProShares Ultra VIX Short-Term Futures ETF")]
              [(weight-equal
                [(if
                  (> (rsi "VTV" {:window 10}) 79)
                  [(asset
                    "UVXY"
                    "ProShares Ultra VIX Short-Term Futures ETF")]
                  [(weight-equal
                    [(if
                      (> (rsi "VOX" {:window 10}) 79)
                      [(asset
                        "UVXY"
                        "ProShares Ultra VIX Short-Term Futures ETF")]
                      [(weight-equal
                        [(if
                          (> (rsi "TECL" {:window 10}) 79)
                          [(asset
                            "UVXY"
                            "ProShares Ultra VIX Short-Term Futures ETF")]
                          [(weight-equal
                            [(if
                              (> (rsi "VOOG" {:window 10}) 79)
                              [(asset
                                "UVXY"
                                "ProShares Ultra VIX Short-Term Futures ETF")]
                              [(weight-equal
                                [(if
                                  (> (rsi "VOOV" {:window 10}) 79)
                                  [(asset
                                    "UVXY"
                                    "ProShares Ultra VIX Short-Term Futures ETF")]
                                  [(weight-equal
                                    [(if
                                      (> (rsi "XLP" {:window 10}) 75)
                                      [(asset
                                        "UVXY"
                                        "ProShares Ultra VIX Short-Term Futures ETF")]
                                      [(weight-equal
                                        [(if
                                          (>
                                           (rsi "TQQQ" {:window 10})
                                           79)
                                          [(weight-equal
                                            [(asset
                                              "UVXY"
                                              "ProShares Ultra VIX Short-Term Futures ETF")])]
                                          [(weight-equal
                                            [(if
                                              (>
                                               (rsi "XLY" {:window 10})
                                               80)
                                              [(asset
                                                "UVXY"
                                                "ProShares Ultra VIX Short-Term Futures ETF")]
                                              [(weight-equal
                                                [(if
                                                  (>
                                                   (rsi
                                                    "FAS"
                                                    {:window 10})
                                                   80)
                                                  [(asset
                                                    "UVXY"
                                                    "ProShares Ultra VIX Short-Term Futures ETF")]
                                                  [(weight-equal
                                                    [(if
                                                      (>
                                                       (rsi
                                                        "SPY"
                                                        {:window 10})
                                                       80)
                                                      [(asset
                                                        "UVXY"
                                                        "ProShares Ultra VIX Short-Term Futures ETF")]
                                                      [(weight-equal
                                                        [(if
                                                          (>
                                                           (rsi
                                                            "UVXY"
                                                            {:window
                                                             21})
                                                           65)
                                                          [(weight-equal
                                                            [(group
                                                              "BSC"
                                                              [(weight-equal
                                                                [(if
                                                                  (>
                                                                   (rsi
                                                                    "SPY"
                                                                    {:window
                                                                     21})
                                                                   30)
                                                                  [(asset
                                                                    "VIXM"
                                                                    "ProShares VIX Mid-Term Futures ETF")]
                                                                  [(asset
                                                                    "SPXL"
                                                                    "Direxion Daily S&P 500 Bull 3x Shares")])])])])]
                                                          [(weight-equal
                                                            [(group
                                                              "VMS'd JEPI Jedi (UVXY)"
                                                              [(weight-equal
                                                                [(if
                                                                  (>
                                                                   (rsi
                                                                    "XLK"
                                                                    {:window
                                                                     126})
                                                                   (rsi
                                                                    "XLP"
                                                                    {:window
                                                                     126}))
                                                                  [(weight-equal
                                                                    [(group
                                                                      "Bullish Market Conditions"
                                                                      [(weight-equal
                                                                        [(if
                                                                          (>
                                                                           (rsi
                                                                            "TQQQ"
                                                                            {:window
                                                                             10})
                                                                           80)
                                                                          [(weight-equal
                                                                            [(asset
                                                                              "UVXY"
                                                                              "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                          [(weight-equal
                                                                            [(if
                                                                              (<
                                                                               (rsi
                                                                                "TQQQ"
                                                                                {:window
                                                                                 10})
                                                                               31)
                                                                              [(weight-equal
                                                                                [(filter
                                                                                  (moving-average-return
                                                                                   {:window
                                                                                    5})
                                                                                  (select-bottom
                                                                                   1)
                                                                                  [(asset
                                                                                    "TECL"
                                                                                    "Direxion Daily Technology Bull 3x Shares")
                                                                                   (asset
                                                                                    "SOXL"
                                                                                    "Direxion Daily Semiconductor Bull 3x Shares")
                                                                                   (asset
                                                                                    "TMF"
                                                                                    "Direxion Daily 20+ Year Treasury Bull 3X Shares")])])]
                                                                              [(weight-equal
                                                                                [(if
                                                                                  (>
                                                                                   (rsi
                                                                                    "VIXY"
                                                                                    {:window
                                                                                     10})
                                                                                   50)
                                                                                  [(weight-equal
                                                                                    [(if
                                                                                      (<
                                                                                       (moving-average-return
                                                                                        "VIXY"
                                                                                        {:window
                                                                                         5})
                                                                                       0)
                                                                                      [(group
                                                                                        "1st Block"
                                                                                        [(weight-equal
                                                                                          [(if
                                                                                            (>
                                                                                             (cumulative-return
                                                                                              "TQQQ"
                                                                                              {:window
                                                                                               1})
                                                                                             5.5)
                                                                                            [(weight-equal
                                                                                              [(asset
                                                                                                "VIXM"
                                                                                                "ProShares VIX Mid-Term Futures ETF")])]
                                                                                            [(weight-equal
                                                                                              [(group
                                                                                                "v1.2 | JEPI Jedi (BSC)"
                                                                                                [(weight-equal
                                                                                                  [(if
                                                                                                    (>
                                                                                                     (moving-average-return
                                                                                                      "BND"
                                                                                                      {:window
                                                                                                       10})
                                                                                                     (moving-average-return
                                                                                                      "TBX"
                                                                                                      {:window
                                                                                                       10}))
                                                                                                    [(weight-equal
                                                                                                      [(group
                                                                                                        "Risk ON"
                                                                                                        [(weight-specified
                                                                                                          0.3
                                                                                                          (group
                                                                                                           "Dividends"
                                                                                                           [(weight-equal
                                                                                                             [(asset
                                                                                                               "SCHD"
                                                                                                               "Schwab US Dividend Equity ETF")
                                                                                                              (asset
                                                                                                               "DGRO"
                                                                                                               "iShares Core Dividend Growth ETF")])])
                                                                                                          0.5
                                                                                                          (asset
                                                                                                           "TECL"
                                                                                                           "Direxion Daily Technology Bull 3x Shares")
                                                                                                          0.2
                                                                                                          (filter
                                                                                                           (rsi
                                                                                                            {:window
                                                                                                             12})
                                                                                                           (select-bottom
                                                                                                            1)
                                                                                                           [(asset
                                                                                                             "TMF"
                                                                                                             "Direxion Daily 20+ Year Treasury Bull 3X Shares")
                                                                                                            (asset
                                                                                                             "SVXY"
                                                                                                             "ProShares Short VIX Short-Term Futures ETF")]))])])]
                                                                                                    [(weight-equal
                                                                                                      [(group
                                                                                                        "Risk OFF"
                                                                                                        [(weight-specified
                                                                                                          0.3
                                                                                                          (group
                                                                                                           "Dividends"
                                                                                                           [(weight-equal
                                                                                                             [(asset
                                                                                                               "SCHD"
                                                                                                               "Schwab US Dividend Equity ETF")
                                                                                                              (asset
                                                                                                               "DGRO"
                                                                                                               "iShares Core Dividend Growth ETF")])])
                                                                                                          0.5
                                                                                                          (filter
                                                                                                           (rsi
                                                                                                            {:window
                                                                                                             12})
                                                                                                           (select-bottom
                                                                                                            1)
                                                                                                           [(asset
                                                                                                             "BTAL"
                                                                                                             "AGF U.S. Market Neutral Anti-Beta Fund")
                                                                                                            (asset
                                                                                                             "UGL"
                                                                                                             "ProShares Ultra Gold")
                                                                                                            (asset
                                                                                                             "SVXY"
                                                                                                             "ProShares Short VIX Short-Term Futures ETF")])
                                                                                                          0.2
                                                                                                          (filter
                                                                                                           (rsi
                                                                                                            {:window
                                                                                                             12})
                                                                                                           (select-bottom
                                                                                                            1)
                                                                                                           [(asset
                                                                                                             "DBC"
                                                                                                             "Invesco DB Commodity Index Tracking Fund")
                                                                                                            (asset
                                                                                                             "TMV"
                                                                                                             "Direxion Daily 20+ Year Treasury Bear 3x Shares")
                                                                                                            (asset
                                                                                                             "VIXM"
                                                                                                             "ProShares VIX Mid-Term Futures ETF")]))])])])])])])])])])]
                                                                                      [(group
                                                                                        "2nd Block"
                                                                                        [(weight-equal
                                                                                          [(if
                                                                                            (>
                                                                                             (cumulative-return
                                                                                              "TQQQ"
                                                                                              {:window
                                                                                               1})
                                                                                             5.5)
                                                                                            [(weight-equal
                                                                                              [(filter
                                                                                                (exponential-moving-average-price
                                                                                                 {:window
                                                                                                  5})
                                                                                                (select-bottom
                                                                                                 1)
                                                                                                [(asset
                                                                                                  "UVXY"
                                                                                                  "ProShares Ultra VIX Short-Term Futures ETF")
                                                                                                 (asset
                                                                                                  "TECS"
                                                                                                  "Direxion Daily Technology Bear 3X Shares")])])]
                                                                                            [(weight-equal
                                                                                              [(group
                                                                                                "v1.2 | JEPI Jedi (BSC)"
                                                                                                [(weight-equal
                                                                                                  [(if
                                                                                                    (>
                                                                                                     (moving-average-return
                                                                                                      "BND"
                                                                                                      {:window
                                                                                                       10})
                                                                                                     (moving-average-return
                                                                                                      "TBX"
                                                                                                      {:window
                                                                                                       10}))
                                                                                                    [(weight-equal
                                                                                                      [(group
                                                                                                        "Risk ON"
                                                                                                        [(weight-specified
                                                                                                          0.3
                                                                                                          (group
                                                                                                           "Dividends"
                                                                                                           [(weight-equal
                                                                                                             [(asset
                                                                                                               "SCHD"
                                                                                                               "Schwab US Dividend Equity ETF")
                                                                                                              (asset
                                                                                                               "DGRO"
                                                                                                               "iShares Core Dividend Growth ETF")])])
                                                                                                          0.5
                                                                                                          (asset
                                                                                                           "TECL"
                                                                                                           "Direxion Daily Technology Bull 3x Shares")
                                                                                                          0.2
                                                                                                          (filter
                                                                                                           (rsi
                                                                                                            {:window
                                                                                                             12})
                                                                                                           (select-bottom
                                                                                                            1)
                                                                                                           [(asset
                                                                                                             "TMF"
                                                                                                             "Direxion Daily 20+ Year Treasury Bull 3X Shares")
                                                                                                            (asset
                                                                                                             "SVXY"
                                                                                                             "ProShares Short VIX Short-Term Futures ETF")]))])])]
                                                                                                    [(weight-equal
                                                                                                      [(group
                                                                                                        "Risk OFF"
                                                                                                        [(weight-specified
                                                                                                          0.3
                                                                                                          (group
                                                                                                           "Dividends"
                                                                                                           [(weight-equal
                                                                                                             [(asset
                                                                                                               "SCHD"
                                                                                                               "Schwab US Dividend Equity ETF")
                                                                                                              (asset
                                                                                                               "DGRO"
                                                                                                               "iShares Core Dividend Growth ETF")])])
                                                                                                          0.5
                                                                                                          (filter
                                                                                                           (rsi
                                                                                                            {:window
                                                                                                             12})
                                                                                                           (select-bottom
                                                                                                            1)
                                                                                                           [(asset
                                                                                                             "BTAL"
                                                                                                             "AGF U.S. Market Neutral Anti-Beta Fund")
                                                                                                            (asset
                                                                                                             "UGL"
                                                                                                             "ProShares Ultra Gold")
                                                                                                            (asset
                                                                                                             "SVXY"
                                                                                                             "ProShares Short VIX Short-Term Futures ETF")])
                                                                                                          0.2
                                                                                                          (filter
                                                                                                           (rsi
                                                                                                            {:window
                                                                                                             12})
                                                                                                           (select-bottom
                                                                                                            1)
                                                                                                           [(asset
                                                                                                             "DBC"
                                                                                                             "Invesco DB Commodity Index Tracking Fund")
                                                                                                            (asset
                                                                                                             "TMV"
                                                                                                             "Direxion Daily 20+ Year Treasury Bear 3x Shares")
                                                                                                            (asset
                                                                                                             "VIXM"
                                                                                                             "ProShares VIX Mid-Term Futures ETF")]))])])])])])])])])])])])]
                                                                                  [(weight-equal
                                                                                    [(if
                                                                                      (<
                                                                                       (moving-average-return
                                                                                        "VIXY"
                                                                                        {:window
                                                                                         5})
                                                                                       0)
                                                                                      [(group
                                                                                        "3rd Block"
                                                                                        [(weight-equal
                                                                                          [(if
                                                                                            (>
                                                                                             (cumulative-return
                                                                                              "TQQQ"
                                                                                              {:window
                                                                                               1})
                                                                                             5.5)
                                                                                            [(weight-equal
                                                                                              [(filter
                                                                                                (exponential-moving-average-price
                                                                                                 {:window
                                                                                                  5})
                                                                                                (select-bottom
                                                                                                 1)
                                                                                                [(asset
                                                                                                  "VIXM"
                                                                                                  "ProShares VIX Mid-Term Futures ETF")
                                                                                                 (asset
                                                                                                  "TECS"
                                                                                                  "Direxion Daily Technology Bear 3X Shares")])])]
                                                                                            [(weight-equal
                                                                                              [(group
                                                                                                "v1.2 | JEPI Jedi (BSC)"
                                                                                                [(weight-equal
                                                                                                  [(if
                                                                                                    (>
                                                                                                     (moving-average-return
                                                                                                      "BND"
                                                                                                      {:window
                                                                                                       10})
                                                                                                     (moving-average-return
                                                                                                      "TBX"
                                                                                                      {:window
                                                                                                       10}))
                                                                                                    [(weight-equal
                                                                                                      [(group
                                                                                                        "Risk ON"
                                                                                                        [(weight-specified
                                                                                                          0.3
                                                                                                          (group
                                                                                                           "Dividends"
                                                                                                           [(weight-equal
                                                                                                             [(asset
                                                                                                               "SCHD"
                                                                                                               "Schwab US Dividend Equity ETF")
                                                                                                              (asset
                                                                                                               "DGRO"
                                                                                                               "iShares Core Dividend Growth ETF")])])
                                                                                                          0.5
                                                                                                          (asset
                                                                                                           "TECL"
                                                                                                           "Direxion Daily Technology Bull 3x Shares")
                                                                                                          0.2
                                                                                                          (filter
                                                                                                           (rsi
                                                                                                            {:window
                                                                                                             12})
                                                                                                           (select-bottom
                                                                                                            1)
                                                                                                           [(asset
                                                                                                             "TMF"
                                                                                                             "Direxion Daily 20+ Year Treasury Bull 3X Shares")
                                                                                                            (asset
                                                                                                             "SVXY"
                                                                                                             "ProShares Short VIX Short-Term Futures ETF")]))])])]
                                                                                                    [(weight-equal
                                                                                                      [(group
                                                                                                        "Risk OFF"
                                                                                                        [(weight-specified
                                                                                                          0.3
                                                                                                          (group
                                                                                                           "Dividends"
                                                                                                           [(weight-equal
                                                                                                             [(asset
                                                                                                               "SCHD"
                                                                                                               "Schwab US Dividend Equity ETF")
                                                                                                              (asset
                                                                                                               "DGRO"
                                                                                                               "iShares Core Dividend Growth ETF")])])
                                                                                                          0.5
                                                                                                          (filter
                                                                                                           (rsi
                                                                                                            {:window
                                                                                                             12})
                                                                                                           (select-bottom
                                                                                                            1)
                                                                                                           [(asset
                                                                                                             "BTAL"
                                                                                                             "AGF U.S. Market Neutral Anti-Beta Fund")
                                                                                                            (asset
                                                                                                             "UGL"
                                                                                                             "ProShares Ultra Gold")
                                                                                                            (asset
                                                                                                             "SVXY"
                                                                                                             "ProShares Short VIX Short-Term Futures ETF")])
                                                                                                          0.2
                                                                                                          (filter
                                                                                                           (rsi
                                                                                                            {:window
                                                                                                             12})
                                                                                                           (select-bottom
                                                                                                            1)
                                                                                                           [(asset
                                                                                                             "DBC"
                                                                                                             "Invesco DB Commodity Index Tracking Fund")
                                                                                                            (asset
                                                                                                             "TMV"
                                                                                                             "Direxion Daily 20+ Year Treasury Bear 3x Shares")
                                                                                                            (asset
                                                                                                             "VIXM"
                                                                                                             "ProShares VIX Mid-Term Futures ETF")]))])])])])])])])])])]
                                                                                      [(group
                                                                                        "4th Block"
                                                                                        [(weight-equal
                                                                                          [(if
                                                                                            (>
                                                                                             (cumulative-return
                                                                                              "TQQQ"
                                                                                              {:window
                                                                                               1})
                                                                                             5.5)
                                                                                            [(weight-equal
                                                                                              [(filter
                                                                                                (exponential-moving-average-price
                                                                                                 {:window
                                                                                                  5})
                                                                                                (select-top
                                                                                                 1)
                                                                                                [(asset
                                                                                                  "UVXY"
                                                                                                  "ProShares Ultra VIX Short-Term Futures ETF")
                                                                                                 (asset
                                                                                                  "TECS"
                                                                                                  "Direxion Daily Technology Bear 3X Shares")])])]
                                                                                            [(weight-equal
                                                                                              [(group
                                                                                                "v1.2 | JEPI Jedi (BSC)"
                                                                                                [(weight-equal
                                                                                                  [(if
                                                                                                    (>
                                                                                                     (moving-average-return
                                                                                                      "BND"
                                                                                                      {:window
                                                                                                       10})
                                                                                                     (moving-average-return
                                                                                                      "TBX"
                                                                                                      {:window
                                                                                                       10}))
                                                                                                    [(weight-equal
                                                                                                      [(group
                                                                                                        "Risk ON"
                                                                                                        [(weight-specified
                                                                                                          0.3
                                                                                                          (group
                                                                                                           "Dividends"
                                                                                                           [(weight-equal
                                                                                                             [(asset
                                                                                                               "SCHD"
                                                                                                               "Schwab US Dividend Equity ETF")
                                                                                                              (asset
                                                                                                               "DGRO"
                                                                                                               "iShares Core Dividend Growth ETF")])])
                                                                                                          0.5
                                                                                                          (asset
                                                                                                           "TECL"
                                                                                                           "Direxion Daily Technology Bull 3x Shares")
                                                                                                          0.2
                                                                                                          (filter
                                                                                                           (rsi
                                                                                                            {:window
                                                                                                             12})
                                                                                                           (select-bottom
                                                                                                            1)
                                                                                                           [(asset
                                                                                                             "TMF"
                                                                                                             "Direxion Daily 20+ Year Treasury Bull 3X Shares")
                                                                                                            (asset
                                                                                                             "SVXY"
                                                                                                             "ProShares Short VIX Short-Term Futures ETF")]))])])]
                                                                                                    [(weight-equal
                                                                                                      [(group
                                                                                                        "Risk OFF"
                                                                                                        [(weight-specified
                                                                                                          0.3
                                                                                                          (group
                                                                                                           "Dividends"
                                                                                                           [(weight-equal
                                                                                                             [(asset
                                                                                                               "SCHD"
                                                                                                               "Schwab US Dividend Equity ETF")
                                                                                                              (asset
                                                                                                               "DGRO"
                                                                                                               "iShares Core Dividend Growth ETF")])])
                                                                                                          0.5
                                                                                                          (filter
                                                                                                           (rsi
                                                                                                            {:window
                                                                                                             12})
                                                                                                           (select-bottom
                                                                                                            1)
                                                                                                           [(asset
                                                                                                             "BTAL"
                                                                                                             "AGF U.S. Market Neutral Anti-Beta Fund")
                                                                                                            (asset
                                                                                                             "UGL"
                                                                                                             "ProShares Ultra Gold")
                                                                                                            (asset
                                                                                                             "SVXY"
                                                                                                             "ProShares Short VIX Short-Term Futures ETF")])
                                                                                                          0.2
                                                                                                          (filter
                                                                                                           (rsi
                                                                                                            {:window
                                                                                                             12})
                                                                                                           (select-bottom
                                                                                                            1)
                                                                                                           [(asset
                                                                                                             "DBC"
                                                                                                             "Invesco DB Commodity Index Tracking Fund")
                                                                                                            (asset
                                                                                                             "TMV"
                                                                                                             "Direxion Daily 20+ Year Treasury Bear 3x Shares")
                                                                                                            (asset
                                                                                                             "VIXM"
                                                                                                             "ProShares VIX Mid-Term Futures ETF")]))])])])])])])])])])])])])])])])])])])])]
                                                                  [(weight-equal
                                                                    [(group
                                                                      "Danger Market Conditions"
                                                                      [(weight-equal
                                                                        [(if
                                                                          (>
                                                                           (rsi
                                                                            "TQQQ"
                                                                            {:window
                                                                             10})
                                                                           80)
                                                                          [(weight-equal
                                                                            [(filter
                                                                              (cumulative-return
                                                                               {:window
                                                                                5})
                                                                              (select-bottom
                                                                               1)
                                                                              [(asset
                                                                                "TMV"
                                                                                "Direxion Daily 20+ Year Treasury Bear 3x Shares")
                                                                               (asset
                                                                                "UGL"
                                                                                "ProShares Ultra Gold")])])]
                                                                          [(weight-equal
                                                                            [(if
                                                                              (>
                                                                               (rsi
                                                                                "VIXY"
                                                                                {:window
                                                                                 10})
                                                                               50)
                                                                              [(weight-equal
                                                                                [(if
                                                                                  (<
                                                                                   (rsi
                                                                                    "TQQQ"
                                                                                    {:window
                                                                                     10})
                                                                                   31)
                                                                                  [(weight-equal
                                                                                    [(filter
                                                                                      (stdev-price
                                                                                       {:window
                                                                                        5})
                                                                                      (select-bottom
                                                                                       1)
                                                                                      [(asset
                                                                                        "SVXY"
                                                                                        "ProShares Short VIX Short-Term Futures ETF")
                                                                                       (asset
                                                                                        "SOXL"
                                                                                        "Direxion Daily Semiconductor Bull 3x Shares")
                                                                                       (asset
                                                                                        "ERX"
                                                                                        "Direxion Daily Energy Bull 2x Shares")
                                                                                       (asset
                                                                                        "TMV"
                                                                                        "Direxion Daily 20+ Year Treasury Bear 3x Shares")])])]
                                                                                  [(weight-equal
                                                                                    [(if
                                                                                      (<
                                                                                       (moving-average-return
                                                                                        "VIXY"
                                                                                        {:window
                                                                                         5})
                                                                                       0)
                                                                                      [(asset
                                                                                        "SVXY"
                                                                                        "ProShares Short VIX Short-Term Futures ETF")]
                                                                                      [(weight-equal
                                                                                        [(group
                                                                                          "v1.2 | JEPI Jedi (BSC)"
                                                                                          [(weight-equal
                                                                                            [(if
                                                                                              (>
                                                                                               (moving-average-return
                                                                                                "BND"
                                                                                                {:window
                                                                                                 10})
                                                                                               (moving-average-return
                                                                                                "TBX"
                                                                                                {:window
                                                                                                 10}))
                                                                                              [(weight-equal
                                                                                                [(group
                                                                                                  "Risk ON"
                                                                                                  [(weight-specified
                                                                                                    0.3
                                                                                                    (group
                                                                                                     "Dividends"
                                                                                                     [(weight-equal
                                                                                                       [(asset
                                                                                                         "SCHD"
                                                                                                         "Schwab US Dividend Equity ETF")
                                                                                                        (asset
                                                                                                         "DGRO"
                                                                                                         "iShares Core Dividend Growth ETF")])])
                                                                                                    0.5
                                                                                                    (asset
                                                                                                     "TECL"
                                                                                                     "Direxion Daily Technology Bull 3x Shares")
                                                                                                    0.2
                                                                                                    (filter
                                                                                                     (rsi
                                                                                                      {:window
                                                                                                       12})
                                                                                                     (select-bottom
                                                                                                      1)
                                                                                                     [(asset
                                                                                                       "TMF"
                                                                                                       "Direxion Daily 20+ Year Treasury Bull 3X Shares")
                                                                                                      (asset
                                                                                                       "SVXY"
                                                                                                       "ProShares Short VIX Short-Term Futures ETF")]))])])]
                                                                                              [(weight-equal
                                                                                                [(group
                                                                                                  "Risk OFF"
                                                                                                  [(weight-specified
                                                                                                    0.3
                                                                                                    (group
                                                                                                     "Dividends"
                                                                                                     [(weight-equal
                                                                                                       [(asset
                                                                                                         "SCHD"
                                                                                                         "Schwab US Dividend Equity ETF")
                                                                                                        (asset
                                                                                                         "DGRO"
                                                                                                         "iShares Core Dividend Growth ETF")])])
                                                                                                    0.5
                                                                                                    (filter
                                                                                                     (rsi
                                                                                                      {:window
                                                                                                       12})
                                                                                                     (select-bottom
                                                                                                      1)
                                                                                                     [(asset
                                                                                                       "BTAL"
                                                                                                       "AGF U.S. Market Neutral Anti-Beta Fund")
                                                                                                      (asset
                                                                                                       "UGL"
                                                                                                       "ProShares Ultra Gold")
                                                                                                      (asset
                                                                                                       "SVXY"
                                                                                                       "ProShares Short VIX Short-Term Futures ETF")])
                                                                                                    0.2
                                                                                                    (filter
                                                                                                     (rsi
                                                                                                      {:window
                                                                                                       12})
                                                                                                     (select-bottom
                                                                                                      1)
                                                                                                     [(asset
                                                                                                       "DBC"
                                                                                                       "Invesco DB Commodity Index Tracking Fund")
                                                                                                      (asset
                                                                                                       "TMV"
                                                                                                       "Direxion Daily 20+ Year Treasury Bear 3x Shares")
                                                                                                      (asset
                                                                                                       "VIXM"
                                                                                                       "ProShares VIX Mid-Term Futures ETF")]))])])])])])])])])])])]
                                                                              [(weight-equal
                                                                                [(if
                                                                                  (<
                                                                                   (rsi
                                                                                    "TQQQ"
                                                                                    {:window
                                                                                     10})
                                                                                   31)
                                                                                  [(weight-equal
                                                                                    [(asset
                                                                                      "SVXY"
                                                                                      "ProShares Short VIX Short-Term Futures ETF")])]
                                                                                  [(weight-equal
                                                                                    [(group
                                                                                      "v1.2 | JEPI Jedi (BSC)"
                                                                                      [(weight-equal
                                                                                        [(if
                                                                                          (>
                                                                                           (moving-average-return
                                                                                            "BND"
                                                                                            {:window
                                                                                             10})
                                                                                           (moving-average-return
                                                                                            "TBX"
                                                                                            {:window
                                                                                             10}))
                                                                                          [(weight-equal
                                                                                            [(group
                                                                                              "Risk ON"
                                                                                              [(weight-specified
                                                                                                0.3
                                                                                                (group
                                                                                                 "Dividends"
                                                                                                 [(weight-equal
                                                                                                   [(asset
                                                                                                     "SCHD"
                                                                                                     "Schwab US Dividend Equity ETF")
                                                                                                    (asset
                                                                                                     "DGRO"
                                                                                                     "iShares Core Dividend Growth ETF")])])
                                                                                                0.5
                                                                                                (asset
                                                                                                 "TECL"
                                                                                                 "Direxion Daily Technology Bull 3x Shares")
                                                                                                0.2
                                                                                                (filter
                                                                                                 (rsi
                                                                                                  {:window
                                                                                                   12})
                                                                                                 (select-bottom
                                                                                                  1)
                                                                                                 [(asset
                                                                                                   "TMF"
                                                                                                   "Direxion Daily 20+ Year Treasury Bull 3X Shares")
                                                                                                  (asset
                                                                                                   "SVXY"
                                                                                                   "ProShares Short VIX Short-Term Futures ETF")]))])])]
                                                                                          [(weight-equal
                                                                                            [(group
                                                                                              "Risk OFF"
                                                                                              [(weight-specified
                                                                                                0.3
                                                                                                (group
                                                                                                 "Dividends"
                                                                                                 [(weight-equal
                                                                                                   [(asset
                                                                                                     "SCHD"
                                                                                                     "Schwab US Dividend Equity ETF")
                                                                                                    (asset
                                                                                                     "DGRO"
                                                                                                     "iShares Core Dividend Growth ETF")])])
                                                                                                0.5
                                                                                                (filter
                                                                                                 (rsi
                                                                                                  {:window
                                                                                                   12})
                                                                                                 (select-bottom
                                                                                                  1)
                                                                                                 [(asset
                                                                                                   "BTAL"
                                                                                                   "AGF U.S. Market Neutral Anti-Beta Fund")
                                                                                                  (asset
                                                                                                   "UGL"
                                                                                                   "ProShares Ultra Gold")
                                                                                                  (asset
                                                                                                   "SVXY"
                                                                                                   "ProShares Short VIX Short-Term Futures ETF")])
                                                                                                0.2
                                                                                                (filter
                                                                                                 (rsi
                                                                                                  {:window
                                                                                                   12})
                                                                                                 (select-bottom
                                                                                                  1)
                                                                                                 [(asset
                                                                                                   "DBC"
                                                                                                   "Invesco DB Commodity Index Tracking Fund")
                                                                                                  (asset
                                                                                                   "TMV"
                                                                                                   "Direxion Daily 20+ Year Treasury Bear 3x Shares")
                                                                                                  (asset
                                                                                                   "VIXM"
                                                                                                   "ProShares VIX Mid-Term Futures ETF")]))])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])
         (group
          "Base 2 - FTLT or Bull or Bonds (UVXY)"
          [(weight-equal
            [(if
              (> (rsi "QQQE" {:window 10}) 79)
              [(asset
                "UVXY"
                "ProShares Ultra VIX Short-Term Futures ETF")]
              [(weight-equal
                [(if
                  (> (rsi "VTV" {:window 10}) 79)
                  [(asset
                    "UVXY"
                    "ProShares Ultra VIX Short-Term Futures ETF")]
                  [(weight-equal
                    [(if
                      (> (rsi "VOX" {:window 10}) 79)
                      [(asset
                        "UVXY"
                        "ProShares Ultra VIX Short-Term Futures ETF")]
                      [(weight-equal
                        [(if
                          (> (rsi "TECL" {:window 10}) 79)
                          [(asset
                            "UVXY"
                            "ProShares Ultra VIX Short-Term Futures ETF")]
                          [(weight-equal
                            [(if
                              (> (rsi "VOOG" {:window 10}) 79)
                              [(asset
                                "UVXY"
                                "ProShares Ultra VIX Short-Term Futures ETF")]
                              [(weight-equal
                                [(if
                                  (> (rsi "VOOV" {:window 10}) 79)
                                  [(asset
                                    "UVXY"
                                    "ProShares Ultra VIX Short-Term Futures ETF")]
                                  [(weight-equal
                                    [(if
                                      (> (rsi "XLP" {:window 10}) 75)
                                      [(asset
                                        "UVXY"
                                        "ProShares Ultra VIX Short-Term Futures ETF")]
                                      [(weight-equal
                                        [(if
                                          (>
                                           (rsi "TQQQ" {:window 10})
                                           79)
                                          [(weight-equal
                                            [(asset
                                              "UVXY"
                                              "ProShares Ultra VIX Short-Term Futures ETF")])]
                                          [(weight-equal
                                            [(if
                                              (>
                                               (rsi "XLY" {:window 10})
                                               80)
                                              [(asset
                                                "UVXY"
                                                "ProShares Ultra VIX Short-Term Futures ETF")]
                                              [(weight-equal
                                                [(if
                                                  (>
                                                   (rsi
                                                    "FAS"
                                                    {:window 10})
                                                   80)
                                                  [(asset
                                                    "UVXY"
                                                    "ProShares Ultra VIX Short-Term Futures ETF")]
                                                  [(weight-equal
                                                    [(if
                                                      (>
                                                       (rsi
                                                        "SPY"
                                                        {:window 10})
                                                       80)
                                                      [(asset
                                                        "UVXY"
                                                        "ProShares Ultra VIX Short-Term Futures ETF")]
                                                      [(weight-equal
                                                        [(if
                                                          (<
                                                           (cumulative-return
                                                            "TQQQ"
                                                            {:window
                                                             6})
                                                           -12)
                                                          [(weight-equal
                                                            [(if
                                                              (>
                                                               (cumulative-return
                                                                "TQQQ"
                                                                {:window
                                                                 1})
                                                               5.5)
                                                              [(weight-equal
                                                                [(asset
                                                                  "UVXY"
                                                                  "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                              [(weight-equal
                                                                [(group
                                                                  "FTLT or Safety Town"
                                                                  [(weight-equal
                                                                    [(if
                                                                      (<
                                                                       (rsi
                                                                        "TQQQ"
                                                                        {:window
                                                                         10})
                                                                       30)
                                                                      [(asset
                                                                        "TECL"
                                                                        "Direxion Daily Technology Bull 3x Shares")]
                                                                      [(weight-equal
                                                                        [(if
                                                                          (<
                                                                           (rsi
                                                                            "SOXL"
                                                                            {:window
                                                                             10})
                                                                           30)
                                                                          [(asset
                                                                            "SOXL"
                                                                            "Direxion Daily Semiconductor Bull 3x Shares")]
                                                                          [(weight-equal
                                                                            [(if
                                                                              (<
                                                                               (rsi
                                                                                "SPXL"
                                                                                {:window
                                                                                 10})
                                                                               30)
                                                                              [(asset
                                                                                "SPXL"
                                                                                "Direxion Daily S&P 500 Bull 3x Shares")]
                                                                              [(weight-equal
                                                                                [(group
                                                                                  "Bull or Safety Town - Base 2"
                                                                                  [(weight-equal
                                                                                    [(if
                                                                                      (>
                                                                                       (rsi
                                                                                        "SPY"
                                                                                        {:window
                                                                                         126})
                                                                                       (rsi
                                                                                        "XLU"
                                                                                        {:window
                                                                                         126}))
                                                                                      [(weight-equal
                                                                                        [(group
                                                                                          "Bull (Commodities?)"
                                                                                          [(weight-equal
                                                                                            [(if
                                                                                              (<
                                                                                               (rsi
                                                                                                "XLK"
                                                                                                {:window
                                                                                                 126})
                                                                                               (rsi
                                                                                                "DBC"
                                                                                                {:window
                                                                                                 126}))
                                                                                              [(weight-equal
                                                                                                [(filter
                                                                                                  (cumulative-return
                                                                                                   {:window
                                                                                                    5})
                                                                                                  (select-top
                                                                                                   1)
                                                                                                  [(asset
                                                                                                    "ERX"
                                                                                                    "Direxion Daily Energy Bull 2x Shares")
                                                                                                   (asset
                                                                                                    "TECL"
                                                                                                    "Direxion Daily Technology Bull 3x Shares")])])]
                                                                                              [(weight-equal
                                                                                                [(asset
                                                                                                  "TECL"
                                                                                                  "Direxion Daily Technology Bull 3x Shares")])])])])])]
                                                                                      [(weight-equal
                                                                                        [(if
                                                                                          (<
                                                                                           (rsi
                                                                                            "TLT"
                                                                                            {:window
                                                                                             126})
                                                                                           50)
                                                                                          [(weight-equal
                                                                                            [(group
                                                                                              "TECL (18.3-13.7)"
                                                                                              [(weight-equal
                                                                                                [(if
                                                                                                  (<
                                                                                                   (rsi
                                                                                                    "TECL"
                                                                                                    {:window
                                                                                                     21})
                                                                                                   (rsi
                                                                                                    "AGG"
                                                                                                    {:window
                                                                                                     21}))
                                                                                                  [(asset
                                                                                                    "TECL"
                                                                                                    "Direxion Daily Technology Bull 3x Shares")]
                                                                                                  [(weight-equal
                                                                                                    [(group
                                                                                                      "Safety Town l AR 41.9% DD 11.5% B -0.11"
                                                                                                      [(weight-equal
                                                                                                        [(if
                                                                                                          (>=
                                                                                                           (rsi
                                                                                                            "SPY"
                                                                                                            {:window
                                                                                                             10})
                                                                                                           70)
                                                                                                          [(weight-equal
                                                                                                            [(asset
                                                                                                              "VIXM"
                                                                                                              "ProShares VIX Mid-Term Futures ETF")
                                                                                                             (asset
                                                                                                              "UVXY"
                                                                                                              "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                                          [(weight-equal
                                                                                                            [(if
                                                                                                              (>=
                                                                                                               (rsi
                                                                                                                "SPY"
                                                                                                                {:window
                                                                                                                 10})
                                                                                                               70)
                                                                                                              [(weight-equal
                                                                                                                [(asset
                                                                                                                  "VIXM"
                                                                                                                  "ProShares VIX Mid-Term Futures ETF")
                                                                                                                 (asset
                                                                                                                  "UVXY"
                                                                                                                  "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                                              [(weight-equal
                                                                                                                [(if
                                                                                                                  (>
                                                                                                                   (rsi
                                                                                                                    "SPY"
                                                                                                                    {:window
                                                                                                                     126})
                                                                                                                   (rsi
                                                                                                                    "XLU"
                                                                                                                    {:window
                                                                                                                     126}))
                                                                                                                  [(weight-equal
                                                                                                                    [(group
                                                                                                                      "A"
                                                                                                                      [(weight-equal
                                                                                                                        [(filter
                                                                                                                          (stdev-price
                                                                                                                           {:window
                                                                                                                            21})
                                                                                                                          (select-top
                                                                                                                           2)
                                                                                                                          [(asset
                                                                                                                            "SVXY"
                                                                                                                            "ProShares Short VIX Short-Term Futures ETF")
                                                                                                                           (asset
                                                                                                                            "VIXM"
                                                                                                                            "ProShares VIX Mid-Term Futures ETF")
                                                                                                                           (asset
                                                                                                                            "BTAL"
                                                                                                                            "AGFiQ US Market Neutral Anti-Beta Fund")])])])
                                                                                                                     (group
                                                                                                                      "B"
                                                                                                                      [(weight-equal
                                                                                                                        [(asset
                                                                                                                          "SVXY"
                                                                                                                          "ProShares Short VIX Short-Term Futures ETF")
                                                                                                                         (group
                                                                                                                          "VIXM & BTAL"
                                                                                                                          [(weight-equal
                                                                                                                            [(asset
                                                                                                                              "BTAL"
                                                                                                                              "AGFiQ US Market Neutral Anti-Beta Fund")
                                                                                                                             (asset
                                                                                                                              "VIXM"
                                                                                                                              "ProShares VIX Mid-Term Futures ETF")])])])])])]
                                                                                                                  [(weight-equal
                                                                                                                    [(group
                                                                                                                      "A"
                                                                                                                      [(weight-equal
                                                                                                                        [(filter
                                                                                                                          (stdev-price
                                                                                                                           {:window
                                                                                                                            21})
                                                                                                                          (select-top
                                                                                                                           2)
                                                                                                                          [(asset
                                                                                                                            "SVXY"
                                                                                                                            "ProShares Short VIX Short-Term Futures ETF")
                                                                                                                           (asset
                                                                                                                            "VIXM"
                                                                                                                            "ProShares VIX Mid-Term Futures ETF")
                                                                                                                           (asset
                                                                                                                            "BTAL"
                                                                                                                            "AGFiQ US Market Neutral Anti-Beta Fund")])])])])])])])])])])])])])])])])]
                                                                                          [(weight-equal
                                                                                            [(group
                                                                                              "TMF or USDU"
                                                                                              [(weight-equal
                                                                                                [(filter
                                                                                                  (rsi
                                                                                                   {:window
                                                                                                    21})
                                                                                                  (select-bottom
                                                                                                   1)
                                                                                                  [(asset
                                                                                                    "TMF"
                                                                                                    "Direxion Daily 20+ Year Treasury Bull 3X Shares")
                                                                                                   (asset
                                                                                                    "USDU"
                                                                                                    "WisdomTree Bloomberg US Dollar Bullish Fund")])])])])])])])])])])])])])])])])])])])])]
                                                          [(weight-equal
                                                            [(group
                                                              "FTLT or Safety Town"
                                                              [(weight-equal
                                                                [(if
                                                                  (<
                                                                   (rsi
                                                                    "TQQQ"
                                                                    {:window
                                                                     10})
                                                                   30)
                                                                  [(asset
                                                                    "TECL"
                                                                    "Direxion Daily Technology Bull 3x Shares")]
                                                                  [(weight-equal
                                                                    [(if
                                                                      (<
                                                                       (rsi
                                                                        "SOXL"
                                                                        {:window
                                                                         10})
                                                                       30)
                                                                      [(asset
                                                                        "SOXL"
                                                                        "Direxion Daily Semiconductor Bull 3x Shares")]
                                                                      [(weight-equal
                                                                        [(if
                                                                          (<
                                                                           (rsi
                                                                            "SPXL"
                                                                            {:window
                                                                             10})
                                                                           30)
                                                                          [(asset
                                                                            "SPXL"
                                                                            "Direxion Daily S&P 500 Bull 3x Shares")]
                                                                          [(weight-equal
                                                                            [(group
                                                                              "Bull or Safety Town - Base 2"
                                                                              [(weight-equal
                                                                                [(if
                                                                                  (>
                                                                                   (rsi
                                                                                    "SPY"
                                                                                    {:window
                                                                                     126})
                                                                                   (rsi
                                                                                    "XLU"
                                                                                    {:window
                                                                                     126}))
                                                                                  [(weight-equal
                                                                                    [(group
                                                                                      "Bull (Commodities?)"
                                                                                      [(weight-equal
                                                                                        [(if
                                                                                          (<
                                                                                           (rsi
                                                                                            "XLK"
                                                                                            {:window
                                                                                             126})
                                                                                           (rsi
                                                                                            "DBC"
                                                                                            {:window
                                                                                             126}))
                                                                                          [(weight-equal
                                                                                            [(filter
                                                                                              (cumulative-return
                                                                                               {:window
                                                                                                5})
                                                                                              (select-top
                                                                                               1)
                                                                                              [(asset
                                                                                                "ERX"
                                                                                                "Direxion Daily Energy Bull 2x Shares")
                                                                                               (asset
                                                                                                "TECL"
                                                                                                "Direxion Daily Technology Bull 3x Shares")])])]
                                                                                          [(weight-equal
                                                                                            [(asset
                                                                                              "TECL"
                                                                                              "Direxion Daily Technology Bull 3x Shares")])])])])])]
                                                                                  [(weight-equal
                                                                                    [(if
                                                                                      (<
                                                                                       (rsi
                                                                                        "TLT"
                                                                                        {:window
                                                                                         126})
                                                                                       50)
                                                                                      [(weight-equal
                                                                                        [(group
                                                                                          "TECL (18.3-13.7)"
                                                                                          [(weight-equal
                                                                                            [(if
                                                                                              (<
                                                                                               (rsi
                                                                                                "TECL"
                                                                                                {:window
                                                                                                 21})
                                                                                               (rsi
                                                                                                "AGG"
                                                                                                {:window
                                                                                                 21}))
                                                                                              [(asset
                                                                                                "TECL"
                                                                                                "Direxion Daily Technology Bull 3x Shares")]
                                                                                              [(weight-equal
                                                                                                [(group
                                                                                                  "Safety Town l AR 41.9% DD 11.5% B -0.11"
                                                                                                  [(weight-equal
                                                                                                    [(if
                                                                                                      (>=
                                                                                                       (rsi
                                                                                                        "SPY"
                                                                                                        {:window
                                                                                                         10})
                                                                                                       70)
                                                                                                      [(weight-equal
                                                                                                        [(asset
                                                                                                          "VIXM"
                                                                                                          "ProShares VIX Mid-Term Futures ETF")
                                                                                                         (asset
                                                                                                          "UVXY"
                                                                                                          "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                                      [(weight-equal
                                                                                                        [(if
                                                                                                          (>=
                                                                                                           (rsi
                                                                                                            "SPY"
                                                                                                            {:window
                                                                                                             10})
                                                                                                           70)
                                                                                                          [(weight-equal
                                                                                                            [(asset
                                                                                                              "VIXM"
                                                                                                              "ProShares VIX Mid-Term Futures ETF")
                                                                                                             (asset
                                                                                                              "UVXY"
                                                                                                              "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                                          [(weight-equal
                                                                                                            [(if
                                                                                                              (>
                                                                                                               (rsi
                                                                                                                "SPY"
                                                                                                                {:window
                                                                                                                 126})
                                                                                                               (rsi
                                                                                                                "XLU"
                                                                                                                {:window
                                                                                                                 126}))
                                                                                                              [(weight-equal
                                                                                                                [(group
                                                                                                                  "A"
                                                                                                                  [(weight-equal
                                                                                                                    [(filter
                                                                                                                      (stdev-price
                                                                                                                       {:window
                                                                                                                        21})
                                                                                                                      (select-top
                                                                                                                       2)
                                                                                                                      [(asset
                                                                                                                        "SVXY"
                                                                                                                        "ProShares Short VIX Short-Term Futures ETF")
                                                                                                                       (asset
                                                                                                                        "VIXM"
                                                                                                                        "ProShares VIX Mid-Term Futures ETF")
                                                                                                                       (asset
                                                                                                                        "BTAL"
                                                                                                                        "AGFiQ US Market Neutral Anti-Beta Fund")])])])
                                                                                                                 (group
                                                                                                                  "B"
                                                                                                                  [(weight-equal
                                                                                                                    [(asset
                                                                                                                      "SVXY"
                                                                                                                      "ProShares Short VIX Short-Term Futures ETF")
                                                                                                                     (group
                                                                                                                      "VIXM & BTAL"
                                                                                                                      [(weight-equal
                                                                                                                        [(asset
                                                                                                                          "BTAL"
                                                                                                                          "AGFiQ US Market Neutral Anti-Beta Fund")
                                                                                                                         (asset
                                                                                                                          "VIXM"
                                                                                                                          "ProShares VIX Mid-Term Futures ETF")])])])])])]
                                                                                                              [(weight-equal
                                                                                                                [(group
                                                                                                                  "A"
                                                                                                                  [(weight-equal
                                                                                                                    [(filter
                                                                                                                      (stdev-price
                                                                                                                       {:window
                                                                                                                        21})
                                                                                                                      (select-top
                                                                                                                       2)
                                                                                                                      [(asset
                                                                                                                        "SVXY"
                                                                                                                        "ProShares Short VIX Short-Term Futures ETF")
                                                                                                                       (asset
                                                                                                                        "VIXM"
                                                                                                                        "ProShares VIX Mid-Term Futures ETF")
                                                                                                                       (asset
                                                                                                                        "BTAL"
                                                                                                                        "AGFiQ US Market Neutral Anti-Beta Fund")])])])])])])])])])])])])])])])])]
                                                                                      [(weight-equal
                                                                                        [(group
                                                                                          "TMF or USDU"
                                                                                          [(weight-equal
                                                                                            [(filter
                                                                                              (rsi
                                                                                               {:window
                                                                                                21})
                                                                                              (select-bottom
                                                                                               1)
                                                                                              [(asset
                                                                                                "TMF"
                                                                                                "Direxion Daily 20+ Year Treasury Bull 3X Shares")
                                                                                               (asset
                                                                                                "USDU"
                                                                                                "WisdomTree Bloomberg US Dollar Bullish Fund")])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])
         (group
          "Safety Town l AR 41.9% DD 11.5% B -0.11"
          [(weight-equal
            [(if
              (>= (rsi "SPY" {:window 10}) 70)
              [(weight-equal
                [(asset "VIXM" "ProShares VIX Mid-Term Futures ETF")
                 (asset
                  "UVXY"
                  "ProShares Ultra VIX Short-Term Futures ETF")])]
              [(weight-equal
                [(if
                  (>
                   (rsi "SPY" {:window 126})
                   (rsi "XLU" {:window 126}))
                  [(weight-equal
                    [(group
                      "A"
                      [(weight-equal
                        [(filter
                          (stdev-price {:window 21})
                          (select-top 2)
                          [(asset
                            "SVXY"
                            "ProShares Short VIX Short-Term Futures ETF")
                           (asset
                            "VIXM"
                            "ProShares VIX Mid-Term Futures ETF")
                           (asset
                            "BTAL"
                            "AGFiQ US Market Neutral Anti-Beta Fund")])])])
                     (group
                      "B"
                      [(weight-equal
                        [(asset
                          "SVXY"
                          "ProShares Short VIX Short-Term Futures ETF")
                         (group
                          "VIXM & BTAL"
                          [(weight-equal
                            [(asset
                              "BTAL"
                              "AGFiQ US Market Neutral Anti-Beta Fund")
                             (asset
                              "VIXM"
                              "ProShares VIX Mid-Term Futures ETF")])])])])])]
                  [(weight-equal
                    [(group
                      "A"
                      [(weight-equal
                        [(filter
                          (stdev-price {:window 21})
                          (select-top 2)
                          [(asset
                            "SVXY"
                            "ProShares Short VIX Short-Term Futures ETF")
                           (asset
                            "VIXM"
                            "ProShares VIX Mid-Term Futures ETF")
                           (asset
                            "BTAL"
                            "AGFiQ US Market Neutral Anti-Beta Fund")])])])])])])])])])
         (group
          "Safety Town l AR 26.3% DD 8.3% B -0.01"
          [(weight-equal
            [(if
              (>= (rsi "SPY" {:window 10}) 70)
              [(weight-equal
                [(asset "VIXM" "ProShares VIX Mid-Term Futures ETF")])]
              [(weight-equal
                [(if
                  (>
                   (rsi "SPY" {:window 126})
                   (rsi "XLU" {:window 126}))
                  [(weight-equal
                    [(group
                      "A"
                      [(weight-equal
                        [(filter
                          (stdev-price {:window 21})
                          (select-top 2)
                          [(asset
                            "SVXY"
                            "ProShares Short VIX Short-Term Futures ETF")
                           (asset
                            "VIXM"
                            "ProShares VIX Mid-Term Futures ETF")
                           (asset
                            "BTAL"
                            "AGFiQ US Market Neutral Anti-Beta Fund")])])])
                     (group
                      "B"
                      [(weight-equal
                        [(asset
                          "SVXY"
                          "ProShares Short VIX Short-Term Futures ETF")
                         (group
                          "VIXM & BTAL"
                          [(weight-equal
                            [(asset
                              "BTAL"
                              "AGFiQ US Market Neutral Anti-Beta Fund")
                             (asset
                              "VIXM"
                              "ProShares VIX Mid-Term Futures ETF")])])])])])]
                  [(weight-equal
                    [(group
                      "A"
                      [(weight-equal
                        [(filter
                          (stdev-price {:window 21})
                          (select-top 2)
                          [(asset
                            "SVXY"
                            "ProShares Short VIX Short-Term Futures ETF")
                           (asset
                            "VIXM"
                            "ProShares VIX Mid-Term Futures ETF")
                           (asset
                            "BTAL"
                            "AGFiQ US Market Neutral Anti-Beta Fund")])])])])])])])])])
         (group
          "v4 Pops"
          [(weight-equal
            [(if
              (> (rsi "QQQE" {:window 10}) 79)
              [(asset
                "UVXY"
                "ProShares Ultra VIX Short-Term Futures ETF")]
              [(weight-equal
                [(if
                  (> (rsi "VTV" {:window 10}) 79)
                  [(asset
                    "UVXY"
                    "ProShares Ultra VIX Short-Term Futures ETF")]
                  [(weight-equal
                    [(if
                      (> (rsi "VOX" {:window 10}) 79)
                      [(asset
                        "UVXY"
                        "ProShares Ultra VIX Short-Term Futures ETF")]
                      [(weight-equal
                        [(if
                          (<= (max-drawdown "SPY" {:window 9}) 0)
                          [(asset
                            "UVXY"
                            "ProShares Ultra VIX Short-Term Futures ETF")]
                          [(weight-equal
                            [(if
                              (> (rsi "TECL" {:window 10}) 79)
                              [(asset
                                "UVXY"
                                "ProShares Ultra VIX Short-Term Futures ETF")]
                              [(weight-equal
                                [(if
                                  (> (rsi "VOOG" {:window 10}) 79)
                                  [(asset
                                    "UVXY"
                                    "ProShares Ultra VIX Short-Term Futures ETF")]
                                  [(weight-equal
                                    [(if
                                      (> (rsi "VOOV" {:window 10}) 79)
                                      [(asset
                                        "UVXY"
                                        "ProShares Ultra VIX Short-Term Futures ETF")]
                                      [(weight-equal
                                        [(if
                                          (>
                                           (rsi "XLP" {:window 10})
                                           75)
                                          [(asset
                                            "UVXY"
                                            "ProShares Ultra VIX Short-Term Futures ETF")]
                                          [(weight-equal
                                            [(if
                                              (>
                                               (rsi
                                                "TQQQ"
                                                {:window 10})
                                               79)
                                              [(weight-equal
                                                [(asset
                                                  "UVXY"
                                                  "ProShares Ultra VIX Short-Term Futures ETF")])]
                                              [(weight-equal
                                                [(if
                                                  (>
                                                   (rsi
                                                    "XLY"
                                                    {:window 10})
                                                   80)
                                                  [(asset
                                                    "UVXY"
                                                    "ProShares Ultra VIX Short-Term Futures ETF")]
                                                  [(weight-equal
                                                    [(if
                                                      (>
                                                       (rsi
                                                        "FAS"
                                                        {:window 10})
                                                       80)
                                                      [(asset
                                                        "UVXY"
                                                        "ProShares Ultra VIX Short-Term Futures ETF")]
                                                      [(weight-equal
                                                        [(if
                                                          (>
                                                           (rsi
                                                            "SPY"
                                                            {:window
                                                             10})
                                                           80)
                                                          [(asset
                                                            "UVXY"
                                                            "ProShares Ultra VIX Short-Term Futures ETF")]
                                                          [(weight-equal
                                                            [(if
                                                              (<
                                                               (cumulative-return
                                                                "TQQQ"
                                                                {:window
                                                                 6})
                                                               -12)
                                                              [(weight-equal
                                                                [(if
                                                                  (>
                                                                   (cumulative-return
                                                                    "TQQQ"
                                                                    {:window
                                                                     1})
                                                                   5.5)
                                                                  [(weight-equal
                                                                    [(asset
                                                                      "UVXY"
                                                                      "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                  [(weight-equal
                                                                    [(group
                                                                      "VMS popped TECL or Not"
                                                                      [(weight-equal
                                                                        [(if
                                                                          (>
                                                                           (rsi
                                                                            "XLK"
                                                                            {:window
                                                                             126})
                                                                           (rsi
                                                                            "XLP"
                                                                            {:window
                                                                             126}))
                                                                          [(weight-equal
                                                                            [(group
                                                                              "Bullish Market Conditions"
                                                                              [(weight-equal
                                                                                [(if
                                                                                  (>
                                                                                   (rsi
                                                                                    "TQQQ"
                                                                                    {:window
                                                                                     10})
                                                                                   80)
                                                                                  [(weight-equal
                                                                                    [(asset
                                                                                      "UVXY"
                                                                                      "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                  [(weight-equal
                                                                                    [(if
                                                                                      (<
                                                                                       (rsi
                                                                                        "TQQQ"
                                                                                        {:window
                                                                                         10})
                                                                                       31)
                                                                                      [(weight-equal
                                                                                        [(filter
                                                                                          (moving-average-return
                                                                                           {:window
                                                                                            5})
                                                                                          (select-bottom
                                                                                           1)
                                                                                          [(asset
                                                                                            "TECL"
                                                                                            "Direxion Daily Technology Bull 3x Shares")
                                                                                           (asset
                                                                                            "SOXL"
                                                                                            "Direxion Daily Semiconductor Bull 3x Shares")
                                                                                           (asset
                                                                                            "TMF"
                                                                                            "Direxion Daily 20+ Year Treasury Bull 3X Shares")])])]
                                                                                      [(weight-equal
                                                                                        [(if
                                                                                          (>
                                                                                           (rsi
                                                                                            "VIXY"
                                                                                            {:window
                                                                                             10})
                                                                                           50)
                                                                                          [(weight-equal
                                                                                            [(if
                                                                                              (<
                                                                                               (moving-average-return
                                                                                                "VIXY"
                                                                                                {:window
                                                                                                 5})
                                                                                               0)
                                                                                              [(group
                                                                                                "1st Block"
                                                                                                [(weight-equal
                                                                                                  [(if
                                                                                                    (>
                                                                                                     (cumulative-return
                                                                                                      "TQQQ"
                                                                                                      {:window
                                                                                                       1})
                                                                                                     5.5)
                                                                                                    [(weight-equal
                                                                                                      [(asset
                                                                                                        "VIXM"
                                                                                                        "ProShares VIX Mid-Term Futures ETF")])]
                                                                                                    [(weight-equal
                                                                                                      [(group
                                                                                                        "TECL or Not"
                                                                                                        [(weight-equal
                                                                                                          [(if
                                                                                                            (>
                                                                                                             (rsi
                                                                                                              "TQQQ"
                                                                                                              {:window
                                                                                                               10})
                                                                                                             79)
                                                                                                            [(asset
                                                                                                              "UVXY"
                                                                                                              "ProShares Ultra VIX Short-Term Futures ETF")]
                                                                                                            [(weight-equal
                                                                                                              [(group
                                                                                                                "Huge volatility"
                                                                                                                [(weight-equal
                                                                                                                  [(if
                                                                                                                    (<
                                                                                                                     (cumulative-return
                                                                                                                      "TQQQ"
                                                                                                                      {:window
                                                                                                                       6})
                                                                                                                     -13)
                                                                                                                    [(weight-equal
                                                                                                                      [(if
                                                                                                                        (>
                                                                                                                         (cumulative-return
                                                                                                                          "TQQQ"
                                                                                                                          {:window
                                                                                                                           1})
                                                                                                                         6)
                                                                                                                        [(weight-equal
                                                                                                                          [(asset
                                                                                                                            "UVXY"
                                                                                                                            "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                                                        [(weight-equal
                                                                                                                          [(group
                                                                                                                            "Mean Rev"
                                                                                                                            [(weight-equal
                                                                                                                              [(if
                                                                                                                                (<
                                                                                                                                 (rsi
                                                                                                                                  "TQQQ"
                                                                                                                                  {:window
                                                                                                                                   10})
                                                                                                                                 32)
                                                                                                                                [(asset
                                                                                                                                  "TECL"
                                                                                                                                  "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                [(weight-equal
                                                                                                                                  [(if
                                                                                                                                    (<
                                                                                                                                     (max-drawdown
                                                                                                                                      "TMF"
                                                                                                                                      {:window
                                                                                                                                       10})
                                                                                                                                     7)
                                                                                                                                    [(asset
                                                                                                                                      "TECL"
                                                                                                                                      "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                    [(weight-equal
                                                                                                                                      [(asset
                                                                                                                                        "BIL"
                                                                                                                                        "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])]
                                                                                                                    [(weight-equal
                                                                                                                      [(group
                                                                                                                        "Normal market"
                                                                                                                        [(weight-equal
                                                                                                                          [(if
                                                                                                                            (>
                                                                                                                             (max-drawdown
                                                                                                                              "QQQ"
                                                                                                                              {:window
                                                                                                                               10})
                                                                                                                             6)
                                                                                                                            [(weight-equal
                                                                                                                              [(asset
                                                                                                                                "BIL"
                                                                                                                                "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                            [(weight-equal
                                                                                                                              [(if
                                                                                                                                (>
                                                                                                                                 (max-drawdown
                                                                                                                                  "TMF"
                                                                                                                                  {:window
                                                                                                                                   10})
                                                                                                                                 7)
                                                                                                                                [(weight-equal
                                                                                                                                  [(asset
                                                                                                                                    "BIL"
                                                                                                                                    "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                                [(weight-equal
                                                                                                                                  [(if
                                                                                                                                    (>
                                                                                                                                     (current-price
                                                                                                                                      "QQQ")
                                                                                                                                     (moving-average-price
                                                                                                                                      "QQQ"
                                                                                                                                      {:window
                                                                                                                                       25}))
                                                                                                                                    [(weight-equal
                                                                                                                                      [(asset
                                                                                                                                        "TECL"
                                                                                                                                        "Direxion Daily Technology Bull 3x Shares")])]
                                                                                                                                    [(weight-equal
                                                                                                                                      [(if
                                                                                                                                        (>
                                                                                                                                         (rsi
                                                                                                                                          "SPY"
                                                                                                                                          {:window
                                                                                                                                           60})
                                                                                                                                         50)
                                                                                                                                        [(group
                                                                                                                                          "Bond > Stock"
                                                                                                                                          [(weight-equal
                                                                                                                                            [(if
                                                                                                                                              (>
                                                                                                                                               (rsi
                                                                                                                                                "BND"
                                                                                                                                                {:window
                                                                                                                                                 45})
                                                                                                                                               (rsi
                                                                                                                                                "SPY"
                                                                                                                                                {:window
                                                                                                                                                 45}))
                                                                                                                                              [(asset
                                                                                                                                                "TECL"
                                                                                                                                                "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                              [(weight-equal
                                                                                                                                                [(asset
                                                                                                                                                  "BIL"
                                                                                                                                                  "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])]
                                                                                                                                        [(group
                                                                                                                                          "Bond Mid-term < Long-term"
                                                                                                                                          [(weight-equal
                                                                                                                                            [(if
                                                                                                                                              (<
                                                                                                                                               (rsi
                                                                                                                                                "IEF"
                                                                                                                                                {:window
                                                                                                                                                 200})
                                                                                                                                               (rsi
                                                                                                                                                "TLT"
                                                                                                                                                {:window
                                                                                                                                                 200}))
                                                                                                                                              [(weight-equal
                                                                                                                                                [(if
                                                                                                                                                  (>
                                                                                                                                                   (rsi
                                                                                                                                                    "BND"
                                                                                                                                                    {:window
                                                                                                                                                     45})
                                                                                                                                                   (rsi
                                                                                                                                                    "SPY"
                                                                                                                                                    {:window
                                                                                                                                                     45}))
                                                                                                                                                  [(asset
                                                                                                                                                    "TECL"
                                                                                                                                                    "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                                  [(weight-equal
                                                                                                                                                    [(asset
                                                                                                                                                      "BIL"
                                                                                                                                                      "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])]
                                                                                                                                              [(weight-equal
                                                                                                                                                [(asset
                                                                                                                                                  "BIL"
                                                                                                                                                  "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])])])])])])])])])])])])])])])])])]
                                                                                              [(group
                                                                                                "2nd Block"
                                                                                                [(weight-equal
                                                                                                  [(if
                                                                                                    (>
                                                                                                     (cumulative-return
                                                                                                      "TQQQ"
                                                                                                      {:window
                                                                                                       1})
                                                                                                     5.5)
                                                                                                    [(weight-equal
                                                                                                      [(filter
                                                                                                        (exponential-moving-average-price
                                                                                                         {:window
                                                                                                          5})
                                                                                                        (select-bottom
                                                                                                         1)
                                                                                                        [(asset
                                                                                                          "UVXY"
                                                                                                          "ProShares Ultra VIX Short-Term Futures ETF")
                                                                                                         (asset
                                                                                                          "TECS"
                                                                                                          "Direxion Daily Technology Bear 3X Shares")])])]
                                                                                                    [(weight-equal
                                                                                                      [(group
                                                                                                        "TECL or Not"
                                                                                                        [(weight-equal
                                                                                                          [(if
                                                                                                            (>
                                                                                                             (rsi
                                                                                                              "TQQQ"
                                                                                                              {:window
                                                                                                               10})
                                                                                                             79)
                                                                                                            [(asset
                                                                                                              "UVXY"
                                                                                                              "ProShares Ultra VIX Short-Term Futures ETF")]
                                                                                                            [(weight-equal
                                                                                                              [(group
                                                                                                                "Huge volatility"
                                                                                                                [(weight-equal
                                                                                                                  [(if
                                                                                                                    (<
                                                                                                                     (cumulative-return
                                                                                                                      "TQQQ"
                                                                                                                      {:window
                                                                                                                       6})
                                                                                                                     -13)
                                                                                                                    [(weight-equal
                                                                                                                      [(if
                                                                                                                        (>
                                                                                                                         (cumulative-return
                                                                                                                          "TQQQ"
                                                                                                                          {:window
                                                                                                                           1})
                                                                                                                         6)
                                                                                                                        [(weight-equal
                                                                                                                          [(asset
                                                                                                                            "UVXY"
                                                                                                                            "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                                                        [(weight-equal
                                                                                                                          [(group
                                                                                                                            "Mean Rev"
                                                                                                                            [(weight-equal
                                                                                                                              [(if
                                                                                                                                (<
                                                                                                                                 (rsi
                                                                                                                                  "TQQQ"
                                                                                                                                  {:window
                                                                                                                                   10})
                                                                                                                                 32)
                                                                                                                                [(asset
                                                                                                                                  "TECL"
                                                                                                                                  "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                [(weight-equal
                                                                                                                                  [(if
                                                                                                                                    (<
                                                                                                                                     (max-drawdown
                                                                                                                                      "TMF"
                                                                                                                                      {:window
                                                                                                                                       10})
                                                                                                                                     7)
                                                                                                                                    [(asset
                                                                                                                                      "TECL"
                                                                                                                                      "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                    [(weight-equal
                                                                                                                                      [(asset
                                                                                                                                        "BIL"
                                                                                                                                        "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])]
                                                                                                                    [(weight-equal
                                                                                                                      [(group
                                                                                                                        "Normal market"
                                                                                                                        [(weight-equal
                                                                                                                          [(if
                                                                                                                            (>
                                                                                                                             (max-drawdown
                                                                                                                              "QQQ"
                                                                                                                              {:window
                                                                                                                               10})
                                                                                                                             6)
                                                                                                                            [(weight-equal
                                                                                                                              [(asset
                                                                                                                                "BIL"
                                                                                                                                "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                            [(weight-equal
                                                                                                                              [(if
                                                                                                                                (>
                                                                                                                                 (max-drawdown
                                                                                                                                  "TMF"
                                                                                                                                  {:window
                                                                                                                                   10})
                                                                                                                                 7)
                                                                                                                                [(weight-equal
                                                                                                                                  [(asset
                                                                                                                                    "BIL"
                                                                                                                                    "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                                [(weight-equal
                                                                                                                                  [(if
                                                                                                                                    (>
                                                                                                                                     (current-price
                                                                                                                                      "QQQ")
                                                                                                                                     (moving-average-price
                                                                                                                                      "QQQ"
                                                                                                                                      {:window
                                                                                                                                       25}))
                                                                                                                                    [(weight-equal
                                                                                                                                      [(asset
                                                                                                                                        "TECL"
                                                                                                                                        "Direxion Daily Technology Bull 3x Shares")])]
                                                                                                                                    [(weight-equal
                                                                                                                                      [(if
                                                                                                                                        (>
                                                                                                                                         (rsi
                                                                                                                                          "SPY"
                                                                                                                                          {:window
                                                                                                                                           60})
                                                                                                                                         50)
                                                                                                                                        [(group
                                                                                                                                          "Bond > Stock"
                                                                                                                                          [(weight-equal
                                                                                                                                            [(if
                                                                                                                                              (>
                                                                                                                                               (rsi
                                                                                                                                                "BND"
                                                                                                                                                {:window
                                                                                                                                                 45})
                                                                                                                                               (rsi
                                                                                                                                                "SPY"
                                                                                                                                                {:window
                                                                                                                                                 45}))
                                                                                                                                              [(asset
                                                                                                                                                "TECL"
                                                                                                                                                "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                              [(weight-equal
                                                                                                                                                [(asset
                                                                                                                                                  "BIL"
                                                                                                                                                  "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])]
                                                                                                                                        [(group
                                                                                                                                          "Bond Mid-term < Long-term"
                                                                                                                                          [(weight-equal
                                                                                                                                            [(if
                                                                                                                                              (<
                                                                                                                                               (rsi
                                                                                                                                                "IEF"
                                                                                                                                                {:window
                                                                                                                                                 200})
                                                                                                                                               (rsi
                                                                                                                                                "TLT"
                                                                                                                                                {:window
                                                                                                                                                 200}))
                                                                                                                                              [(weight-equal
                                                                                                                                                [(if
                                                                                                                                                  (>
                                                                                                                                                   (rsi
                                                                                                                                                    "BND"
                                                                                                                                                    {:window
                                                                                                                                                     45})
                                                                                                                                                   (rsi
                                                                                                                                                    "SPY"
                                                                                                                                                    {:window
                                                                                                                                                     45}))
                                                                                                                                                  [(asset
                                                                                                                                                    "TECL"
                                                                                                                                                    "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                                  [(weight-equal
                                                                                                                                                    [(asset
                                                                                                                                                      "BIL"
                                                                                                                                                      "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])]
                                                                                                                                              [(weight-equal
                                                                                                                                                [(asset
                                                                                                                                                  "BIL"
                                                                                                                                                  "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])])])])])])])])])])])])])])])])])])])]
                                                                                          [(weight-equal
                                                                                            [(if
                                                                                              (<
                                                                                               (moving-average-return
                                                                                                "VIXY"
                                                                                                {:window
                                                                                                 5})
                                                                                               0)
                                                                                              [(group
                                                                                                "3rd Block"
                                                                                                [(weight-equal
                                                                                                  [(if
                                                                                                    (>
                                                                                                     (cumulative-return
                                                                                                      "TQQQ"
                                                                                                      {:window
                                                                                                       1})
                                                                                                     5.5)
                                                                                                    [(weight-equal
                                                                                                      [(filter
                                                                                                        (exponential-moving-average-price
                                                                                                         {:window
                                                                                                          5})
                                                                                                        (select-bottom
                                                                                                         1)
                                                                                                        [(asset
                                                                                                          "VIXM"
                                                                                                          "ProShares VIX Mid-Term Futures ETF")
                                                                                                         (asset
                                                                                                          "TECS"
                                                                                                          "Direxion Daily Technology Bear 3X Shares")])])]
                                                                                                    [(weight-equal
                                                                                                      [(group
                                                                                                        "TECL or Not"
                                                                                                        [(weight-equal
                                                                                                          [(if
                                                                                                            (>
                                                                                                             (rsi
                                                                                                              "TQQQ"
                                                                                                              {:window
                                                                                                               10})
                                                                                                             79)
                                                                                                            [(asset
                                                                                                              "UVXY"
                                                                                                              "ProShares Ultra VIX Short-Term Futures ETF")]
                                                                                                            [(weight-equal
                                                                                                              [(group
                                                                                                                "Huge volatility"
                                                                                                                [(weight-equal
                                                                                                                  [(if
                                                                                                                    (<
                                                                                                                     (cumulative-return
                                                                                                                      "TQQQ"
                                                                                                                      {:window
                                                                                                                       6})
                                                                                                                     -13)
                                                                                                                    [(weight-equal
                                                                                                                      [(if
                                                                                                                        (>
                                                                                                                         (cumulative-return
                                                                                                                          "TQQQ"
                                                                                                                          {:window
                                                                                                                           1})
                                                                                                                         6)
                                                                                                                        [(weight-equal
                                                                                                                          [(asset
                                                                                                                            "UVXY"
                                                                                                                            "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                                                        [(weight-equal
                                                                                                                          [(group
                                                                                                                            "Mean Rev"
                                                                                                                            [(weight-equal
                                                                                                                              [(if
                                                                                                                                (<
                                                                                                                                 (rsi
                                                                                                                                  "TQQQ"
                                                                                                                                  {:window
                                                                                                                                   10})
                                                                                                                                 32)
                                                                                                                                [(asset
                                                                                                                                  "TECL"
                                                                                                                                  "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                [(weight-equal
                                                                                                                                  [(if
                                                                                                                                    (<
                                                                                                                                     (max-drawdown
                                                                                                                                      "TMF"
                                                                                                                                      {:window
                                                                                                                                       10})
                                                                                                                                     7)
                                                                                                                                    [(asset
                                                                                                                                      "TECL"
                                                                                                                                      "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                    [(weight-equal
                                                                                                                                      [(asset
                                                                                                                                        "BIL"
                                                                                                                                        "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])]
                                                                                                                    [(weight-equal
                                                                                                                      [(group
                                                                                                                        "Normal market"
                                                                                                                        [(weight-equal
                                                                                                                          [(if
                                                                                                                            (>
                                                                                                                             (max-drawdown
                                                                                                                              "QQQ"
                                                                                                                              {:window
                                                                                                                               10})
                                                                                                                             6)
                                                                                                                            [(weight-equal
                                                                                                                              [(asset
                                                                                                                                "BIL"
                                                                                                                                "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                            [(weight-equal
                                                                                                                              [(if
                                                                                                                                (>
                                                                                                                                 (max-drawdown
                                                                                                                                  "TMF"
                                                                                                                                  {:window
                                                                                                                                   10})
                                                                                                                                 7)
                                                                                                                                [(weight-equal
                                                                                                                                  [(asset
                                                                                                                                    "BIL"
                                                                                                                                    "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                                [(weight-equal
                                                                                                                                  [(if
                                                                                                                                    (>
                                                                                                                                     (current-price
                                                                                                                                      "QQQ")
                                                                                                                                     (moving-average-price
                                                                                                                                      "QQQ"
                                                                                                                                      {:window
                                                                                                                                       25}))
                                                                                                                                    [(weight-equal
                                                                                                                                      [(asset
                                                                                                                                        "TECL"
                                                                                                                                        "Direxion Daily Technology Bull 3x Shares")])]
                                                                                                                                    [(weight-equal
                                                                                                                                      [(if
                                                                                                                                        (>
                                                                                                                                         (rsi
                                                                                                                                          "SPY"
                                                                                                                                          {:window
                                                                                                                                           60})
                                                                                                                                         50)
                                                                                                                                        [(group
                                                                                                                                          "Bond > Stock"
                                                                                                                                          [(weight-equal
                                                                                                                                            [(if
                                                                                                                                              (>
                                                                                                                                               (rsi
                                                                                                                                                "BND"
                                                                                                                                                {:window
                                                                                                                                                 45})
                                                                                                                                               (rsi
                                                                                                                                                "SPY"
                                                                                                                                                {:window
                                                                                                                                                 45}))
                                                                                                                                              [(asset
                                                                                                                                                "TECL"
                                                                                                                                                "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                              [(weight-equal
                                                                                                                                                [(asset
                                                                                                                                                  "BIL"
                                                                                                                                                  "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])]
                                                                                                                                        [(group
                                                                                                                                          "Bond Mid-term < Long-term"
                                                                                                                                          [(weight-equal
                                                                                                                                            [(if
                                                                                                                                              (<
                                                                                                                                               (rsi
                                                                                                                                                "IEF"
                                                                                                                                                {:window
                                                                                                                                                 200})
                                                                                                                                               (rsi
                                                                                                                                                "TLT"
                                                                                                                                                {:window
                                                                                                                                                 200}))
                                                                                                                                              [(weight-equal
                                                                                                                                                [(if
                                                                                                                                                  (>
                                                                                                                                                   (rsi
                                                                                                                                                    "BND"
                                                                                                                                                    {:window
                                                                                                                                                     45})
                                                                                                                                                   (rsi
                                                                                                                                                    "SPY"
                                                                                                                                                    {:window
                                                                                                                                                     45}))
                                                                                                                                                  [(asset
                                                                                                                                                    "TECL"
                                                                                                                                                    "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                                  [(weight-equal
                                                                                                                                                    [(asset
                                                                                                                                                      "BIL"
                                                                                                                                                      "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])]
                                                                                                                                              [(weight-equal
                                                                                                                                                [(asset
                                                                                                                                                  "BIL"
                                                                                                                                                  "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])])])])])])])])])])])])])])])])])]
                                                                                              [(group
                                                                                                "4th Block"
                                                                                                [(weight-equal
                                                                                                  [(if
                                                                                                    (>
                                                                                                     (cumulative-return
                                                                                                      "TQQQ"
                                                                                                      {:window
                                                                                                       1})
                                                                                                     5.5)
                                                                                                    [(weight-equal
                                                                                                      [(filter
                                                                                                        (exponential-moving-average-price
                                                                                                         {:window
                                                                                                          5})
                                                                                                        (select-top
                                                                                                         1)
                                                                                                        [(asset
                                                                                                          "UVXY"
                                                                                                          "ProShares Ultra VIX Short-Term Futures ETF")
                                                                                                         (asset
                                                                                                          "TECS"
                                                                                                          "Direxion Daily Technology Bear 3X Shares")])])]
                                                                                                    [(weight-equal
                                                                                                      [(group
                                                                                                        "TECL or Not"
                                                                                                        [(weight-equal
                                                                                                          [(if
                                                                                                            (>
                                                                                                             (rsi
                                                                                                              "TQQQ"
                                                                                                              {:window
                                                                                                               10})
                                                                                                             79)
                                                                                                            [(asset
                                                                                                              "UVXY"
                                                                                                              "ProShares Ultra VIX Short-Term Futures ETF")]
                                                                                                            [(weight-equal
                                                                                                              [(group
                                                                                                                "Huge volatility"
                                                                                                                [(weight-equal
                                                                                                                  [(if
                                                                                                                    (<
                                                                                                                     (cumulative-return
                                                                                                                      "TQQQ"
                                                                                                                      {:window
                                                                                                                       6})
                                                                                                                     -13)
                                                                                                                    [(weight-equal
                                                                                                                      [(if
                                                                                                                        (>
                                                                                                                         (cumulative-return
                                                                                                                          "TQQQ"
                                                                                                                          {:window
                                                                                                                           1})
                                                                                                                         6)
                                                                                                                        [(weight-equal
                                                                                                                          [(asset
                                                                                                                            "UVXY"
                                                                                                                            "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                                                        [(weight-equal
                                                                                                                          [(group
                                                                                                                            "Mean Rev"
                                                                                                                            [(weight-equal
                                                                                                                              [(if
                                                                                                                                (<
                                                                                                                                 (rsi
                                                                                                                                  "TQQQ"
                                                                                                                                  {:window
                                                                                                                                   10})
                                                                                                                                 32)
                                                                                                                                [(asset
                                                                                                                                  "TECL"
                                                                                                                                  "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                [(weight-equal
                                                                                                                                  [(if
                                                                                                                                    (<
                                                                                                                                     (max-drawdown
                                                                                                                                      "TMF"
                                                                                                                                      {:window
                                                                                                                                       10})
                                                                                                                                     7)
                                                                                                                                    [(asset
                                                                                                                                      "TECL"
                                                                                                                                      "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                    [(weight-equal
                                                                                                                                      [(asset
                                                                                                                                        "BIL"
                                                                                                                                        "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])]
                                                                                                                    [(weight-equal
                                                                                                                      [(group
                                                                                                                        "Normal market"
                                                                                                                        [(weight-equal
                                                                                                                          [(if
                                                                                                                            (>
                                                                                                                             (max-drawdown
                                                                                                                              "QQQ"
                                                                                                                              {:window
                                                                                                                               10})
                                                                                                                             6)
                                                                                                                            [(weight-equal
                                                                                                                              [(asset
                                                                                                                                "BIL"
                                                                                                                                "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                            [(weight-equal
                                                                                                                              [(if
                                                                                                                                (>
                                                                                                                                 (max-drawdown
                                                                                                                                  "TMF"
                                                                                                                                  {:window
                                                                                                                                   10})
                                                                                                                                 7)
                                                                                                                                [(weight-equal
                                                                                                                                  [(asset
                                                                                                                                    "BIL"
                                                                                                                                    "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                                [(weight-equal
                                                                                                                                  [(if
                                                                                                                                    (>
                                                                                                                                     (current-price
                                                                                                                                      "QQQ")
                                                                                                                                     (moving-average-price
                                                                                                                                      "QQQ"
                                                                                                                                      {:window
                                                                                                                                       25}))
                                                                                                                                    [(weight-equal
                                                                                                                                      [(asset
                                                                                                                                        "TECL"
                                                                                                                                        "Direxion Daily Technology Bull 3x Shares")])]
                                                                                                                                    [(weight-equal
                                                                                                                                      [(if
                                                                                                                                        (>
                                                                                                                                         (rsi
                                                                                                                                          "SPY"
                                                                                                                                          {:window
                                                                                                                                           60})
                                                                                                                                         50)
                                                                                                                                        [(group
                                                                                                                                          "Bond > Stock"
                                                                                                                                          [(weight-equal
                                                                                                                                            [(if
                                                                                                                                              (>
                                                                                                                                               (rsi
                                                                                                                                                "BND"
                                                                                                                                                {:window
                                                                                                                                                 45})
                                                                                                                                               (rsi
                                                                                                                                                "SPY"
                                                                                                                                                {:window
                                                                                                                                                 45}))
                                                                                                                                              [(asset
                                                                                                                                                "TECL"
                                                                                                                                                "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                              [(weight-equal
                                                                                                                                                [(asset
                                                                                                                                                  "BIL"
                                                                                                                                                  "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])]
                                                                                                                                        [(group
                                                                                                                                          "Bond Mid-term < Long-term"
                                                                                                                                          [(weight-equal
                                                                                                                                            [(if
                                                                                                                                              (<
                                                                                                                                               (rsi
                                                                                                                                                "IEF"
                                                                                                                                                {:window
                                                                                                                                                 200})
                                                                                                                                               (rsi
                                                                                                                                                "TLT"
                                                                                                                                                {:window
                                                                                                                                                 200}))
                                                                                                                                              [(weight-equal
                                                                                                                                                [(if
                                                                                                                                                  (>
                                                                                                                                                   (rsi
                                                                                                                                                    "BND"
                                                                                                                                                    {:window
                                                                                                                                                     45})
                                                                                                                                                   (rsi
                                                                                                                                                    "SPY"
                                                                                                                                                    {:window
                                                                                                                                                     45}))
                                                                                                                                                  [(asset
                                                                                                                                                    "TECL"
                                                                                                                                                    "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                                  [(weight-equal
                                                                                                                                                    [(asset
                                                                                                                                                      "BIL"
                                                                                                                                                      "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])]
                                                                                                                                              [(weight-equal
                                                                                                                                                [(asset
                                                                                                                                                  "BIL"
                                                                                                                                                  "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])]
                                                                          [(weight-equal
                                                                            [(group
                                                                              "Danger Market Conditions"
                                                                              [(weight-equal
                                                                                [(if
                                                                                  (>
                                                                                   (rsi
                                                                                    "TQQQ"
                                                                                    {:window
                                                                                     10})
                                                                                   80)
                                                                                  [(weight-equal
                                                                                    [(filter
                                                                                      (cumulative-return
                                                                                       {:window
                                                                                        5})
                                                                                      (select-bottom
                                                                                       1)
                                                                                      [(asset
                                                                                        "TMV"
                                                                                        "Direxion Daily 20+ Year Treasury Bear 3x Shares")
                                                                                       (asset
                                                                                        "UGL"
                                                                                        "ProShares Ultra Gold")])])]
                                                                                  [(weight-equal
                                                                                    [(if
                                                                                      (>
                                                                                       (rsi
                                                                                        "VIXY"
                                                                                        {:window
                                                                                         10})
                                                                                       50)
                                                                                      [(weight-equal
                                                                                        [(if
                                                                                          (<
                                                                                           (rsi
                                                                                            "TQQQ"
                                                                                            {:window
                                                                                             10})
                                                                                           31)
                                                                                          [(weight-equal
                                                                                            [(filter
                                                                                              (stdev-price
                                                                                               {:window
                                                                                                5})
                                                                                              (select-bottom
                                                                                               1)
                                                                                              [(asset
                                                                                                "SVXY"
                                                                                                "ProShares Short VIX Short-Term Futures ETF")
                                                                                               (asset
                                                                                                "SOXL"
                                                                                                "Direxion Daily Semiconductor Bull 3x Shares")
                                                                                               (asset
                                                                                                "ERX"
                                                                                                "Direxion Daily Energy Bull 2x Shares")
                                                                                               (asset
                                                                                                "TMV"
                                                                                                "Direxion Daily 20+ Year Treasury Bear 3x Shares")])])]
                                                                                          [(weight-equal
                                                                                            [(if
                                                                                              (<
                                                                                               (moving-average-return
                                                                                                "VIXY"
                                                                                                {:window
                                                                                                 5})
                                                                                               0)
                                                                                              [(weight-equal
                                                                                                [(asset
                                                                                                  "SVXY"
                                                                                                  "ProShares Short VIX Short-Term Futures ETF")])]
                                                                                              [(weight-equal
                                                                                                [(group
                                                                                                  "TECL or Not"
                                                                                                  [(weight-equal
                                                                                                    [(if
                                                                                                      (>
                                                                                                       (rsi
                                                                                                        "TQQQ"
                                                                                                        {:window
                                                                                                         10})
                                                                                                       79)
                                                                                                      [(asset
                                                                                                        "UVXY"
                                                                                                        "ProShares Ultra VIX Short-Term Futures ETF")]
                                                                                                      [(weight-equal
                                                                                                        [(group
                                                                                                          "Huge volatility"
                                                                                                          [(weight-equal
                                                                                                            [(if
                                                                                                              (<
                                                                                                               (cumulative-return
                                                                                                                "TQQQ"
                                                                                                                {:window
                                                                                                                 6})
                                                                                                               -13)
                                                                                                              [(weight-equal
                                                                                                                [(if
                                                                                                                  (>
                                                                                                                   (cumulative-return
                                                                                                                    "TQQQ"
                                                                                                                    {:window
                                                                                                                     1})
                                                                                                                   6)
                                                                                                                  [(weight-equal
                                                                                                                    [(asset
                                                                                                                      "UVXY"
                                                                                                                      "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                                                  [(weight-equal
                                                                                                                    [(group
                                                                                                                      "Mean Rev"
                                                                                                                      [(weight-equal
                                                                                                                        [(if
                                                                                                                          (<
                                                                                                                           (rsi
                                                                                                                            "TQQQ"
                                                                                                                            {:window
                                                                                                                             10})
                                                                                                                           32)
                                                                                                                          [(asset
                                                                                                                            "TECL"
                                                                                                                            "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                          [(weight-equal
                                                                                                                            [(if
                                                                                                                              (<
                                                                                                                               (max-drawdown
                                                                                                                                "TMF"
                                                                                                                                {:window
                                                                                                                                 10})
                                                                                                                               7)
                                                                                                                              [(asset
                                                                                                                                "TECL"
                                                                                                                                "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                              [(weight-equal
                                                                                                                                [(asset
                                                                                                                                  "BIL"
                                                                                                                                  "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])]
                                                                                                              [(weight-equal
                                                                                                                [(group
                                                                                                                  "Normal market"
                                                                                                                  [(weight-equal
                                                                                                                    [(if
                                                                                                                      (>
                                                                                                                       (max-drawdown
                                                                                                                        "QQQ"
                                                                                                                        {:window
                                                                                                                         10})
                                                                                                                       6)
                                                                                                                      [(weight-equal
                                                                                                                        [(asset
                                                                                                                          "BIL"
                                                                                                                          "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                      [(weight-equal
                                                                                                                        [(if
                                                                                                                          (>
                                                                                                                           (max-drawdown
                                                                                                                            "TMF"
                                                                                                                            {:window
                                                                                                                             10})
                                                                                                                           7)
                                                                                                                          [(weight-equal
                                                                                                                            [(asset
                                                                                                                              "BIL"
                                                                                                                              "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                          [(weight-equal
                                                                                                                            [(if
                                                                                                                              (>
                                                                                                                               (current-price
                                                                                                                                "QQQ")
                                                                                                                               (moving-average-price
                                                                                                                                "QQQ"
                                                                                                                                {:window
                                                                                                                                 25}))
                                                                                                                              [(weight-equal
                                                                                                                                [(asset
                                                                                                                                  "TECL"
                                                                                                                                  "Direxion Daily Technology Bull 3x Shares")])]
                                                                                                                              [(weight-equal
                                                                                                                                [(if
                                                                                                                                  (>
                                                                                                                                   (rsi
                                                                                                                                    "SPY"
                                                                                                                                    {:window
                                                                                                                                     60})
                                                                                                                                   50)
                                                                                                                                  [(group
                                                                                                                                    "Bond > Stock"
                                                                                                                                    [(weight-equal
                                                                                                                                      [(if
                                                                                                                                        (>
                                                                                                                                         (rsi
                                                                                                                                          "BND"
                                                                                                                                          {:window
                                                                                                                                           45})
                                                                                                                                         (rsi
                                                                                                                                          "SPY"
                                                                                                                                          {:window
                                                                                                                                           45}))
                                                                                                                                        [(asset
                                                                                                                                          "TECL"
                                                                                                                                          "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                        [(weight-equal
                                                                                                                                          [(asset
                                                                                                                                            "BIL"
                                                                                                                                            "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])]
                                                                                                                                  [(group
                                                                                                                                    "Bond Mid-term < Long-term"
                                                                                                                                    [(weight-equal
                                                                                                                                      [(if
                                                                                                                                        (<
                                                                                                                                         (rsi
                                                                                                                                          "IEF"
                                                                                                                                          {:window
                                                                                                                                           200})
                                                                                                                                         (rsi
                                                                                                                                          "TLT"
                                                                                                                                          {:window
                                                                                                                                           200}))
                                                                                                                                        [(weight-equal
                                                                                                                                          [(if
                                                                                                                                            (>
                                                                                                                                             (rsi
                                                                                                                                              "BND"
                                                                                                                                              {:window
                                                                                                                                               45})
                                                                                                                                             (rsi
                                                                                                                                              "SPY"
                                                                                                                                              {:window
                                                                                                                                               45}))
                                                                                                                                            [(asset
                                                                                                                                              "TECL"
                                                                                                                                              "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                            [(weight-equal
                                                                                                                                              [(asset
                                                                                                                                                "BIL"
                                                                                                                                                "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])]
                                                                                                                                        [(weight-equal
                                                                                                                                          [(asset
                                                                                                                                            "BIL"
                                                                                                                                            "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])])])])])])])])])])])])])])])])])])]
                                                                                      [(weight-equal
                                                                                        [(if
                                                                                          (<
                                                                                           (rsi
                                                                                            "TQQQ"
                                                                                            {:window
                                                                                             10})
                                                                                           31)
                                                                                          [(weight-equal
                                                                                            [(asset
                                                                                              "SVXY"
                                                                                              "ProShares Short VIX Short-Term Futures ETF")])]
                                                                                          [(weight-equal
                                                                                            [(group
                                                                                              "TECL or Not"
                                                                                              [(weight-equal
                                                                                                [(if
                                                                                                  (>
                                                                                                   (rsi
                                                                                                    "TQQQ"
                                                                                                    {:window
                                                                                                     10})
                                                                                                   79)
                                                                                                  [(asset
                                                                                                    "UVXY"
                                                                                                    "ProShares Ultra VIX Short-Term Futures ETF")]
                                                                                                  [(weight-equal
                                                                                                    [(group
                                                                                                      "Huge volatility"
                                                                                                      [(weight-equal
                                                                                                        [(if
                                                                                                          (<
                                                                                                           (cumulative-return
                                                                                                            "TQQQ"
                                                                                                            {:window
                                                                                                             6})
                                                                                                           -13)
                                                                                                          [(weight-equal
                                                                                                            [(if
                                                                                                              (>
                                                                                                               (cumulative-return
                                                                                                                "TQQQ"
                                                                                                                {:window
                                                                                                                 1})
                                                                                                               6)
                                                                                                              [(weight-equal
                                                                                                                [(asset
                                                                                                                  "UVXY"
                                                                                                                  "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                                              [(weight-equal
                                                                                                                [(group
                                                                                                                  "Mean Rev"
                                                                                                                  [(weight-equal
                                                                                                                    [(if
                                                                                                                      (<
                                                                                                                       (rsi
                                                                                                                        "TQQQ"
                                                                                                                        {:window
                                                                                                                         10})
                                                                                                                       32)
                                                                                                                      [(asset
                                                                                                                        "TECL"
                                                                                                                        "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                      [(weight-equal
                                                                                                                        [(if
                                                                                                                          (<
                                                                                                                           (max-drawdown
                                                                                                                            "TMF"
                                                                                                                            {:window
                                                                                                                             10})
                                                                                                                           7)
                                                                                                                          [(asset
                                                                                                                            "TECL"
                                                                                                                            "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                          [(weight-equal
                                                                                                                            [(asset
                                                                                                                              "BIL"
                                                                                                                              "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])]
                                                                                                          [(weight-equal
                                                                                                            [(group
                                                                                                              "Normal market"
                                                                                                              [(weight-equal
                                                                                                                [(if
                                                                                                                  (>
                                                                                                                   (max-drawdown
                                                                                                                    "QQQ"
                                                                                                                    {:window
                                                                                                                     10})
                                                                                                                   6)
                                                                                                                  [(weight-equal
                                                                                                                    [(asset
                                                                                                                      "BIL"
                                                                                                                      "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                  [(weight-equal
                                                                                                                    [(if
                                                                                                                      (>
                                                                                                                       (max-drawdown
                                                                                                                        "TMF"
                                                                                                                        {:window
                                                                                                                         10})
                                                                                                                       7)
                                                                                                                      [(weight-equal
                                                                                                                        [(asset
                                                                                                                          "BIL"
                                                                                                                          "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                      [(weight-equal
                                                                                                                        [(if
                                                                                                                          (>
                                                                                                                           (current-price
                                                                                                                            "QQQ")
                                                                                                                           (moving-average-price
                                                                                                                            "QQQ"
                                                                                                                            {:window
                                                                                                                             25}))
                                                                                                                          [(weight-equal
                                                                                                                            [(asset
                                                                                                                              "TECL"
                                                                                                                              "Direxion Daily Technology Bull 3x Shares")])]
                                                                                                                          [(weight-equal
                                                                                                                            [(if
                                                                                                                              (>
                                                                                                                               (rsi
                                                                                                                                "SPY"
                                                                                                                                {:window
                                                                                                                                 60})
                                                                                                                               50)
                                                                                                                              [(group
                                                                                                                                "Bond > Stock"
                                                                                                                                [(weight-equal
                                                                                                                                  [(if
                                                                                                                                    (>
                                                                                                                                     (rsi
                                                                                                                                      "BND"
                                                                                                                                      {:window
                                                                                                                                       45})
                                                                                                                                     (rsi
                                                                                                                                      "SPY"
                                                                                                                                      {:window
                                                                                                                                       45}))
                                                                                                                                    [(asset
                                                                                                                                      "TECL"
                                                                                                                                      "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                    [(weight-equal
                                                                                                                                      [(asset
                                                                                                                                        "BIL"
                                                                                                                                        "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])]
                                                                                                                              [(group
                                                                                                                                "Bond Mid-term < Long-term"
                                                                                                                                [(weight-equal
                                                                                                                                  [(if
                                                                                                                                    (<
                                                                                                                                     (rsi
                                                                                                                                      "IEF"
                                                                                                                                      {:window
                                                                                                                                       200})
                                                                                                                                     (rsi
                                                                                                                                      "TLT"
                                                                                                                                      {:window
                                                                                                                                       200}))
                                                                                                                                    [(weight-equal
                                                                                                                                      [(if
                                                                                                                                        (>
                                                                                                                                         (rsi
                                                                                                                                          "BND"
                                                                                                                                          {:window
                                                                                                                                           45})
                                                                                                                                         (rsi
                                                                                                                                          "SPY"
                                                                                                                                          {:window
                                                                                                                                           45}))
                                                                                                                                        [(asset
                                                                                                                                          "TECL"
                                                                                                                                          "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                        [(weight-equal
                                                                                                                                          [(asset
                                                                                                                                            "BIL"
                                                                                                                                            "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])]
                                                                                                                                    [(weight-equal
                                                                                                                                      [(asset
                                                                                                                                        "BIL"
                                                                                                                                        "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])]
                                                              [(weight-equal
                                                                [(group
                                                                  "VMS popped TECL or Not"
                                                                  [(weight-equal
                                                                    [(if
                                                                      (>
                                                                       (rsi
                                                                        "XLK"
                                                                        {:window
                                                                         126})
                                                                       (rsi
                                                                        "XLP"
                                                                        {:window
                                                                         126}))
                                                                      [(weight-equal
                                                                        [(group
                                                                          "Bullish Market Conditions"
                                                                          [(weight-equal
                                                                            [(if
                                                                              (>
                                                                               (rsi
                                                                                "TQQQ"
                                                                                {:window
                                                                                 10})
                                                                               80)
                                                                              [(weight-equal
                                                                                [(asset
                                                                                  "UVXY"
                                                                                  "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                              [(weight-equal
                                                                                [(if
                                                                                  (<
                                                                                   (rsi
                                                                                    "TQQQ"
                                                                                    {:window
                                                                                     10})
                                                                                   31)
                                                                                  [(weight-equal
                                                                                    [(filter
                                                                                      (moving-average-return
                                                                                       {:window
                                                                                        5})
                                                                                      (select-bottom
                                                                                       1)
                                                                                      [(asset
                                                                                        "TECL"
                                                                                        "Direxion Daily Technology Bull 3x Shares")
                                                                                       (asset
                                                                                        "SOXL"
                                                                                        "Direxion Daily Semiconductor Bull 3x Shares")
                                                                                       (asset
                                                                                        "TMF"
                                                                                        "Direxion Daily 20+ Year Treasury Bull 3X Shares")])])]
                                                                                  [(weight-equal
                                                                                    [(if
                                                                                      (>
                                                                                       (rsi
                                                                                        "VIXY"
                                                                                        {:window
                                                                                         10})
                                                                                       50)
                                                                                      [(weight-equal
                                                                                        [(if
                                                                                          (<
                                                                                           (moving-average-return
                                                                                            "VIXY"
                                                                                            {:window
                                                                                             5})
                                                                                           0)
                                                                                          [(group
                                                                                            "1st Block"
                                                                                            [(weight-equal
                                                                                              [(if
                                                                                                (>
                                                                                                 (cumulative-return
                                                                                                  "TQQQ"
                                                                                                  {:window
                                                                                                   1})
                                                                                                 5.5)
                                                                                                [(weight-equal
                                                                                                  [(asset
                                                                                                    "VIXM"
                                                                                                    "ProShares VIX Mid-Term Futures ETF")])]
                                                                                                [(weight-equal
                                                                                                  [(group
                                                                                                    "TECL or Not"
                                                                                                    [(weight-equal
                                                                                                      [(if
                                                                                                        (>
                                                                                                         (rsi
                                                                                                          "TQQQ"
                                                                                                          {:window
                                                                                                           10})
                                                                                                         79)
                                                                                                        [(asset
                                                                                                          "UVXY"
                                                                                                          "ProShares Ultra VIX Short-Term Futures ETF")]
                                                                                                        [(weight-equal
                                                                                                          [(group
                                                                                                            "Huge volatility"
                                                                                                            [(weight-equal
                                                                                                              [(if
                                                                                                                (<
                                                                                                                 (cumulative-return
                                                                                                                  "TQQQ"
                                                                                                                  {:window
                                                                                                                   6})
                                                                                                                 -13)
                                                                                                                [(weight-equal
                                                                                                                  [(if
                                                                                                                    (>
                                                                                                                     (cumulative-return
                                                                                                                      "TQQQ"
                                                                                                                      {:window
                                                                                                                       1})
                                                                                                                     6)
                                                                                                                    [(weight-equal
                                                                                                                      [(asset
                                                                                                                        "UVXY"
                                                                                                                        "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                                                    [(weight-equal
                                                                                                                      [(group
                                                                                                                        "Mean Rev"
                                                                                                                        [(weight-equal
                                                                                                                          [(if
                                                                                                                            (<
                                                                                                                             (rsi
                                                                                                                              "TQQQ"
                                                                                                                              {:window
                                                                                                                               10})
                                                                                                                             32)
                                                                                                                            [(asset
                                                                                                                              "TECL"
                                                                                                                              "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                            [(weight-equal
                                                                                                                              [(if
                                                                                                                                (<
                                                                                                                                 (max-drawdown
                                                                                                                                  "TMF"
                                                                                                                                  {:window
                                                                                                                                   10})
                                                                                                                                 7)
                                                                                                                                [(asset
                                                                                                                                  "TECL"
                                                                                                                                  "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                [(weight-equal
                                                                                                                                  [(asset
                                                                                                                                    "BIL"
                                                                                                                                    "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])]
                                                                                                                [(weight-equal
                                                                                                                  [(group
                                                                                                                    "Normal market"
                                                                                                                    [(weight-equal
                                                                                                                      [(if
                                                                                                                        (>
                                                                                                                         (max-drawdown
                                                                                                                          "QQQ"
                                                                                                                          {:window
                                                                                                                           10})
                                                                                                                         6)
                                                                                                                        [(weight-equal
                                                                                                                          [(asset
                                                                                                                            "BIL"
                                                                                                                            "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                        [(weight-equal
                                                                                                                          [(if
                                                                                                                            (>
                                                                                                                             (max-drawdown
                                                                                                                              "TMF"
                                                                                                                              {:window
                                                                                                                               10})
                                                                                                                             7)
                                                                                                                            [(weight-equal
                                                                                                                              [(asset
                                                                                                                                "BIL"
                                                                                                                                "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                            [(weight-equal
                                                                                                                              [(if
                                                                                                                                (>
                                                                                                                                 (current-price
                                                                                                                                  "QQQ")
                                                                                                                                 (moving-average-price
                                                                                                                                  "QQQ"
                                                                                                                                  {:window
                                                                                                                                   25}))
                                                                                                                                [(weight-equal
                                                                                                                                  [(asset
                                                                                                                                    "TECL"
                                                                                                                                    "Direxion Daily Technology Bull 3x Shares")])]
                                                                                                                                [(weight-equal
                                                                                                                                  [(if
                                                                                                                                    (>
                                                                                                                                     (rsi
                                                                                                                                      "SPY"
                                                                                                                                      {:window
                                                                                                                                       60})
                                                                                                                                     50)
                                                                                                                                    [(group
                                                                                                                                      "Bond > Stock"
                                                                                                                                      [(weight-equal
                                                                                                                                        [(if
                                                                                                                                          (>
                                                                                                                                           (rsi
                                                                                                                                            "BND"
                                                                                                                                            {:window
                                                                                                                                             45})
                                                                                                                                           (rsi
                                                                                                                                            "SPY"
                                                                                                                                            {:window
                                                                                                                                             45}))
                                                                                                                                          [(asset
                                                                                                                                            "TECL"
                                                                                                                                            "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                          [(weight-equal
                                                                                                                                            [(asset
                                                                                                                                              "BIL"
                                                                                                                                              "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])]
                                                                                                                                    [(group
                                                                                                                                      "Bond Mid-term < Long-term"
                                                                                                                                      [(weight-equal
                                                                                                                                        [(if
                                                                                                                                          (<
                                                                                                                                           (rsi
                                                                                                                                            "IEF"
                                                                                                                                            {:window
                                                                                                                                             200})
                                                                                                                                           (rsi
                                                                                                                                            "TLT"
                                                                                                                                            {:window
                                                                                                                                             200}))
                                                                                                                                          [(weight-equal
                                                                                                                                            [(if
                                                                                                                                              (>
                                                                                                                                               (rsi
                                                                                                                                                "BND"
                                                                                                                                                {:window
                                                                                                                                                 45})
                                                                                                                                               (rsi
                                                                                                                                                "SPY"
                                                                                                                                                {:window
                                                                                                                                                 45}))
                                                                                                                                              [(asset
                                                                                                                                                "TECL"
                                                                                                                                                "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                              [(weight-equal
                                                                                                                                                [(asset
                                                                                                                                                  "BIL"
                                                                                                                                                  "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])]
                                                                                                                                          [(weight-equal
                                                                                                                                            [(asset
                                                                                                                                              "BIL"
                                                                                                                                              "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])])])])])])])])])])])])])])])])])]
                                                                                          [(group
                                                                                            "2nd Block"
                                                                                            [(weight-equal
                                                                                              [(if
                                                                                                (>
                                                                                                 (cumulative-return
                                                                                                  "TQQQ"
                                                                                                  {:window
                                                                                                   1})
                                                                                                 5.5)
                                                                                                [(weight-equal
                                                                                                  [(filter
                                                                                                    (exponential-moving-average-price
                                                                                                     {:window
                                                                                                      5})
                                                                                                    (select-bottom
                                                                                                     1)
                                                                                                    [(asset
                                                                                                      "UVXY"
                                                                                                      "ProShares Ultra VIX Short-Term Futures ETF")
                                                                                                     (asset
                                                                                                      "TECS"
                                                                                                      "Direxion Daily Technology Bear 3X Shares")])])]
                                                                                                [(weight-equal
                                                                                                  [(group
                                                                                                    "TECL or Not"
                                                                                                    [(weight-equal
                                                                                                      [(if
                                                                                                        (>
                                                                                                         (rsi
                                                                                                          "TQQQ"
                                                                                                          {:window
                                                                                                           10})
                                                                                                         79)
                                                                                                        [(asset
                                                                                                          "UVXY"
                                                                                                          "ProShares Ultra VIX Short-Term Futures ETF")]
                                                                                                        [(weight-equal
                                                                                                          [(group
                                                                                                            "Huge volatility"
                                                                                                            [(weight-equal
                                                                                                              [(if
                                                                                                                (<
                                                                                                                 (cumulative-return
                                                                                                                  "TQQQ"
                                                                                                                  {:window
                                                                                                                   6})
                                                                                                                 -13)
                                                                                                                [(weight-equal
                                                                                                                  [(if
                                                                                                                    (>
                                                                                                                     (cumulative-return
                                                                                                                      "TQQQ"
                                                                                                                      {:window
                                                                                                                       1})
                                                                                                                     6)
                                                                                                                    [(weight-equal
                                                                                                                      [(asset
                                                                                                                        "UVXY"
                                                                                                                        "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                                                    [(weight-equal
                                                                                                                      [(group
                                                                                                                        "Mean Rev"
                                                                                                                        [(weight-equal
                                                                                                                          [(if
                                                                                                                            (<
                                                                                                                             (rsi
                                                                                                                              "TQQQ"
                                                                                                                              {:window
                                                                                                                               10})
                                                                                                                             32)
                                                                                                                            [(asset
                                                                                                                              "TECL"
                                                                                                                              "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                            [(weight-equal
                                                                                                                              [(if
                                                                                                                                (<
                                                                                                                                 (max-drawdown
                                                                                                                                  "TMF"
                                                                                                                                  {:window
                                                                                                                                   10})
                                                                                                                                 7)
                                                                                                                                [(asset
                                                                                                                                  "TECL"
                                                                                                                                  "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                [(weight-equal
                                                                                                                                  [(asset
                                                                                                                                    "BIL"
                                                                                                                                    "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])]
                                                                                                                [(weight-equal
                                                                                                                  [(group
                                                                                                                    "Normal market"
                                                                                                                    [(weight-equal
                                                                                                                      [(if
                                                                                                                        (>
                                                                                                                         (max-drawdown
                                                                                                                          "QQQ"
                                                                                                                          {:window
                                                                                                                           10})
                                                                                                                         6)
                                                                                                                        [(weight-equal
                                                                                                                          [(asset
                                                                                                                            "BIL"
                                                                                                                            "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                        [(weight-equal
                                                                                                                          [(if
                                                                                                                            (>
                                                                                                                             (max-drawdown
                                                                                                                              "TMF"
                                                                                                                              {:window
                                                                                                                               10})
                                                                                                                             7)
                                                                                                                            [(weight-equal
                                                                                                                              [(asset
                                                                                                                                "BIL"
                                                                                                                                "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                            [(weight-equal
                                                                                                                              [(if
                                                                                                                                (>
                                                                                                                                 (current-price
                                                                                                                                  "QQQ")
                                                                                                                                 (moving-average-price
                                                                                                                                  "QQQ"
                                                                                                                                  {:window
                                                                                                                                   25}))
                                                                                                                                [(weight-equal
                                                                                                                                  [(asset
                                                                                                                                    "TECL"
                                                                                                                                    "Direxion Daily Technology Bull 3x Shares")])]
                                                                                                                                [(weight-equal
                                                                                                                                  [(if
                                                                                                                                    (>
                                                                                                                                     (rsi
                                                                                                                                      "SPY"
                                                                                                                                      {:window
                                                                                                                                       60})
                                                                                                                                     50)
                                                                                                                                    [(group
                                                                                                                                      "Bond > Stock"
                                                                                                                                      [(weight-equal
                                                                                                                                        [(if
                                                                                                                                          (>
                                                                                                                                           (rsi
                                                                                                                                            "BND"
                                                                                                                                            {:window
                                                                                                                                             45})
                                                                                                                                           (rsi
                                                                                                                                            "SPY"
                                                                                                                                            {:window
                                                                                                                                             45}))
                                                                                                                                          [(asset
                                                                                                                                            "TECL"
                                                                                                                                            "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                          [(weight-equal
                                                                                                                                            [(asset
                                                                                                                                              "BIL"
                                                                                                                                              "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])]
                                                                                                                                    [(group
                                                                                                                                      "Bond Mid-term < Long-term"
                                                                                                                                      [(weight-equal
                                                                                                                                        [(if
                                                                                                                                          (<
                                                                                                                                           (rsi
                                                                                                                                            "IEF"
                                                                                                                                            {:window
                                                                                                                                             200})
                                                                                                                                           (rsi
                                                                                                                                            "TLT"
                                                                                                                                            {:window
                                                                                                                                             200}))
                                                                                                                                          [(weight-equal
                                                                                                                                            [(if
                                                                                                                                              (>
                                                                                                                                               (rsi
                                                                                                                                                "BND"
                                                                                                                                                {:window
                                                                                                                                                 45})
                                                                                                                                               (rsi
                                                                                                                                                "SPY"
                                                                                                                                                {:window
                                                                                                                                                 45}))
                                                                                                                                              [(asset
                                                                                                                                                "TECL"
                                                                                                                                                "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                              [(weight-equal
                                                                                                                                                [(asset
                                                                                                                                                  "BIL"
                                                                                                                                                  "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])]
                                                                                                                                          [(weight-equal
                                                                                                                                            [(asset
                                                                                                                                              "BIL"
                                                                                                                                              "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])])])])])])])])])])])])])])])])])])])]
                                                                                      [(weight-equal
                                                                                        [(if
                                                                                          (<
                                                                                           (moving-average-return
                                                                                            "VIXY"
                                                                                            {:window
                                                                                             5})
                                                                                           0)
                                                                                          [(group
                                                                                            "3rd Block"
                                                                                            [(weight-equal
                                                                                              [(if
                                                                                                (>
                                                                                                 (cumulative-return
                                                                                                  "TQQQ"
                                                                                                  {:window
                                                                                                   1})
                                                                                                 5.5)
                                                                                                [(weight-equal
                                                                                                  [(filter
                                                                                                    (exponential-moving-average-price
                                                                                                     {:window
                                                                                                      5})
                                                                                                    (select-bottom
                                                                                                     1)
                                                                                                    [(asset
                                                                                                      "VIXM"
                                                                                                      "ProShares VIX Mid-Term Futures ETF")
                                                                                                     (asset
                                                                                                      "TECS"
                                                                                                      "Direxion Daily Technology Bear 3X Shares")])])]
                                                                                                [(weight-equal
                                                                                                  [(group
                                                                                                    "TECL or Not"
                                                                                                    [(weight-equal
                                                                                                      [(if
                                                                                                        (>
                                                                                                         (rsi
                                                                                                          "TQQQ"
                                                                                                          {:window
                                                                                                           10})
                                                                                                         79)
                                                                                                        [(asset
                                                                                                          "UVXY"
                                                                                                          "ProShares Ultra VIX Short-Term Futures ETF")]
                                                                                                        [(weight-equal
                                                                                                          [(group
                                                                                                            "Huge volatility"
                                                                                                            [(weight-equal
                                                                                                              [(if
                                                                                                                (<
                                                                                                                 (cumulative-return
                                                                                                                  "TQQQ"
                                                                                                                  {:window
                                                                                                                   6})
                                                                                                                 -13)
                                                                                                                [(weight-equal
                                                                                                                  [(if
                                                                                                                    (>
                                                                                                                     (cumulative-return
                                                                                                                      "TQQQ"
                                                                                                                      {:window
                                                                                                                       1})
                                                                                                                     6)
                                                                                                                    [(weight-equal
                                                                                                                      [(asset
                                                                                                                        "UVXY"
                                                                                                                        "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                                                    [(weight-equal
                                                                                                                      [(group
                                                                                                                        "Mean Rev"
                                                                                                                        [(weight-equal
                                                                                                                          [(if
                                                                                                                            (<
                                                                                                                             (rsi
                                                                                                                              "TQQQ"
                                                                                                                              {:window
                                                                                                                               10})
                                                                                                                             32)
                                                                                                                            [(asset
                                                                                                                              "TECL"
                                                                                                                              "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                            [(weight-equal
                                                                                                                              [(if
                                                                                                                                (<
                                                                                                                                 (max-drawdown
                                                                                                                                  "TMF"
                                                                                                                                  {:window
                                                                                                                                   10})
                                                                                                                                 7)
                                                                                                                                [(asset
                                                                                                                                  "TECL"
                                                                                                                                  "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                [(weight-equal
                                                                                                                                  [(asset
                                                                                                                                    "BIL"
                                                                                                                                    "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])]
                                                                                                                [(weight-equal
                                                                                                                  [(group
                                                                                                                    "Normal market"
                                                                                                                    [(weight-equal
                                                                                                                      [(if
                                                                                                                        (>
                                                                                                                         (max-drawdown
                                                                                                                          "QQQ"
                                                                                                                          {:window
                                                                                                                           10})
                                                                                                                         6)
                                                                                                                        [(weight-equal
                                                                                                                          [(asset
                                                                                                                            "BIL"
                                                                                                                            "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                        [(weight-equal
                                                                                                                          [(if
                                                                                                                            (>
                                                                                                                             (max-drawdown
                                                                                                                              "TMF"
                                                                                                                              {:window
                                                                                                                               10})
                                                                                                                             7)
                                                                                                                            [(weight-equal
                                                                                                                              [(asset
                                                                                                                                "BIL"
                                                                                                                                "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                            [(weight-equal
                                                                                                                              [(if
                                                                                                                                (>
                                                                                                                                 (current-price
                                                                                                                                  "QQQ")
                                                                                                                                 (moving-average-price
                                                                                                                                  "QQQ"
                                                                                                                                  {:window
                                                                                                                                   25}))
                                                                                                                                [(weight-equal
                                                                                                                                  [(asset
                                                                                                                                    "TECL"
                                                                                                                                    "Direxion Daily Technology Bull 3x Shares")])]
                                                                                                                                [(weight-equal
                                                                                                                                  [(if
                                                                                                                                    (>
                                                                                                                                     (rsi
                                                                                                                                      "SPY"
                                                                                                                                      {:window
                                                                                                                                       60})
                                                                                                                                     50)
                                                                                                                                    [(group
                                                                                                                                      "Bond > Stock"
                                                                                                                                      [(weight-equal
                                                                                                                                        [(if
                                                                                                                                          (>
                                                                                                                                           (rsi
                                                                                                                                            "BND"
                                                                                                                                            {:window
                                                                                                                                             45})
                                                                                                                                           (rsi
                                                                                                                                            "SPY"
                                                                                                                                            {:window
                                                                                                                                             45}))
                                                                                                                                          [(asset
                                                                                                                                            "TECL"
                                                                                                                                            "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                          [(weight-equal
                                                                                                                                            [(asset
                                                                                                                                              "BIL"
                                                                                                                                              "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])]
                                                                                                                                    [(group
                                                                                                                                      "Bond Mid-term < Long-term"
                                                                                                                                      [(weight-equal
                                                                                                                                        [(if
                                                                                                                                          (<
                                                                                                                                           (rsi
                                                                                                                                            "IEF"
                                                                                                                                            {:window
                                                                                                                                             200})
                                                                                                                                           (rsi
                                                                                                                                            "TLT"
                                                                                                                                            {:window
                                                                                                                                             200}))
                                                                                                                                          [(weight-equal
                                                                                                                                            [(if
                                                                                                                                              (>
                                                                                                                                               (rsi
                                                                                                                                                "BND"
                                                                                                                                                {:window
                                                                                                                                                 45})
                                                                                                                                               (rsi
                                                                                                                                                "SPY"
                                                                                                                                                {:window
                                                                                                                                                 45}))
                                                                                                                                              [(asset
                                                                                                                                                "TECL"
                                                                                                                                                "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                              [(weight-equal
                                                                                                                                                [(asset
                                                                                                                                                  "BIL"
                                                                                                                                                  "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])]
                                                                                                                                          [(weight-equal
                                                                                                                                            [(asset
                                                                                                                                              "BIL"
                                                                                                                                              "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])])])])])])])])])])])])])])])])])]
                                                                                          [(group
                                                                                            "4th Block"
                                                                                            [(weight-equal
                                                                                              [(if
                                                                                                (>
                                                                                                 (cumulative-return
                                                                                                  "TQQQ"
                                                                                                  {:window
                                                                                                   1})
                                                                                                 5.5)
                                                                                                [(weight-equal
                                                                                                  [(filter
                                                                                                    (exponential-moving-average-price
                                                                                                     {:window
                                                                                                      5})
                                                                                                    (select-top
                                                                                                     1)
                                                                                                    [(asset
                                                                                                      "UVXY"
                                                                                                      "ProShares Ultra VIX Short-Term Futures ETF")
                                                                                                     (asset
                                                                                                      "TECS"
                                                                                                      "Direxion Daily Technology Bear 3X Shares")])])]
                                                                                                [(weight-equal
                                                                                                  [(group
                                                                                                    "TECL or Not"
                                                                                                    [(weight-equal
                                                                                                      [(if
                                                                                                        (>
                                                                                                         (rsi
                                                                                                          "TQQQ"
                                                                                                          {:window
                                                                                                           10})
                                                                                                         79)
                                                                                                        [(asset
                                                                                                          "UVXY"
                                                                                                          "ProShares Ultra VIX Short-Term Futures ETF")]
                                                                                                        [(weight-equal
                                                                                                          [(group
                                                                                                            "Huge volatility"
                                                                                                            [(weight-equal
                                                                                                              [(if
                                                                                                                (<
                                                                                                                 (cumulative-return
                                                                                                                  "TQQQ"
                                                                                                                  {:window
                                                                                                                   6})
                                                                                                                 -13)
                                                                                                                [(weight-equal
                                                                                                                  [(if
                                                                                                                    (>
                                                                                                                     (cumulative-return
                                                                                                                      "TQQQ"
                                                                                                                      {:window
                                                                                                                       1})
                                                                                                                     6)
                                                                                                                    [(weight-equal
                                                                                                                      [(asset
                                                                                                                        "UVXY"
                                                                                                                        "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                                                    [(weight-equal
                                                                                                                      [(group
                                                                                                                        "Mean Rev"
                                                                                                                        [(weight-equal
                                                                                                                          [(if
                                                                                                                            (<
                                                                                                                             (rsi
                                                                                                                              "TQQQ"
                                                                                                                              {:window
                                                                                                                               10})
                                                                                                                             32)
                                                                                                                            [(asset
                                                                                                                              "TECL"
                                                                                                                              "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                            [(weight-equal
                                                                                                                              [(if
                                                                                                                                (<
                                                                                                                                 (max-drawdown
                                                                                                                                  "TMF"
                                                                                                                                  {:window
                                                                                                                                   10})
                                                                                                                                 7)
                                                                                                                                [(asset
                                                                                                                                  "TECL"
                                                                                                                                  "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                [(weight-equal
                                                                                                                                  [(asset
                                                                                                                                    "BIL"
                                                                                                                                    "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])]
                                                                                                                [(weight-equal
                                                                                                                  [(group
                                                                                                                    "Normal market"
                                                                                                                    [(weight-equal
                                                                                                                      [(if
                                                                                                                        (>
                                                                                                                         (max-drawdown
                                                                                                                          "QQQ"
                                                                                                                          {:window
                                                                                                                           10})
                                                                                                                         6)
                                                                                                                        [(weight-equal
                                                                                                                          [(asset
                                                                                                                            "BIL"
                                                                                                                            "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                        [(weight-equal
                                                                                                                          [(if
                                                                                                                            (>
                                                                                                                             (max-drawdown
                                                                                                                              "TMF"
                                                                                                                              {:window
                                                                                                                               10})
                                                                                                                             7)
                                                                                                                            [(weight-equal
                                                                                                                              [(asset
                                                                                                                                "BIL"
                                                                                                                                "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                            [(weight-equal
                                                                                                                              [(if
                                                                                                                                (>
                                                                                                                                 (current-price
                                                                                                                                  "QQQ")
                                                                                                                                 (moving-average-price
                                                                                                                                  "QQQ"
                                                                                                                                  {:window
                                                                                                                                   25}))
                                                                                                                                [(weight-equal
                                                                                                                                  [(asset
                                                                                                                                    "TECL"
                                                                                                                                    "Direxion Daily Technology Bull 3x Shares")])]
                                                                                                                                [(weight-equal
                                                                                                                                  [(if
                                                                                                                                    (>
                                                                                                                                     (rsi
                                                                                                                                      "SPY"
                                                                                                                                      {:window
                                                                                                                                       60})
                                                                                                                                     50)
                                                                                                                                    [(group
                                                                                                                                      "Bond > Stock"
                                                                                                                                      [(weight-equal
                                                                                                                                        [(if
                                                                                                                                          (>
                                                                                                                                           (rsi
                                                                                                                                            "BND"
                                                                                                                                            {:window
                                                                                                                                             45})
                                                                                                                                           (rsi
                                                                                                                                            "SPY"
                                                                                                                                            {:window
                                                                                                                                             45}))
                                                                                                                                          [(asset
                                                                                                                                            "TECL"
                                                                                                                                            "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                          [(weight-equal
                                                                                                                                            [(asset
                                                                                                                                              "BIL"
                                                                                                                                              "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])]
                                                                                                                                    [(group
                                                                                                                                      "Bond Mid-term < Long-term"
                                                                                                                                      [(weight-equal
                                                                                                                                        [(if
                                                                                                                                          (<
                                                                                                                                           (rsi
                                                                                                                                            "IEF"
                                                                                                                                            {:window
                                                                                                                                             200})
                                                                                                                                           (rsi
                                                                                                                                            "TLT"
                                                                                                                                            {:window
                                                                                                                                             200}))
                                                                                                                                          [(weight-equal
                                                                                                                                            [(if
                                                                                                                                              (>
                                                                                                                                               (rsi
                                                                                                                                                "BND"
                                                                                                                                                {:window
                                                                                                                                                 45})
                                                                                                                                               (rsi
                                                                                                                                                "SPY"
                                                                                                                                                {:window
                                                                                                                                                 45}))
                                                                                                                                              [(asset
                                                                                                                                                "TECL"
                                                                                                                                                "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                              [(weight-equal
                                                                                                                                                [(asset
                                                                                                                                                  "BIL"
                                                                                                                                                  "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])]
                                                                                                                                          [(weight-equal
                                                                                                                                            [(asset
                                                                                                                                              "BIL"
                                                                                                                                              "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])]
                                                                      [(weight-equal
                                                                        [(group
                                                                          "Danger Market Conditions"
                                                                          [(weight-equal
                                                                            [(if
                                                                              (>
                                                                               (rsi
                                                                                "TQQQ"
                                                                                {:window
                                                                                 10})
                                                                               80)
                                                                              [(weight-equal
                                                                                [(filter
                                                                                  (cumulative-return
                                                                                   {:window
                                                                                    5})
                                                                                  (select-bottom
                                                                                   1)
                                                                                  [(asset
                                                                                    "TMV"
                                                                                    "Direxion Daily 20+ Year Treasury Bear 3x Shares")
                                                                                   (asset
                                                                                    "UGL"
                                                                                    "ProShares Ultra Gold")])])]
                                                                              [(weight-equal
                                                                                [(if
                                                                                  (>
                                                                                   (rsi
                                                                                    "VIXY"
                                                                                    {:window
                                                                                     10})
                                                                                   50)
                                                                                  [(weight-equal
                                                                                    [(if
                                                                                      (<
                                                                                       (rsi
                                                                                        "TQQQ"
                                                                                        {:window
                                                                                         10})
                                                                                       31)
                                                                                      [(weight-equal
                                                                                        [(filter
                                                                                          (stdev-price
                                                                                           {:window
                                                                                            5})
                                                                                          (select-bottom
                                                                                           1)
                                                                                          [(asset
                                                                                            "SVXY"
                                                                                            "ProShares Short VIX Short-Term Futures ETF")
                                                                                           (asset
                                                                                            "SOXL"
                                                                                            "Direxion Daily Semiconductor Bull 3x Shares")
                                                                                           (asset
                                                                                            "ERX"
                                                                                            "Direxion Daily Energy Bull 2x Shares")
                                                                                           (asset
                                                                                            "TMV"
                                                                                            "Direxion Daily 20+ Year Treasury Bear 3x Shares")])])]
                                                                                      [(weight-equal
                                                                                        [(if
                                                                                          (<
                                                                                           (moving-average-return
                                                                                            "VIXY"
                                                                                            {:window
                                                                                             5})
                                                                                           0)
                                                                                          [(weight-equal
                                                                                            [(asset
                                                                                              "SVXY"
                                                                                              "ProShares Short VIX Short-Term Futures ETF")])]
                                                                                          [(weight-equal
                                                                                            [(group
                                                                                              "TECL or Not"
                                                                                              [(weight-equal
                                                                                                [(if
                                                                                                  (>
                                                                                                   (rsi
                                                                                                    "TQQQ"
                                                                                                    {:window
                                                                                                     10})
                                                                                                   79)
                                                                                                  [(asset
                                                                                                    "UVXY"
                                                                                                    "ProShares Ultra VIX Short-Term Futures ETF")]
                                                                                                  [(weight-equal
                                                                                                    [(group
                                                                                                      "Huge volatility"
                                                                                                      [(weight-equal
                                                                                                        [(if
                                                                                                          (<
                                                                                                           (cumulative-return
                                                                                                            "TQQQ"
                                                                                                            {:window
                                                                                                             6})
                                                                                                           -13)
                                                                                                          [(weight-equal
                                                                                                            [(if
                                                                                                              (>
                                                                                                               (cumulative-return
                                                                                                                "TQQQ"
                                                                                                                {:window
                                                                                                                 1})
                                                                                                               6)
                                                                                                              [(weight-equal
                                                                                                                [(asset
                                                                                                                  "UVXY"
                                                                                                                  "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                                              [(weight-equal
                                                                                                                [(group
                                                                                                                  "Mean Rev"
                                                                                                                  [(weight-equal
                                                                                                                    [(if
                                                                                                                      (<
                                                                                                                       (rsi
                                                                                                                        "TQQQ"
                                                                                                                        {:window
                                                                                                                         10})
                                                                                                                       32)
                                                                                                                      [(asset
                                                                                                                        "TECL"
                                                                                                                        "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                      [(weight-equal
                                                                                                                        [(if
                                                                                                                          (<
                                                                                                                           (max-drawdown
                                                                                                                            "TMF"
                                                                                                                            {:window
                                                                                                                             10})
                                                                                                                           7)
                                                                                                                          [(asset
                                                                                                                            "TECL"
                                                                                                                            "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                          [(weight-equal
                                                                                                                            [(asset
                                                                                                                              "BIL"
                                                                                                                              "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])]
                                                                                                          [(weight-equal
                                                                                                            [(group
                                                                                                              "Normal market"
                                                                                                              [(weight-equal
                                                                                                                [(if
                                                                                                                  (>
                                                                                                                   (max-drawdown
                                                                                                                    "QQQ"
                                                                                                                    {:window
                                                                                                                     10})
                                                                                                                   6)
                                                                                                                  [(weight-equal
                                                                                                                    [(asset
                                                                                                                      "BIL"
                                                                                                                      "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                  [(weight-equal
                                                                                                                    [(if
                                                                                                                      (>
                                                                                                                       (max-drawdown
                                                                                                                        "TMF"
                                                                                                                        {:window
                                                                                                                         10})
                                                                                                                       7)
                                                                                                                      [(weight-equal
                                                                                                                        [(asset
                                                                                                                          "BIL"
                                                                                                                          "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                      [(weight-equal
                                                                                                                        [(if
                                                                                                                          (>
                                                                                                                           (current-price
                                                                                                                            "QQQ")
                                                                                                                           (moving-average-price
                                                                                                                            "QQQ"
                                                                                                                            {:window
                                                                                                                             25}))
                                                                                                                          [(weight-equal
                                                                                                                            [(asset
                                                                                                                              "TECL"
                                                                                                                              "Direxion Daily Technology Bull 3x Shares")])]
                                                                                                                          [(weight-equal
                                                                                                                            [(if
                                                                                                                              (>
                                                                                                                               (rsi
                                                                                                                                "SPY"
                                                                                                                                {:window
                                                                                                                                 60})
                                                                                                                               50)
                                                                                                                              [(group
                                                                                                                                "Bond > Stock"
                                                                                                                                [(weight-equal
                                                                                                                                  [(if
                                                                                                                                    (>
                                                                                                                                     (rsi
                                                                                                                                      "BND"
                                                                                                                                      {:window
                                                                                                                                       45})
                                                                                                                                     (rsi
                                                                                                                                      "SPY"
                                                                                                                                      {:window
                                                                                                                                       45}))
                                                                                                                                    [(asset
                                                                                                                                      "TECL"
                                                                                                                                      "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                    [(weight-equal
                                                                                                                                      [(asset
                                                                                                                                        "BIL"
                                                                                                                                        "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])]
                                                                                                                              [(group
                                                                                                                                "Bond Mid-term < Long-term"
                                                                                                                                [(weight-equal
                                                                                                                                  [(if
                                                                                                                                    (<
                                                                                                                                     (rsi
                                                                                                                                      "IEF"
                                                                                                                                      {:window
                                                                                                                                       200})
                                                                                                                                     (rsi
                                                                                                                                      "TLT"
                                                                                                                                      {:window
                                                                                                                                       200}))
                                                                                                                                    [(weight-equal
                                                                                                                                      [(if
                                                                                                                                        (>
                                                                                                                                         (rsi
                                                                                                                                          "BND"
                                                                                                                                          {:window
                                                                                                                                           45})
                                                                                                                                         (rsi
                                                                                                                                          "SPY"
                                                                                                                                          {:window
                                                                                                                                           45}))
                                                                                                                                        [(asset
                                                                                                                                          "TECL"
                                                                                                                                          "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                        [(weight-equal
                                                                                                                                          [(asset
                                                                                                                                            "BIL"
                                                                                                                                            "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])]
                                                                                                                                    [(weight-equal
                                                                                                                                      [(asset
                                                                                                                                        "BIL"
                                                                                                                                        "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])])])])])])])])])])])])])])])])])])]
                                                                                  [(weight-equal
                                                                                    [(if
                                                                                      (<
                                                                                       (rsi
                                                                                        "TQQQ"
                                                                                        {:window
                                                                                         10})
                                                                                       31)
                                                                                      [(weight-equal
                                                                                        [(asset
                                                                                          "SVXY"
                                                                                          "ProShares Short VIX Short-Term Futures ETF")])]
                                                                                      [(weight-equal
                                                                                        [(group
                                                                                          "TECL or Not"
                                                                                          [(weight-equal
                                                                                            [(if
                                                                                              (>
                                                                                               (rsi
                                                                                                "TQQQ"
                                                                                                {:window
                                                                                                 10})
                                                                                               79)
                                                                                              [(asset
                                                                                                "UVXY"
                                                                                                "ProShares Ultra VIX Short-Term Futures ETF")]
                                                                                              [(weight-equal
                                                                                                [(group
                                                                                                  "Huge volatility"
                                                                                                  [(weight-equal
                                                                                                    [(if
                                                                                                      (<
                                                                                                       (cumulative-return
                                                                                                        "TQQQ"
                                                                                                        {:window
                                                                                                         6})
                                                                                                       -13)
                                                                                                      [(weight-equal
                                                                                                        [(if
                                                                                                          (>
                                                                                                           (cumulative-return
                                                                                                            "TQQQ"
                                                                                                            {:window
                                                                                                             1})
                                                                                                           6)
                                                                                                          [(weight-equal
                                                                                                            [(asset
                                                                                                              "UVXY"
                                                                                                              "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                                          [(weight-equal
                                                                                                            [(group
                                                                                                              "Mean Rev"
                                                                                                              [(weight-equal
                                                                                                                [(if
                                                                                                                  (<
                                                                                                                   (rsi
                                                                                                                    "TQQQ"
                                                                                                                    {:window
                                                                                                                     10})
                                                                                                                   32)
                                                                                                                  [(asset
                                                                                                                    "TECL"
                                                                                                                    "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                  [(weight-equal
                                                                                                                    [(if
                                                                                                                      (<
                                                                                                                       (max-drawdown
                                                                                                                        "TMF"
                                                                                                                        {:window
                                                                                                                         10})
                                                                                                                       7)
                                                                                                                      [(asset
                                                                                                                        "TECL"
                                                                                                                        "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                      [(weight-equal
                                                                                                                        [(asset
                                                                                                                          "BIL"
                                                                                                                          "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])]
                                                                                                      [(weight-equal
                                                                                                        [(group
                                                                                                          "Normal market"
                                                                                                          [(weight-equal
                                                                                                            [(if
                                                                                                              (>
                                                                                                               (max-drawdown
                                                                                                                "QQQ"
                                                                                                                {:window
                                                                                                                 10})
                                                                                                               6)
                                                                                                              [(weight-equal
                                                                                                                [(asset
                                                                                                                  "BIL"
                                                                                                                  "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                              [(weight-equal
                                                                                                                [(if
                                                                                                                  (>
                                                                                                                   (max-drawdown
                                                                                                                    "TMF"
                                                                                                                    {:window
                                                                                                                     10})
                                                                                                                   7)
                                                                                                                  [(weight-equal
                                                                                                                    [(asset
                                                                                                                      "BIL"
                                                                                                                      "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                  [(weight-equal
                                                                                                                    [(if
                                                                                                                      (>
                                                                                                                       (current-price
                                                                                                                        "QQQ")
                                                                                                                       (moving-average-price
                                                                                                                        "QQQ"
                                                                                                                        {:window
                                                                                                                         25}))
                                                                                                                      [(weight-equal
                                                                                                                        [(asset
                                                                                                                          "TECL"
                                                                                                                          "Direxion Daily Technology Bull 3x Shares")])]
                                                                                                                      [(weight-equal
                                                                                                                        [(if
                                                                                                                          (>
                                                                                                                           (rsi
                                                                                                                            "SPY"
                                                                                                                            {:window
                                                                                                                             60})
                                                                                                                           50)
                                                                                                                          [(group
                                                                                                                            "Bond > Stock"
                                                                                                                            [(weight-equal
                                                                                                                              [(if
                                                                                                                                (>
                                                                                                                                 (rsi
                                                                                                                                  "BND"
                                                                                                                                  {:window
                                                                                                                                   45})
                                                                                                                                 (rsi
                                                                                                                                  "SPY"
                                                                                                                                  {:window
                                                                                                                                   45}))
                                                                                                                                [(asset
                                                                                                                                  "TECL"
                                                                                                                                  "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                [(weight-equal
                                                                                                                                  [(asset
                                                                                                                                    "BIL"
                                                                                                                                    "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])]
                                                                                                                          [(group
                                                                                                                            "Bond Mid-term < Long-term"
                                                                                                                            [(weight-equal
                                                                                                                              [(if
                                                                                                                                (<
                                                                                                                                 (rsi
                                                                                                                                  "IEF"
                                                                                                                                  {:window
                                                                                                                                   200})
                                                                                                                                 (rsi
                                                                                                                                  "TLT"
                                                                                                                                  {:window
                                                                                                                                   200}))
                                                                                                                                [(weight-equal
                                                                                                                                  [(if
                                                                                                                                    (>
                                                                                                                                     (rsi
                                                                                                                                      "BND"
                                                                                                                                      {:window
                                                                                                                                       45})
                                                                                                                                     (rsi
                                                                                                                                      "SPY"
                                                                                                                                      {:window
                                                                                                                                       45}))
                                                                                                                                    [(asset
                                                                                                                                      "TECL"
                                                                                                                                      "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                    [(weight-equal
                                                                                                                                      [(asset
                                                                                                                                        "BIL"
                                                                                                                                        "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])]
                                                                                                                                [(weight-equal
                                                                                                                                  [(asset
                                                                                                                                    "BIL"
                                                                                                                                    "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])
         (group
          "V1a TQQQ or not"
          [(weight-equal
            [(group
              "bsmr230105 | TQQQ or not | BlackSwan MeanRev BondSignal"
              [(weight-equal
                [(if
                  (> (rsi "TQQQ" {:window 10}) 79)
                  [(asset
                    "UVXY"
                    "ProShares Ultra VIX Short-Term Futures ETF")]
                  [(weight-equal
                    [(group
                      "Huge volatility"
                      [(weight-equal
                        [(if
                          (<
                           (cumulative-return "TQQQ" {:window 6})
                           -12)
                          [(weight-equal
                            [(if
                              (>
                               (cumulative-return "TQQQ" {:window 1})
                               5.5)
                              [(weight-equal
                                [(asset
                                  "UVXY"
                                  "ProShares Ultra VIX Short-Term Futures ETF")])]
                              [(weight-equal
                                [(group
                                  "Mean Rev"
                                  [(weight-equal
                                    [(if
                                      (< (rsi "TQQQ" {:window 10}) 32)
                                      [(asset
                                        "SOXL"
                                        "Direxion Daily Semiconductor Bull 3x Shares")]
                                      [(weight-equal
                                        [(if
                                          (<
                                           (max-drawdown
                                            "TMF"
                                            {:window 10})
                                           7)
                                          [(asset
                                            "SOXL"
                                            "Direxion Daily Semiconductor Bull 3x Shares")]
                                          [(weight-equal
                                            [(asset
                                              "BIL"
                                              "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])]
                          [(weight-equal
                            [(group
                              "Normal market"
                              [(weight-equal
                                [(if
                                  (>
                                   (max-drawdown "QQQ" {:window 10})
                                   6)
                                  [(asset
                                    "BIL"
                                    "SPDR Bloomberg 1-3 Month T-Bill ETF")]
                                  [(weight-equal
                                    [(if
                                      (>
                                       (max-drawdown
                                        "TMF"
                                        {:window 10})
                                       7)
                                      [(asset
                                        "BIL"
                                        "SPDR Bloomberg 1-3 Month T-Bill ETF")]
                                      [(weight-equal
                                        [(if
                                          (>
                                           (current-price "QQQ")
                                           (moving-average-price
                                            "QQQ"
                                            {:window 25}))
                                          [(weight-equal
                                            [(asset
                                              "TQQQ"
                                              "ProShares UltraPro QQQ")])]
                                          [(weight-equal
                                            [(if
                                              (>
                                               (rsi "SPY" {:window 60})
                                               50)
                                              [(group
                                                "Bond > Stock"
                                                [(weight-equal
                                                  [(if
                                                    (>
                                                     (rsi
                                                      "BND"
                                                      {:window 45})
                                                     (rsi
                                                      "SPY"
                                                      {:window 45}))
                                                    [(asset
                                                      "TQQQ"
                                                      "ProShares UltraPro QQQ")]
                                                    [(asset
                                                      "BIL"
                                                      "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])]
                                              [(group
                                                "Bond Mid-term < Long-term"
                                                [(weight-equal
                                                  [(if
                                                    (<
                                                     (rsi
                                                      "IEF"
                                                      {:window 200})
                                                     (rsi
                                                      "TLT"
                                                      {:window 200}))
                                                    [(weight-equal
                                                      [(if
                                                        (>
                                                         (rsi
                                                          "BND"
                                                          {:window 45})
                                                         (rsi
                                                          "SPY"
                                                          {:window
                                                           45}))
                                                        [(asset
                                                          "TQQQ"
                                                          "ProShares UltraPro QQQ")]
                                                        [(asset
                                                          "BIL"
                                                          "SPDR Bloomberg 1-3 Month T-Bill ETF")])])]
                                                    [(asset
                                                      "BIL"
                                                      "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])])])])])])])])])])])])])])])])
     (group
      "Anansi Portfolio V15 | Ultra LBT 2011-11-22"
      [(weight-specified
        0.6
        (group
         "Frontrunner -> Equities | Unified Equity Block V3"
         [(weight-equal
           [(if
             (> (max-drawdown "SVXY" {:window 3}) 20)
             [(asset "BTAL" nil)]
             [(weight-equal
               [(if
                 (> (rsi "SPY" {:window 10}) 80)
                 [(asset "UVXY" nil)]
                 [(weight-equal
                   [(if
                     (> (rsi "QQQ" {:window 10}) 79)
                     [(asset "VIXY" nil)]
                     [(weight-equal
                       [(if
                         (> (rsi "VTV" {:window 10}) 79)
                         [(asset "VIXY" nil)]
                         [(weight-equal
                           [(if
                             (> (rsi "VOX" {:window 10}) 79)
                             [(asset "VIXY" nil)]
                             [(weight-equal
                               [(if
                                 (> (rsi "XLK" {:window 10}) 79)
                                 [(asset "VIXY" nil)]
                                 [(weight-equal
                                   [(if
                                     (> (rsi "XLP" {:window 10}) 75)
                                     [(asset "VIXY" nil)]
                                     [(weight-equal
                                       [(if
                                         (>
                                          (rsi "XLF" {:window 10})
                                          80)
                                         [(asset "VIXY" nil)]
                                         [(group
                                           "200d Cross"
                                           [(weight-equal
                                             [(if
                                               (>
                                                (current-price "SPY")
                                                (moving-average-price
                                                 "SPY"
                                                 {:window 200}))
                                               [(weight-equal
                                                 [(if
                                                   (<
                                                    (moving-average-price
                                                     "SPY"
                                                     {:window 3})
                                                    (moving-average-price
                                                     "SPY"
                                                     {:window 200}))
                                                   [(group
                                                     "200D Bull Cross "
                                                     [(weight-equal
                                                       [(filter
                                                         (rsi
                                                          {:window 10})
                                                         (select-top 1)
                                                         [(asset
                                                           "TQQQ"
                                                           nil)
                                                          (asset
                                                           "TMF"
                                                           nil)])])])]
                                                   [(group
                                                     "Equities"
                                                     [(weight-equal
                                                       [(group
                                                         "FTLT/Bull/Bonds"
                                                         [(weight-equal
                                                           [(if
                                                             (<
                                                              (cumulative-return
                                                               "QQQ"
                                                               {:window
                                                                6})
                                                              -3.5)
                                                             [(weight-equal
                                                               [(if
                                                                 (>
                                                                  (cumulative-return
                                                                   "QQQ"
                                                                   {:window
                                                                    1})
                                                                  2)
                                                                 [(asset
                                                                   "BIL"
                                                                   "SPDR Bloomberg 1-3 Month T-Bill ETF")]
                                                                 [(group
                                                                   "FTLT/Bull/Bonds"
                                                                   [(weight-equal
                                                                     [(if
                                                                       (<
                                                                        (rsi
                                                                         "XLU"
                                                                         {:window
                                                                          126})
                                                                        (rsi
                                                                         "SPY"
                                                                         {:window
                                                                          126}))
                                                                       [(weight-equal
                                                                         [(if
                                                                           (<
                                                                            (rsi
                                                                             "DBC"
                                                                             {:window
                                                                              126})
                                                                            (rsi
                                                                             "XLK"
                                                                             {:window
                                                                              126}))
                                                                           [(group
                                                                             "15d AGG vs 15d QQQ"
                                                                             [(weight-equal
                                                                               [(if
                                                                                 (>
                                                                                  (rsi
                                                                                   "AGG"
                                                                                   {:window
                                                                                    15})
                                                                                  (rsi
                                                                                   "QQQ"
                                                                                   {:window
                                                                                    15}))
                                                                                 [(asset
                                                                                   "TECL"
                                                                                   nil)]
                                                                                 [(group
                                                                                   "20d AGG vs 60d SH"
                                                                                   [(weight-equal
                                                                                     [(if
                                                                                       (>
                                                                                        (rsi
                                                                                         "AGG"
                                                                                         {:window
                                                                                          20})
                                                                                        (rsi
                                                                                         "SH"
                                                                                         {:window
                                                                                          60}))
                                                                                       [(asset
                                                                                         "TQQQ"
                                                                                         nil)]
                                                                                       [(asset
                                                                                         "PSQ"
                                                                                         nil)])])])])])])]
                                                                           [(group
                                                                             "Commodity Rotator"
                                                                             [(weight-equal
                                                                               [(filter
                                                                                 (cumulative-return
                                                                                  {:window
                                                                                   5})
                                                                                 (select-top
                                                                                  1)
                                                                                 [(asset
                                                                                   "ERX"
                                                                                   nil)
                                                                                  (asset
                                                                                   "NUGT"
                                                                                   nil)
                                                                                  (asset
                                                                                   "UGL"
                                                                                   nil)])])])])])]
                                                                       [(weight-equal
                                                                         [(if
                                                                           (<
                                                                            (rsi
                                                                             "TLT"
                                                                             {:window
                                                                              126})
                                                                            50)
                                                                           [(group
                                                                             "15d AGG vs 15d QQQ"
                                                                             [(weight-equal
                                                                               [(if
                                                                                 (>
                                                                                  (rsi
                                                                                   "AGG"
                                                                                   {:window
                                                                                    15})
                                                                                  (rsi
                                                                                   "QQQ"
                                                                                   {:window
                                                                                    15}))
                                                                                 [(asset
                                                                                   "TECL"
                                                                                   nil)]
                                                                                 [(group
                                                                                   "20d AGG vs 60d SH"
                                                                                   [(weight-equal
                                                                                     [(if
                                                                                       (>
                                                                                        (rsi
                                                                                         "AGG"
                                                                                         {:window
                                                                                          20})
                                                                                        (rsi
                                                                                         "SH"
                                                                                         {:window
                                                                                          60}))
                                                                                       [(asset
                                                                                         "TQQQ"
                                                                                         nil)]
                                                                                       [(asset
                                                                                         "PSQ"
                                                                                         nil)])])])])])])]
                                                                           [(group
                                                                             "TLT Bull"
                                                                             [(weight-equal
                                                                               [(filter
                                                                                 (rsi
                                                                                  {:window
                                                                                   20})
                                                                                 (select-bottom
                                                                                  1)
                                                                                 [(asset
                                                                                   "TMF"
                                                                                   nil)
                                                                                  (asset
                                                                                   "UUP"
                                                                                   nil)])])])])])])])])])])]
                                                             [(group
                                                               "FTLT/Bull/Bonds"
                                                               [(weight-equal
                                                                 [(if
                                                                   (<
                                                                    (rsi
                                                                     "XLU"
                                                                     {:window
                                                                      126})
                                                                    (rsi
                                                                     "SPY"
                                                                     {:window
                                                                      126}))
                                                                   [(weight-equal
                                                                     [(if
                                                                       (<
                                                                        (rsi
                                                                         "DBC"
                                                                         {:window
                                                                          126})
                                                                        (rsi
                                                                         "XLK"
                                                                         {:window
                                                                          126}))
                                                                       [(group
                                                                         "15d AGG vs 15d QQQ"
                                                                         [(weight-equal
                                                                           [(if
                                                                             (>
                                                                              (rsi
                                                                               "AGG"
                                                                               {:window
                                                                                15})
                                                                              (rsi
                                                                               "QQQ"
                                                                               {:window
                                                                                15}))
                                                                             [(asset
                                                                               "TECL"
                                                                               nil)]
                                                                             [(group
                                                                               "20d AGG vs 60d SH"
                                                                               [(weight-equal
                                                                                 [(if
                                                                                   (>
                                                                                    (rsi
                                                                                     "AGG"
                                                                                     {:window
                                                                                      20})
                                                                                    (rsi
                                                                                     "SH"
                                                                                     {:window
                                                                                      60}))
                                                                                   [(asset
                                                                                     "TQQQ"
                                                                                     nil)]
                                                                                   [(asset
                                                                                     "PSQ"
                                                                                     nil)])])])])])])]
                                                                       [(group
                                                                         "Commodity Rotator"
                                                                         [(weight-equal
                                                                           [(filter
                                                                             (cumulative-return
                                                                              {:window
                                                                               5})
                                                                             (select-top
                                                                              1)
                                                                             [(asset
                                                                               "ERX"
                                                                               nil)
                                                                              (asset
                                                                               "NUGT"
                                                                               nil)
                                                                              (asset
                                                                               "UGL"
                                                                               nil)])])])])])]
                                                                   [(weight-equal
                                                                     [(if
                                                                       (<
                                                                        (rsi
                                                                         "TLT"
                                                                         {:window
                                                                          126})
                                                                        50)
                                                                       [(group
                                                                         "15d AGG vs 15d QQQ"
                                                                         [(weight-equal
                                                                           [(if
                                                                             (>
                                                                              (rsi
                                                                               "AGG"
                                                                               {:window
                                                                                15})
                                                                              (rsi
                                                                               "QQQ"
                                                                               {:window
                                                                                15}))
                                                                             [(asset
                                                                               "TECL"
                                                                               nil)]
                                                                             [(group
                                                                               "20d AGG vs 60d SH"
                                                                               [(weight-equal
                                                                                 [(if
                                                                                   (>
                                                                                    (rsi
                                                                                     "AGG"
                                                                                     {:window
                                                                                      20})
                                                                                    (rsi
                                                                                     "SH"
                                                                                     {:window
                                                                                      60}))
                                                                                   [(asset
                                                                                     "TQQQ"
                                                                                     nil)]
                                                                                   [(asset
                                                                                     "PSQ"
                                                                                     nil)])])])])])])]
                                                                       [(group
                                                                         "TLT Bull"
                                                                         [(weight-equal
                                                                           [(filter
                                                                             (rsi
                                                                              {:window
                                                                               20})
                                                                             (select-bottom
                                                                              1)
                                                                             [(asset
                                                                               "TMF"
                                                                               nil)
                                                                              (asset
                                                                               "UUP"
                                                                               nil)])])])])])])])])])])])
                                                        (group
                                                         "Holy Grail | 20/60"
                                                         [(weight-equal
                                                           [(if
                                                             (<
                                                              (cumulative-return
                                                               "QQQ"
                                                               {:window
                                                                6})
                                                              -3.5)
                                                             [(weight-equal
                                                               [(if
                                                                 (>
                                                                  (cumulative-return
                                                                   "QQQ"
                                                                   {:window
                                                                    1})
                                                                  2)
                                                                 [(asset
                                                                   "BIL"
                                                                   "SPDR Bloomberg 1-3 Month T-Bill ETF")]
                                                                 [(group
                                                                   "SVXY or Holy Grail"
                                                                   [(weight-equal
                                                                     [(if
                                                                       (>
                                                                        (current-price
                                                                         "SPY")
                                                                        (moving-average-price
                                                                         "SPY"
                                                                         {:window
                                                                          200}))
                                                                       [(group
                                                                         "SVXY"
                                                                         [(weight-equal
                                                                           [(if
                                                                             (<
                                                                              (rsi
                                                                               "SOXX"
                                                                               {:window
                                                                                10})
                                                                              30)
                                                                             [(asset
                                                                               "SOXL"
                                                                               nil)]
                                                                             [(asset
                                                                               "SVXY"
                                                                               nil)])])])]
                                                                       [(group
                                                                         "Holy Grail Revamped"
                                                                         [(weight-equal
                                                                           [(if
                                                                             (<
                                                                              (rsi
                                                                               "SOXX"
                                                                               {:window
                                                                                10})
                                                                              30)
                                                                             [(asset
                                                                               "SOXL"
                                                                               nil)]
                                                                             [(weight-equal
                                                                               [(if
                                                                                 (<
                                                                                  (rsi
                                                                                   "QQQ"
                                                                                   {:window
                                                                                    10})
                                                                                  30)
                                                                                 [(asset
                                                                                   "TECL"
                                                                                   nil)]
                                                                                 [(weight-equal
                                                                                   [(if
                                                                                     (<
                                                                                      (rsi
                                                                                       "SPY"
                                                                                       {:window
                                                                                        10})
                                                                                      30)
                                                                                     [(asset
                                                                                       "UPRO"
                                                                                       nil)]
                                                                                     [(weight-equal
                                                                                       [(if
                                                                                         (>
                                                                                          (current-price
                                                                                           "SPY")
                                                                                          (moving-average-price
                                                                                           "SPY"
                                                                                           {:window
                                                                                            200}))
                                                                                         [(group
                                                                                           "20d AGG vs 60d SH"
                                                                                           [(weight-equal
                                                                                             [(if
                                                                                               (>
                                                                                                (rsi
                                                                                                 "AGG"
                                                                                                 {:window
                                                                                                  20})
                                                                                                (rsi
                                                                                                 "SH"
                                                                                                 {:window
                                                                                                  60}))
                                                                                               [(asset
                                                                                                 "TQQQ"
                                                                                                 nil)]
                                                                                               [(asset
                                                                                                 "PSQ"
                                                                                                 nil)])])])]
                                                                                         [(weight-equal
                                                                                           [(if
                                                                                             (>
                                                                                              (cumulative-return
                                                                                               "QQQ"
                                                                                               {:window
                                                                                                60})
                                                                                              -12)
                                                                                             [(weight-equal
                                                                                               [(if
                                                                                                 (>
                                                                                                  (current-price
                                                                                                   "TQQQ")
                                                                                                  (moving-average-price
                                                                                                   "TQQQ"
                                                                                                   {:window
                                                                                                    20}))
                                                                                                 [(weight-equal
                                                                                                   [(if
                                                                                                     (<
                                                                                                      (rsi
                                                                                                       "PSQ"
                                                                                                       {:window
                                                                                                        10})
                                                                                                      35)
                                                                                                     [(asset
                                                                                                       "PSQ"
                                                                                                       nil)]
                                                                                                     [(group
                                                                                                       "20d AGG vs 60d SH"
                                                                                                       [(weight-equal
                                                                                                         [(if
                                                                                                           (>
                                                                                                            (rsi
                                                                                                             "AGG"
                                                                                                             {:window
                                                                                                              20})
                                                                                                            (rsi
                                                                                                             "SH"
                                                                                                             {:window
                                                                                                              60}))
                                                                                                           [(asset
                                                                                                             "TQQQ"
                                                                                                             nil)]
                                                                                                           [(asset
                                                                                                             "PSQ"
                                                                                                             nil)])])])])])]
                                                                                                 [(weight-equal
                                                                                                   [(if
                                                                                                     (>
                                                                                                      (rsi
                                                                                                       "IEF"
                                                                                                       {:window
                                                                                                        10})
                                                                                                      (rsi
                                                                                                       "PSQ"
                                                                                                       {:window
                                                                                                        20}))
                                                                                                     [(asset
                                                                                                       "PSQ"
                                                                                                       nil)]
                                                                                                     [(asset
                                                                                                       "SQQQ"
                                                                                                       nil)])])])])]
                                                                                             [(asset
                                                                                               "BIL"
                                                                                               nil)])])])])])])])])])])])])])])])])]
                                                             [(group
                                                               "Holy Grail Revamped"
                                                               [(weight-equal
                                                                 [(if
                                                                   (<
                                                                    (rsi
                                                                     "SOXX"
                                                                     {:window
                                                                      10})
                                                                    30)
                                                                   [(asset
                                                                     "SOXL"
                                                                     nil)]
                                                                   [(weight-equal
                                                                     [(if
                                                                       (<
                                                                        (rsi
                                                                         "QQQ"
                                                                         {:window
                                                                          10})
                                                                        30)
                                                                       [(asset
                                                                         "TECL"
                                                                         nil)]
                                                                       [(weight-equal
                                                                         [(if
                                                                           (<
                                                                            (rsi
                                                                             "SPY"
                                                                             {:window
                                                                              10})
                                                                            30)
                                                                           [(asset
                                                                             "UPRO"
                                                                             nil)]
                                                                           [(weight-equal
                                                                             [(if
                                                                               (>
                                                                                (current-price
                                                                                 "SPY")
                                                                                (moving-average-price
                                                                                 "SPY"
                                                                                 {:window
                                                                                  200}))
                                                                               [(group
                                                                                 "20d AGG vs 60d SH"
                                                                                 [(weight-equal
                                                                                   [(if
                                                                                     (>
                                                                                      (rsi
                                                                                       "AGG"
                                                                                       {:window
                                                                                        20})
                                                                                      (rsi
                                                                                       "SH"
                                                                                       {:window
                                                                                        60}))
                                                                                     [(asset
                                                                                       "TQQQ"
                                                                                       nil)]
                                                                                     [(asset
                                                                                       "PSQ"
                                                                                       nil)])])])]
                                                                               [(weight-equal
                                                                                 [(if
                                                                                   (>
                                                                                    (cumulative-return
                                                                                     "QQQ"
                                                                                     {:window
                                                                                      60})
                                                                                    -12)
                                                                                   [(weight-equal
                                                                                     [(if
                                                                                       (>
                                                                                        (current-price
                                                                                         "TQQQ")
                                                                                        (moving-average-price
                                                                                         "TQQQ"
                                                                                         {:window
                                                                                          20}))
                                                                                       [(weight-equal
                                                                                         [(if
                                                                                           (<
                                                                                            (rsi
                                                                                             "PSQ"
                                                                                             {:window
                                                                                              10})
                                                                                            35)
                                                                                           [(asset
                                                                                             "PSQ"
                                                                                             nil)]
                                                                                           [(group
                                                                                             "20d AGG vs 60d SH"
                                                                                             [(weight-equal
                                                                                               [(if
                                                                                                 (>
                                                                                                  (rsi
                                                                                                   "AGG"
                                                                                                   {:window
                                                                                                    20})
                                                                                                  (rsi
                                                                                                   "SH"
                                                                                                   {:window
                                                                                                    60}))
                                                                                                 [(asset
                                                                                                   "TQQQ"
                                                                                                   nil)]
                                                                                                 [(asset
                                                                                                   "PSQ"
                                                                                                   nil)])])])])])]
                                                                                       [(weight-equal
                                                                                         [(if
                                                                                           (>
                                                                                            (rsi
                                                                                             "IEF"
                                                                                             {:window
                                                                                              10})
                                                                                            (rsi
                                                                                             "PSQ"
                                                                                             {:window
                                                                                              20}))
                                                                                           [(asset
                                                                                             "PSQ"
                                                                                             nil)]
                                                                                           [(asset
                                                                                             "SQQQ"
                                                                                             nil)])])])])]
                                                                                   [(asset
                                                                                     "BIL"
                                                                                     nil)])])])])])])])])])])])])])])
                                                        (group
                                                         "Holy Grail | Three Bond Compares"
                                                         [(weight-equal
                                                           [(if
                                                             (<
                                                              (cumulative-return
                                                               "QQQ"
                                                               {:window
                                                                6})
                                                              -3.5)
                                                             [(weight-equal
                                                               [(if
                                                                 (>
                                                                  (cumulative-return
                                                                   "QQQ"
                                                                   {:window
                                                                    1})
                                                                  2)
                                                                 [(asset
                                                                   "UVXY"
                                                                   nil)]
                                                                 [(group
                                                                   "SVXY or Holy Grail"
                                                                   [(weight-equal
                                                                     [(if
                                                                       (>
                                                                        (current-price
                                                                         "SPY")
                                                                        (moving-average-price
                                                                         "SPY"
                                                                         {:window
                                                                          200}))
                                                                       [(group
                                                                         "SVXY"
                                                                         [(weight-equal
                                                                           [(if
                                                                             (<
                                                                              (rsi
                                                                               "SOXX"
                                                                               {:window
                                                                                10})
                                                                              30)
                                                                             [(asset
                                                                               "SOXL"
                                                                               nil)]
                                                                             [(asset
                                                                               "SVXY"
                                                                               nil)])])])]
                                                                       [(group
                                                                         "Holy Grail | Bond Compares"
                                                                         [(weight-equal
                                                                           [(if
                                                                             (>
                                                                              (current-price
                                                                               "SPY")
                                                                              (moving-average-price
                                                                               "SPY"
                                                                               {:window
                                                                                200}))
                                                                             [(group
                                                                               "Bond Compares"
                                                                               [(weight-equal
                                                                                 [(group
                                                                                   "15d AGG vs 15d QQQ - TQQQ/PSQ"
                                                                                   [(weight-equal
                                                                                     [(if
                                                                                       (>
                                                                                        (rsi
                                                                                         "AGG"
                                                                                         {:window
                                                                                          15})
                                                                                        (rsi
                                                                                         "QQQ"
                                                                                         {:window
                                                                                          15}))
                                                                                       [(asset
                                                                                         "TQQQ"
                                                                                         nil)]
                                                                                       [(asset
                                                                                         "PSQ"
                                                                                         nil)])])])
                                                                                  (group
                                                                                   "10d IEF vs 20d PSQ - TQQQ/PSQ"
                                                                                   [(weight-equal
                                                                                     [(if
                                                                                       (>
                                                                                        (rsi
                                                                                         "IEF"
                                                                                         {:window
                                                                                          10})
                                                                                        (rsi
                                                                                         "PSQ"
                                                                                         {:window
                                                                                          20}))
                                                                                       [(asset
                                                                                         "TQQQ"
                                                                                         nil)]
                                                                                       [(asset
                                                                                         "PSQ"
                                                                                         nil)])])])
                                                                                  (group
                                                                                   "15d BSV vs 15d XLU - SVXY/VIXM"
                                                                                   [(weight-equal
                                                                                     [(if
                                                                                       (>
                                                                                        (rsi
                                                                                         "BSV"
                                                                                         {:window
                                                                                          15})
                                                                                        (rsi
                                                                                         "XLU"
                                                                                         {:window
                                                                                          15}))
                                                                                       [(asset
                                                                                         "SVXY"
                                                                                         nil)]
                                                                                       [(asset
                                                                                         "VIXM"
                                                                                         nil)])])])])])]
                                                                             [(weight-equal
                                                                               [(if
                                                                                 (<
                                                                                  (rsi
                                                                                   "QQQ"
                                                                                   {:window
                                                                                    10})
                                                                                  30)
                                                                                 [(asset
                                                                                   "TECL"
                                                                                   nil)]
                                                                                 [(weight-equal
                                                                                   [(if
                                                                                     (<
                                                                                      (rsi
                                                                                       "SPY"
                                                                                       {:window
                                                                                        10})
                                                                                      30)
                                                                                     [(asset
                                                                                       "UPRO"
                                                                                       nil)]
                                                                                     [(weight-equal
                                                                                       [(if
                                                                                         (>
                                                                                          (cumulative-return
                                                                                           "QQQ"
                                                                                           {:window
                                                                                            60})
                                                                                          -12)
                                                                                         [(weight-equal
                                                                                           [(if
                                                                                             (>
                                                                                              (current-price
                                                                                               "TQQQ")
                                                                                              (moving-average-price
                                                                                               "TQQQ"
                                                                                               {:window
                                                                                                20}))
                                                                                             [(weight-equal
                                                                                               [(if
                                                                                                 (<
                                                                                                  (rsi
                                                                                                   "PSQ"
                                                                                                   {:window
                                                                                                    10})
                                                                                                  35)
                                                                                                 [(asset
                                                                                                   "PSQ"
                                                                                                   nil)]
                                                                                                 [(group
                                                                                                   "Bond Compares"
                                                                                                   [(weight-equal
                                                                                                     [(group
                                                                                                       "15d AGG vs 15d QQQ - TQQQ/PSQ"
                                                                                                       [(weight-equal
                                                                                                         [(if
                                                                                                           (>
                                                                                                            (rsi
                                                                                                             "AGG"
                                                                                                             {:window
                                                                                                              15})
                                                                                                            (rsi
                                                                                                             "QQQ"
                                                                                                             {:window
                                                                                                              15}))
                                                                                                           [(asset
                                                                                                             "TQQQ"
                                                                                                             nil)]
                                                                                                           [(asset
                                                                                                             "PSQ"
                                                                                                             nil)])])])
                                                                                                      (group
                                                                                                       "10d IEF vs 20d PSQ - TQQQ/PSQ"
                                                                                                       [(weight-equal
                                                                                                         [(if
                                                                                                           (>
                                                                                                            (rsi
                                                                                                             "IEF"
                                                                                                             {:window
                                                                                                              10})
                                                                                                            (rsi
                                                                                                             "PSQ"
                                                                                                             {:window
                                                                                                              20}))
                                                                                                           [(asset
                                                                                                             "TQQQ"
                                                                                                             nil)]
                                                                                                           [(asset
                                                                                                             "PSQ"
                                                                                                             nil)])])])
                                                                                                      (group
                                                                                                       "15d BSV vs 15d XLU - SVXY/VIXM"
                                                                                                       [(weight-equal
                                                                                                         [(if
                                                                                                           (>
                                                                                                            (rsi
                                                                                                             "BSV"
                                                                                                             {:window
                                                                                                              15})
                                                                                                            (rsi
                                                                                                             "XLU"
                                                                                                             {:window
                                                                                                              15}))
                                                                                                           [(asset
                                                                                                             "SVXY"
                                                                                                             nil)]
                                                                                                           [(asset
                                                                                                             "VIXM"
                                                                                                             nil)])])])])])])])]
                                                                                             [(weight-equal
                                                                                               [(if
                                                                                                 (>
                                                                                                  (rsi
                                                                                                   "IEF"
                                                                                                   {:window
                                                                                                    10})
                                                                                                  (rsi
                                                                                                   "PSQ"
                                                                                                   {:window
                                                                                                    20}))
                                                                                                 [(asset
                                                                                                   "PSQ"
                                                                                                   nil)]
                                                                                                 [(asset
                                                                                                   "SQQQ"
                                                                                                   nil)])])])])]
                                                                                         [(asset
                                                                                           "BIL"
                                                                                           nil)])])])])])])])])])])])])])])]
                                                             [(group
                                                               "Holy Grail | Bond Compares"
                                                               [(weight-equal
                                                                 [(if
                                                                   (>
                                                                    (current-price
                                                                     "SPY")
                                                                    (moving-average-price
                                                                     "SPY"
                                                                     {:window
                                                                      200}))
                                                                   [(group
                                                                     "Bond Compares"
                                                                     [(weight-equal
                                                                       [(group
                                                                         "15d AGG vs 15d QQQ - TQQQ/PSQ"
                                                                         [(weight-equal
                                                                           [(if
                                                                             (>
                                                                              (rsi
                                                                               "AGG"
                                                                               {:window
                                                                                15})
                                                                              (rsi
                                                                               "QQQ"
                                                                               {:window
                                                                                15}))
                                                                             [(asset
                                                                               "TQQQ"
                                                                               nil)]
                                                                             [(asset
                                                                               "PSQ"
                                                                               nil)])])])
                                                                        (group
                                                                         "10d IEF vs 20d PSQ - TQQQ/PSQ"
                                                                         [(weight-equal
                                                                           [(if
                                                                             (>
                                                                              (rsi
                                                                               "IEF"
                                                                               {:window
                                                                                10})
                                                                              (rsi
                                                                               "PSQ"
                                                                               {:window
                                                                                20}))
                                                                             [(asset
                                                                               "TQQQ"
                                                                               nil)]
                                                                             [(asset
                                                                               "PSQ"
                                                                               nil)])])])
                                                                        (group
                                                                         "15d BSV vs 15d XLU - SVXY/VIXM"
                                                                         [(weight-equal
                                                                           [(if
                                                                             (>
                                                                              (rsi
                                                                               "BSV"
                                                                               {:window
                                                                                15})
                                                                              (rsi
                                                                               "XLU"
                                                                               {:window
                                                                                15}))
                                                                             [(asset
                                                                               "SVXY"
                                                                               nil)]
                                                                             [(asset
                                                                               "VIXM"
                                                                               nil)])])])])])]
                                                                   [(weight-equal
                                                                     [(if
                                                                       (<
                                                                        (rsi
                                                                         "QQQ"
                                                                         {:window
                                                                          10})
                                                                        30)
                                                                       [(asset
                                                                         "TECL"
                                                                         nil)]
                                                                       [(weight-equal
                                                                         [(if
                                                                           (<
                                                                            (rsi
                                                                             "SPY"
                                                                             {:window
                                                                              10})
                                                                            30)
                                                                           [(asset
                                                                             "UPRO"
                                                                             nil)]
                                                                           [(weight-equal
                                                                             [(if
                                                                               (>
                                                                                (cumulative-return
                                                                                 "QQQ"
                                                                                 {:window
                                                                                  60})
                                                                                -12)
                                                                               [(weight-equal
                                                                                 [(if
                                                                                   (>
                                                                                    (current-price
                                                                                     "TQQQ")
                                                                                    (moving-average-price
                                                                                     "TQQQ"
                                                                                     {:window
                                                                                      20}))
                                                                                   [(weight-equal
                                                                                     [(if
                                                                                       (<
                                                                                        (rsi
                                                                                         "PSQ"
                                                                                         {:window
                                                                                          10})
                                                                                        35)
                                                                                       [(asset
                                                                                         "PSQ"
                                                                                         nil)]
                                                                                       [(group
                                                                                         "Bond Compares"
                                                                                         [(weight-equal
                                                                                           [(group
                                                                                             "15d AGG vs 15d QQQ - TQQQ/PSQ"
                                                                                             [(weight-equal
                                                                                               [(if
                                                                                                 (>
                                                                                                  (rsi
                                                                                                   "AGG"
                                                                                                   {:window
                                                                                                    15})
                                                                                                  (rsi
                                                                                                   "QQQ"
                                                                                                   {:window
                                                                                                    15}))
                                                                                                 [(asset
                                                                                                   "TQQQ"
                                                                                                   nil)]
                                                                                                 [(asset
                                                                                                   "PSQ"
                                                                                                   nil)])])])
                                                                                            (group
                                                                                             "10d IEF vs 20d PSQ - TQQQ/PSQ"
                                                                                             [(weight-equal
                                                                                               [(if
                                                                                                 (>
                                                                                                  (rsi
                                                                                                   "IEF"
                                                                                                   {:window
                                                                                                    10})
                                                                                                  (rsi
                                                                                                   "PSQ"
                                                                                                   {:window
                                                                                                    20}))
                                                                                                 [(asset
                                                                                                   "TQQQ"
                                                                                                   nil)]
                                                                                                 [(asset
                                                                                                   "PSQ"
                                                                                                   nil)])])])
                                                                                            (group
                                                                                             "15d BSV vs 15d XLU - SVXY/VIXM"
                                                                                             [(weight-equal
                                                                                               [(if
                                                                                                 (>
                                                                                                  (rsi
                                                                                                   "BSV"
                                                                                                   {:window
                                                                                                    15})
                                                                                                  (rsi
                                                                                                   "XLU"
                                                                                                   {:window
                                                                                                    15}))
                                                                                                 [(asset
                                                                                                   "SVXY"
                                                                                                   nil)]
                                                                                                 [(asset
                                                                                                   "VIXM"
                                                                                                   nil)])])])])])])])]
                                                                                   [(weight-equal
                                                                                     [(if
                                                                                       (>
                                                                                        (rsi
                                                                                         "IEF"
                                                                                         {:window
                                                                                          10})
                                                                                        (rsi
                                                                                         "PSQ"
                                                                                         {:window
                                                                                          20}))
                                                                                       [(asset
                                                                                         "PSQ"
                                                                                         nil)]
                                                                                       [(asset
                                                                                         "SQQQ"
                                                                                         nil)])])])])]
                                                                               [(asset
                                                                                 "BIL"
                                                                                 nil)])])])])])])])])])])])])
                                                        (group
                                                         "WAM V3"
                                                         [(weight-equal
                                                           [(if
                                                             (<
                                                              (rsi
                                                               "QQQ"
                                                               {:window
                                                                10})
                                                              30)
                                                             [(asset
                                                               "TQQQ"
                                                               nil)]
                                                             [(weight-equal
                                                               [(if
                                                                 (>
                                                                  (rsi
                                                                   "XLE"
                                                                   {:window
                                                                    15})
                                                                  (rsi
                                                                   "XLK"
                                                                   {:window
                                                                    15}))
                                                                 [(weight-equal
                                                                   [(if
                                                                     (>
                                                                      (rsi
                                                                       "AGG"
                                                                       {:window
                                                                        15})
                                                                      (rsi
                                                                       "QQQ"
                                                                       {:window
                                                                        15}))
                                                                     [(group
                                                                       "Bull"
                                                                       [(weight-equal
                                                                         [(filter
                                                                           (cumulative-return
                                                                            {:window
                                                                             5})
                                                                           (select-bottom
                                                                            3)
                                                                           [(asset
                                                                             "TQQQ"
                                                                             nil)
                                                                            (asset
                                                                             "TECL"
                                                                             nil)
                                                                            (asset
                                                                             "URTY"
                                                                             nil)
                                                                            (asset
                                                                             "DRN"
                                                                             nil)
                                                                            (asset
                                                                             "TMF"
                                                                             nil)])])])]
                                                                     [(group
                                                                       "Bear"
                                                                       [(weight-equal
                                                                         [(filter
                                                                           (cumulative-return
                                                                            {:window
                                                                             5})
                                                                           (select-bottom
                                                                            3)
                                                                           [(asset
                                                                             "SQQQ"
                                                                             nil)
                                                                            (asset
                                                                             "TECS"
                                                                             nil)
                                                                            (asset
                                                                             "SRTY"
                                                                             nil)
                                                                            (asset
                                                                             "DRV"
                                                                             nil)
                                                                            (asset
                                                                             "TMV"
                                                                             nil)])])])])])]
                                                                 [(group
                                                                   "Alternate"
                                                                   [(weight-equal
                                                                     [(filter
                                                                       (cumulative-return
                                                                        {:window
                                                                         20})
                                                                       (select-top
                                                                        2)
                                                                       [(asset
                                                                         "TQQQ"
                                                                         nil)
                                                                        (asset
                                                                         "UPRO"
                                                                         nil)
                                                                        (asset
                                                                         "URTY"
                                                                         nil)
                                                                        (asset
                                                                         "QQQ"
                                                                         nil)])])])])])])])])
                                                        (group
                                                         "Four Corners"
                                                         [(weight-equal
                                                           [(if
                                                             (<
                                                              (rsi
                                                               "QQQ"
                                                               {:window
                                                                10})
                                                              30)
                                                             [(asset
                                                               "TECL"
                                                               nil)]
                                                             [(weight-equal
                                                               [(if
                                                                 (<
                                                                  (rsi
                                                                   "XLU"
                                                                   {:window
                                                                    126})
                                                                  (rsi
                                                                   "XLK"
                                                                   {:window
                                                                    126}))
                                                                 [(weight-equal
                                                                   [(if
                                                                     (>
                                                                      (cumulative-return
                                                                       "CORP"
                                                                       {:window
                                                                        63})
                                                                      (cumulative-return
                                                                       "BIL"
                                                                       {:window
                                                                        63}))
                                                                     [(asset
                                                                       "TQQQ"
                                                                       nil)]
                                                                     [(group
                                                                       "TLT vs PSQ"
                                                                       [(weight-equal
                                                                         [(if
                                                                           (>
                                                                            (rsi
                                                                             "TLT"
                                                                             {:window
                                                                              15})
                                                                            (rsi
                                                                             "PSQ"
                                                                             {:window
                                                                              15}))
                                                                           [(asset
                                                                             "TQQQ"
                                                                             nil)]
                                                                           [(asset
                                                                             "BTAL"
                                                                             nil)])])])])])]
                                                                 [(weight-equal
                                                                   [(if
                                                                     (>
                                                                      (cumulative-return
                                                                       "CORP"
                                                                       {:window
                                                                        63})
                                                                      (cumulative-return
                                                                       "BIL"
                                                                       {:window
                                                                        63}))
                                                                     [(asset
                                                                       "VWO"
                                                                       nil)]
                                                                     [(asset
                                                                       "PSQ"
                                                                       nil)])])])])])])])])])])])]
                                               [(weight-equal
                                                 [(if
                                                   (>
                                                    (moving-average-price
                                                     "SPY"
                                                     {:window 3})
                                                    (moving-average-price
                                                     "SPY"
                                                     {:window 200}))
                                                   [(group
                                                     "200D Bear Cross"
                                                     [(weight-equal
                                                       [(filter
                                                         (rsi
                                                          {:window 10})
                                                         (select-top 1)
                                                         [(asset
                                                           "SPXU"
                                                           nil)
                                                          (asset
                                                           "TMF"
                                                           nil)])])])]
                                                   [(group
                                                     "Equities"
                                                     [(weight-equal
                                                       [(group
                                                         "FTLT/Bull/Bonds"
                                                         [(weight-equal
                                                           [(if
                                                             (<
                                                              (cumulative-return
                                                               "QQQ"
                                                               {:window
                                                                6})
                                                              -3.5)
                                                             [(weight-equal
                                                               [(if
                                                                 (>
                                                                  (cumulative-return
                                                                   "QQQ"
                                                                   {:window
                                                                    1})
                                                                  2)
                                                                 [(asset
                                                                   "BIL"
                                                                   "SPDR Bloomberg 1-3 Month T-Bill ETF")]
                                                                 [(group
                                                                   "FTLT/Bull/Bonds"
                                                                   [(weight-equal
                                                                     [(if
                                                                       (<
                                                                        (rsi
                                                                         "XLU"
                                                                         {:window
                                                                          126})
                                                                        (rsi
                                                                         "SPY"
                                                                         {:window
                                                                          126}))
                                                                       [(weight-equal
                                                                         [(if
                                                                           (<
                                                                            (rsi
                                                                             "DBC"
                                                                             {:window
                                                                              126})
                                                                            (rsi
                                                                             "XLK"
                                                                             {:window
                                                                              126}))
                                                                           [(group
                                                                             "15d AGG vs 15d QQQ"
                                                                             [(weight-equal
                                                                               [(if
                                                                                 (>
                                                                                  (rsi
                                                                                   "AGG"
                                                                                   {:window
                                                                                    15})
                                                                                  (rsi
                                                                                   "QQQ"
                                                                                   {:window
                                                                                    15}))
                                                                                 [(asset
                                                                                   "TECL"
                                                                                   nil)]
                                                                                 [(group
                                                                                   "20d AGG vs 60d SH"
                                                                                   [(weight-equal
                                                                                     [(if
                                                                                       (>
                                                                                        (rsi
                                                                                         "AGG"
                                                                                         {:window
                                                                                          20})
                                                                                        (rsi
                                                                                         "SH"
                                                                                         {:window
                                                                                          60}))
                                                                                       [(asset
                                                                                         "TQQQ"
                                                                                         nil)]
                                                                                       [(asset
                                                                                         "PSQ"
                                                                                         nil)])])])])])])]
                                                                           [(group
                                                                             "Commodity Rotator"
                                                                             [(weight-equal
                                                                               [(filter
                                                                                 (cumulative-return
                                                                                  {:window
                                                                                   5})
                                                                                 (select-top
                                                                                  1)
                                                                                 [(asset
                                                                                   "ERX"
                                                                                   nil)
                                                                                  (asset
                                                                                   "NUGT"
                                                                                   nil)
                                                                                  (asset
                                                                                   "UGL"
                                                                                   nil)])])])])])]
                                                                       [(weight-equal
                                                                         [(if
                                                                           (<
                                                                            (rsi
                                                                             "TLT"
                                                                             {:window
                                                                              126})
                                                                            50)
                                                                           [(group
                                                                             "15d AGG vs 15d QQQ"
                                                                             [(weight-equal
                                                                               [(if
                                                                                 (>
                                                                                  (rsi
                                                                                   "AGG"
                                                                                   {:window
                                                                                    15})
                                                                                  (rsi
                                                                                   "QQQ"
                                                                                   {:window
                                                                                    15}))
                                                                                 [(asset
                                                                                   "TECL"
                                                                                   nil)]
                                                                                 [(group
                                                                                   "20d AGG vs 60d SH"
                                                                                   [(weight-equal
                                                                                     [(if
                                                                                       (>
                                                                                        (rsi
                                                                                         "AGG"
                                                                                         {:window
                                                                                          20})
                                                                                        (rsi
                                                                                         "SH"
                                                                                         {:window
                                                                                          60}))
                                                                                       [(asset
                                                                                         "TQQQ"
                                                                                         nil)]
                                                                                       [(asset
                                                                                         "PSQ"
                                                                                         nil)])])])])])])]
                                                                           [(group
                                                                             "TLT Bull"
                                                                             [(weight-equal
                                                                               [(filter
                                                                                 (rsi
                                                                                  {:window
                                                                                   20})
                                                                                 (select-bottom
                                                                                  1)
                                                                                 [(asset
                                                                                   "TMF"
                                                                                   nil)
                                                                                  (asset
                                                                                   "UUP"
                                                                                   nil)])])])])])])])])])])]
                                                             [(group
                                                               "FTLT/Bull/Bonds"
                                                               [(weight-equal
                                                                 [(if
                                                                   (<
                                                                    (rsi
                                                                     "XLU"
                                                                     {:window
                                                                      126})
                                                                    (rsi
                                                                     "SPY"
                                                                     {:window
                                                                      126}))
                                                                   [(weight-equal
                                                                     [(if
                                                                       (<
                                                                        (rsi
                                                                         "DBC"
                                                                         {:window
                                                                          126})
                                                                        (rsi
                                                                         "XLK"
                                                                         {:window
                                                                          126}))
                                                                       [(group
                                                                         "15d AGG vs 15d QQQ"
                                                                         [(weight-equal
                                                                           [(if
                                                                             (>
                                                                              (rsi
                                                                               "AGG"
                                                                               {:window
                                                                                15})
                                                                              (rsi
                                                                               "QQQ"
                                                                               {:window
                                                                                15}))
                                                                             [(asset
                                                                               "TECL"
                                                                               nil)]
                                                                             [(group
                                                                               "20d AGG vs 60d SH"
                                                                               [(weight-equal
                                                                                 [(if
                                                                                   (>
                                                                                    (rsi
                                                                                     "AGG"
                                                                                     {:window
                                                                                      20})
                                                                                    (rsi
                                                                                     "SH"
                                                                                     {:window
                                                                                      60}))
                                                                                   [(asset
                                                                                     "TQQQ"
                                                                                     nil)]
                                                                                   [(asset
                                                                                     "PSQ"
                                                                                     nil)])])])])])])]
                                                                       [(group
                                                                         "Commodity Rotator"
                                                                         [(weight-equal
                                                                           [(filter
                                                                             (cumulative-return
                                                                              {:window
                                                                               5})
                                                                             (select-top
                                                                              1)
                                                                             [(asset
                                                                               "ERX"
                                                                               nil)
                                                                              (asset
                                                                               "NUGT"
                                                                               nil)
                                                                              (asset
                                                                               "UGL"
                                                                               nil)])])])])])]
                                                                   [(weight-equal
                                                                     [(if
                                                                       (<
                                                                        (rsi
                                                                         "TLT"
                                                                         {:window
                                                                          126})
                                                                        50)
                                                                       [(group
                                                                         "15d AGG vs 15d QQQ"
                                                                         [(weight-equal
                                                                           [(if
                                                                             (>
                                                                              (rsi
                                                                               "AGG"
                                                                               {:window
                                                                                15})
                                                                              (rsi
                                                                               "QQQ"
                                                                               {:window
                                                                                15}))
                                                                             [(asset
                                                                               "TECL"
                                                                               nil)]
                                                                             [(group
                                                                               "20d AGG vs 60d SH"
                                                                               [(weight-equal
                                                                                 [(if
                                                                                   (>
                                                                                    (rsi
                                                                                     "AGG"
                                                                                     {:window
                                                                                      20})
                                                                                    (rsi
                                                                                     "SH"
                                                                                     {:window
                                                                                      60}))
                                                                                   [(asset
                                                                                     "TQQQ"
                                                                                     nil)]
                                                                                   [(asset
                                                                                     "PSQ"
                                                                                     nil)])])])])])])]
                                                                       [(group
                                                                         "TLT Bull"
                                                                         [(weight-equal
                                                                           [(filter
                                                                             (rsi
                                                                              {:window
                                                                               20})
                                                                             (select-bottom
                                                                              1)
                                                                             [(asset
                                                                               "TMF"
                                                                               nil)
                                                                              (asset
                                                                               "UUP"
                                                                               nil)])])])])])])])])])])])
                                                        (group
                                                         "Holy Grail | 20/60"
                                                         [(weight-equal
                                                           [(if
                                                             (<
                                                              (cumulative-return
                                                               "QQQ"
                                                               {:window
                                                                6})
                                                              -3.5)
                                                             [(weight-equal
                                                               [(if
                                                                 (>
                                                                  (cumulative-return
                                                                   "QQQ"
                                                                   {:window
                                                                    1})
                                                                  2)
                                                                 [(asset
                                                                   "BIL"
                                                                   "SPDR Bloomberg 1-3 Month T-Bill ETF")]
                                                                 [(group
                                                                   "SVXY or Holy Grail"
                                                                   [(weight-equal
                                                                     [(if
                                                                       (>
                                                                        (current-price
                                                                         "SPY")
                                                                        (moving-average-price
                                                                         "SPY"
                                                                         {:window
                                                                          200}))
                                                                       [(group
                                                                         "SVXY"
                                                                         [(weight-equal
                                                                           [(if
                                                                             (<
                                                                              (rsi
                                                                               "SOXX"
                                                                               {:window
                                                                                10})
                                                                              30)
                                                                             [(asset
                                                                               "SOXL"
                                                                               nil)]
                                                                             [(asset
                                                                               "SVXY"
                                                                               nil)])])])]
                                                                       [(group
                                                                         "Holy Grail Revamped"
                                                                         [(weight-equal
                                                                           [(if
                                                                             (<
                                                                              (rsi
                                                                               "SOXX"
                                                                               {:window
                                                                                10})
                                                                              30)
                                                                             [(asset
                                                                               "SOXL"
                                                                               nil)]
                                                                             [(weight-equal
                                                                               [(if
                                                                                 (<
                                                                                  (rsi
                                                                                   "QQQ"
                                                                                   {:window
                                                                                    10})
                                                                                  30)
                                                                                 [(asset
                                                                                   "TECL"
                                                                                   nil)]
                                                                                 [(weight-equal
                                                                                   [(if
                                                                                     (<
                                                                                      (rsi
                                                                                       "SPY"
                                                                                       {:window
                                                                                        10})
                                                                                      30)
                                                                                     [(asset
                                                                                       "UPRO"
                                                                                       nil)]
                                                                                     [(weight-equal
                                                                                       [(if
                                                                                         (>
                                                                                          (current-price
                                                                                           "SPY")
                                                                                          (moving-average-price
                                                                                           "SPY"
                                                                                           {:window
                                                                                            200}))
                                                                                         [(group
                                                                                           "20d AGG vs 60d SH"
                                                                                           [(weight-equal
                                                                                             [(if
                                                                                               (>
                                                                                                (rsi
                                                                                                 "AGG"
                                                                                                 {:window
                                                                                                  20})
                                                                                                (rsi
                                                                                                 "SH"
                                                                                                 {:window
                                                                                                  60}))
                                                                                               [(asset
                                                                                                 "TQQQ"
                                                                                                 nil)]
                                                                                               [(asset
                                                                                                 "PSQ"
                                                                                                 nil)])])])]
                                                                                         [(weight-equal
                                                                                           [(if
                                                                                             (>
                                                                                              (cumulative-return
                                                                                               "QQQ"
                                                                                               {:window
                                                                                                60})
                                                                                              -12)
                                                                                             [(weight-equal
                                                                                               [(if
                                                                                                 (>
                                                                                                  (current-price
                                                                                                   "TQQQ")
                                                                                                  (moving-average-price
                                                                                                   "TQQQ"
                                                                                                   {:window
                                                                                                    20}))
                                                                                                 [(weight-equal
                                                                                                   [(if
                                                                                                     (<
                                                                                                      (rsi
                                                                                                       "PSQ"
                                                                                                       {:window
                                                                                                        10})
                                                                                                      35)
                                                                                                     [(asset
                                                                                                       "PSQ"
                                                                                                       nil)]
                                                                                                     [(group
                                                                                                       "20d AGG vs 60d SH"
                                                                                                       [(weight-equal
                                                                                                         [(if
                                                                                                           (>
                                                                                                            (rsi
                                                                                                             "AGG"
                                                                                                             {:window
                                                                                                              20})
                                                                                                            (rsi
                                                                                                             "SH"
                                                                                                             {:window
                                                                                                              60}))
                                                                                                           [(asset
                                                                                                             "TQQQ"
                                                                                                             nil)]
                                                                                                           [(asset
                                                                                                             "PSQ"
                                                                                                             nil)])])])])])]
                                                                                                 [(weight-equal
                                                                                                   [(if
                                                                                                     (>
                                                                                                      (rsi
                                                                                                       "IEF"
                                                                                                       {:window
                                                                                                        10})
                                                                                                      (rsi
                                                                                                       "PSQ"
                                                                                                       {:window
                                                                                                        20}))
                                                                                                     [(asset
                                                                                                       "PSQ"
                                                                                                       nil)]
                                                                                                     [(asset
                                                                                                       "SQQQ"
                                                                                                       nil)])])])])]
                                                                                             [(asset
                                                                                               "BIL"
                                                                                               nil)])])])])])])])])])])])])])])])])]
                                                             [(group
                                                               "Holy Grail Revamped"
                                                               [(weight-equal
                                                                 [(if
                                                                   (<
                                                                    (rsi
                                                                     "SOXX"
                                                                     {:window
                                                                      10})
                                                                    30)
                                                                   [(asset
                                                                     "SOXL"
                                                                     nil)]
                                                                   [(weight-equal
                                                                     [(if
                                                                       (<
                                                                        (rsi
                                                                         "QQQ"
                                                                         {:window
                                                                          10})
                                                                        30)
                                                                       [(asset
                                                                         "TECL"
                                                                         nil)]
                                                                       [(weight-equal
                                                                         [(if
                                                                           (<
                                                                            (rsi
                                                                             "SPY"
                                                                             {:window
                                                                              10})
                                                                            30)
                                                                           [(asset
                                                                             "UPRO"
                                                                             nil)]
                                                                           [(weight-equal
                                                                             [(if
                                                                               (>
                                                                                (current-price
                                                                                 "SPY")
                                                                                (moving-average-price
                                                                                 "SPY"
                                                                                 {:window
                                                                                  200}))
                                                                               [(group
                                                                                 "20d AGG vs 60d SH"
                                                                                 [(weight-equal
                                                                                   [(if
                                                                                     (>
                                                                                      (rsi
                                                                                       "AGG"
                                                                                       {:window
                                                                                        20})
                                                                                      (rsi
                                                                                       "SH"
                                                                                       {:window
                                                                                        60}))
                                                                                     [(asset
                                                                                       "TQQQ"
                                                                                       nil)]
                                                                                     [(asset
                                                                                       "PSQ"
                                                                                       nil)])])])]
                                                                               [(weight-equal
                                                                                 [(if
                                                                                   (>
                                                                                    (cumulative-return
                                                                                     "QQQ"
                                                                                     {:window
                                                                                      60})
                                                                                    -12)
                                                                                   [(weight-equal
                                                                                     [(if
                                                                                       (>
                                                                                        (current-price
                                                                                         "TQQQ")
                                                                                        (moving-average-price
                                                                                         "TQQQ"
                                                                                         {:window
                                                                                          20}))
                                                                                       [(weight-equal
                                                                                         [(if
                                                                                           (<
                                                                                            (rsi
                                                                                             "PSQ"
                                                                                             {:window
                                                                                              10})
                                                                                            35)
                                                                                           [(asset
                                                                                             "PSQ"
                                                                                             nil)]
                                                                                           [(group
                                                                                             "20d AGG vs 60d SH"
                                                                                             [(weight-equal
                                                                                               [(if
                                                                                                 (>
                                                                                                  (rsi
                                                                                                   "AGG"
                                                                                                   {:window
                                                                                                    20})
                                                                                                  (rsi
                                                                                                   "SH"
                                                                                                   {:window
                                                                                                    60}))
                                                                                                 [(asset
                                                                                                   "TQQQ"
                                                                                                   nil)]
                                                                                                 [(asset
                                                                                                   "PSQ"
                                                                                                   nil)])])])])])]
                                                                                       [(weight-equal
                                                                                         [(if
                                                                                           (>
                                                                                            (rsi
                                                                                             "IEF"
                                                                                             {:window
                                                                                              10})
                                                                                            (rsi
                                                                                             "PSQ"
                                                                                             {:window
                                                                                              20}))
                                                                                           [(asset
                                                                                             "PSQ"
                                                                                             nil)]
                                                                                           [(asset
                                                                                             "SQQQ"
                                                                                             nil)])])])])]
                                                                                   [(asset
                                                                                     "BIL"
                                                                                     nil)])])])])])])])])])])])])])])
                                                        (group
                                                         "Holy Grail | Three Bond Compares"
                                                         [(weight-equal
                                                           [(if
                                                             (<
                                                              (cumulative-return
                                                               "QQQ"
                                                               {:window
                                                                6})
                                                              -3.5)
                                                             [(weight-equal
                                                               [(if
                                                                 (>
                                                                  (cumulative-return
                                                                   "QQQ"
                                                                   {:window
                                                                    1})
                                                                  2)
                                                                 [(asset
                                                                   "BIL"
                                                                   "SPDR Bloomberg 1-3 Month T-Bill ETF")]
                                                                 [(group
                                                                   "SVXY or Holy Grail"
                                                                   [(weight-equal
                                                                     [(if
                                                                       (>
                                                                        (current-price
                                                                         "SPY")
                                                                        (moving-average-price
                                                                         "SPY"
                                                                         {:window
                                                                          200}))
                                                                       [(group
                                                                         "SVXY"
                                                                         [(weight-equal
                                                                           [(if
                                                                             (<
                                                                              (rsi
                                                                               "SOXX"
                                                                               {:window
                                                                                10})
                                                                              30)
                                                                             [(asset
                                                                               "SOXL"
                                                                               nil)]
                                                                             [(asset
                                                                               "SVXY"
                                                                               nil)])])])]
                                                                       [(group
                                                                         "Holy Grail | Bond Compares"
                                                                         [(weight-equal
                                                                           [(if
                                                                             (>
                                                                              (current-price
                                                                               "SPY")
                                                                              (moving-average-price
                                                                               "SPY"
                                                                               {:window
                                                                                200}))
                                                                             [(group
                                                                               "Bond Compares"
                                                                               [(weight-equal
                                                                                 [(group
                                                                                   "15d AGG vs 15d QQQ - TQQQ/PSQ"
                                                                                   [(weight-equal
                                                                                     [(if
                                                                                       (>
                                                                                        (rsi
                                                                                         "AGG"
                                                                                         {:window
                                                                                          15})
                                                                                        (rsi
                                                                                         "QQQ"
                                                                                         {:window
                                                                                          15}))
                                                                                       [(asset
                                                                                         "TQQQ"
                                                                                         nil)]
                                                                                       [(asset
                                                                                         "PSQ"
                                                                                         nil)])])])
                                                                                  (group
                                                                                   "10d IEF vs 20d PSQ - TQQQ/PSQ"
                                                                                   [(weight-equal
                                                                                     [(if
                                                                                       (>
                                                                                        (rsi
                                                                                         "IEF"
                                                                                         {:window
                                                                                          10})
                                                                                        (rsi
                                                                                         "PSQ"
                                                                                         {:window
                                                                                          20}))
                                                                                       [(asset
                                                                                         "TQQQ"
                                                                                         nil)]
                                                                                       [(asset
                                                                                         "PSQ"
                                                                                         nil)])])])
                                                                                  (group
                                                                                   "15d BSV vs 15d XLU - SVXY/VIXM"
                                                                                   [(weight-equal
                                                                                     [(if
                                                                                       (>
                                                                                        (rsi
                                                                                         "BSV"
                                                                                         {:window
                                                                                          15})
                                                                                        (rsi
                                                                                         "XLU"
                                                                                         {:window
                                                                                          15}))
                                                                                       [(asset
                                                                                         "SVXY"
                                                                                         nil)]
                                                                                       [(asset
                                                                                         "VIXM"
                                                                                         nil)])])])])])]
                                                                             [(weight-equal
                                                                               [(if
                                                                                 (<
                                                                                  (rsi
                                                                                   "QQQ"
                                                                                   {:window
                                                                                    10})
                                                                                  30)
                                                                                 [(asset
                                                                                   "TECL"
                                                                                   nil)]
                                                                                 [(weight-equal
                                                                                   [(if
                                                                                     (<
                                                                                      (rsi
                                                                                       "SPY"
                                                                                       {:window
                                                                                        10})
                                                                                      30)
                                                                                     [(asset
                                                                                       "UPRO"
                                                                                       nil)]
                                                                                     [(weight-equal
                                                                                       [(if
                                                                                         (>
                                                                                          (cumulative-return
                                                                                           "QQQ"
                                                                                           {:window
                                                                                            60})
                                                                                          -12)
                                                                                         [(weight-equal
                                                                                           [(if
                                                                                             (>
                                                                                              (current-price
                                                                                               "TQQQ")
                                                                                              (moving-average-price
                                                                                               "TQQQ"
                                                                                               {:window
                                                                                                20}))
                                                                                             [(weight-equal
                                                                                               [(if
                                                                                                 (<
                                                                                                  (rsi
                                                                                                   "PSQ"
                                                                                                   {:window
                                                                                                    10})
                                                                                                  35)
                                                                                                 [(asset
                                                                                                   "PSQ"
                                                                                                   nil)]
                                                                                                 [(group
                                                                                                   "Bond Compares"
                                                                                                   [(weight-equal
                                                                                                     [(group
                                                                                                       "15d AGG vs 15d QQQ - TQQQ/PSQ"
                                                                                                       [(weight-equal
                                                                                                         [(if
                                                                                                           (>
                                                                                                            (rsi
                                                                                                             "AGG"
                                                                                                             {:window
                                                                                                              15})
                                                                                                            (rsi
                                                                                                             "QQQ"
                                                                                                             {:window
                                                                                                              15}))
                                                                                                           [(asset
                                                                                                             "TQQQ"
                                                                                                             nil)]
                                                                                                           [(asset
                                                                                                             "PSQ"
                                                                                                             nil)])])])
                                                                                                      (group
                                                                                                       "10d IEF vs 20d PSQ - TQQQ/PSQ"
                                                                                                       [(weight-equal
                                                                                                         [(if
                                                                                                           (>
                                                                                                            (rsi
                                                                                                             "IEF"
                                                                                                             {:window
                                                                                                              10})
                                                                                                            (rsi
                                                                                                             "PSQ"
                                                                                                             {:window
                                                                                                              20}))
                                                                                                           [(asset
                                                                                                             "TQQQ"
                                                                                                             nil)]
                                                                                                           [(asset
                                                                                                             "PSQ"
                                                                                                             nil)])])])
                                                                                                      (group
                                                                                                       "15d BSV vs 15d XLU - SVXY/VIXM"
                                                                                                       [(weight-equal
                                                                                                         [(if
                                                                                                           (>
                                                                                                            (rsi
                                                                                                             "BSV"
                                                                                                             {:window
                                                                                                              15})
                                                                                                            (rsi
                                                                                                             "XLU"
                                                                                                             {:window
                                                                                                              15}))
                                                                                                           [(asset
                                                                                                             "SVXY"
                                                                                                             nil)]
                                                                                                           [(asset
                                                                                                             "VIXM"
                                                                                                             nil)])])])])])])])]
                                                                                             [(weight-equal
                                                                                               [(if
                                                                                                 (>
                                                                                                  (rsi
                                                                                                   "IEF"
                                                                                                   {:window
                                                                                                    10})
                                                                                                  (rsi
                                                                                                   "PSQ"
                                                                                                   {:window
                                                                                                    20}))
                                                                                                 [(asset
                                                                                                   "PSQ"
                                                                                                   nil)]
                                                                                                 [(asset
                                                                                                   "SQQQ"
                                                                                                   nil)])])])])]
                                                                                         [(asset
                                                                                           "BIL"
                                                                                           nil)])])])])])])])])])])])])])])]
                                                             [(group
                                                               "Holy Grail | Bond Compares"
                                                               [(weight-equal
                                                                 [(if
                                                                   (>
                                                                    (current-price
                                                                     "SPY")
                                                                    (moving-average-price
                                                                     "SPY"
                                                                     {:window
                                                                      200}))
                                                                   [(group
                                                                     "Bond Compares"
                                                                     [(weight-equal
                                                                       [(group
                                                                         "15d AGG vs 15d QQQ - TQQQ/PSQ"
                                                                         [(weight-equal
                                                                           [(if
                                                                             (>
                                                                              (rsi
                                                                               "AGG"
                                                                               {:window
                                                                                15})
                                                                              (rsi
                                                                               "QQQ"
                                                                               {:window
                                                                                15}))
                                                                             [(asset
                                                                               "TQQQ"
                                                                               nil)]
                                                                             [(asset
                                                                               "PSQ"
                                                                               nil)])])])
                                                                        (group
                                                                         "10d IEF vs 20d PSQ - TQQQ/PSQ"
                                                                         [(weight-equal
                                                                           [(if
                                                                             (>
                                                                              (rsi
                                                                               "IEF"
                                                                               {:window
                                                                                10})
                                                                              (rsi
                                                                               "PSQ"
                                                                               {:window
                                                                                20}))
                                                                             [(asset
                                                                               "TQQQ"
                                                                               nil)]
                                                                             [(asset
                                                                               "PSQ"
                                                                               nil)])])])
                                                                        (group
                                                                         "15d BSV vs 15d XLU - SVXY/VIXM"
                                                                         [(weight-equal
                                                                           [(if
                                                                             (>
                                                                              (rsi
                                                                               "BSV"
                                                                               {:window
                                                                                15})
                                                                              (rsi
                                                                               "XLU"
                                                                               {:window
                                                                                15}))
                                                                             [(asset
                                                                               "SVXY"
                                                                               nil)]
                                                                             [(asset
                                                                               "VIXM"
                                                                               nil)])])])])])]
                                                                   [(weight-equal
                                                                     [(if
                                                                       (<
                                                                        (rsi
                                                                         "QQQ"
                                                                         {:window
                                                                          10})
                                                                        30)
                                                                       [(asset
                                                                         "TECL"
                                                                         nil)]
                                                                       [(weight-equal
                                                                         [(if
                                                                           (<
                                                                            (rsi
                                                                             "SPY"
                                                                             {:window
                                                                              10})
                                                                            30)
                                                                           [(asset
                                                                             "UPRO"
                                                                             nil)]
                                                                           [(weight-equal
                                                                             [(if
                                                                               (>
                                                                                (cumulative-return
                                                                                 "QQQ"
                                                                                 {:window
                                                                                  60})
                                                                                -12)
                                                                               [(weight-equal
                                                                                 [(if
                                                                                   (>
                                                                                    (current-price
                                                                                     "TQQQ")
                                                                                    (moving-average-price
                                                                                     "TQQQ"
                                                                                     {:window
                                                                                      20}))
                                                                                   [(weight-equal
                                                                                     [(if
                                                                                       (<
                                                                                        (rsi
                                                                                         "PSQ"
                                                                                         {:window
                                                                                          10})
                                                                                        35)
                                                                                       [(asset
                                                                                         "PSQ"
                                                                                         nil)]
                                                                                       [(group
                                                                                         "Bond Compares"
                                                                                         [(weight-equal
                                                                                           [(group
                                                                                             "15d AGG vs 15d QQQ - TQQQ/PSQ"
                                                                                             [(weight-equal
                                                                                               [(if
                                                                                                 (>
                                                                                                  (rsi
                                                                                                   "AGG"
                                                                                                   {:window
                                                                                                    15})
                                                                                                  (rsi
                                                                                                   "QQQ"
                                                                                                   {:window
                                                                                                    15}))
                                                                                                 [(asset
                                                                                                   "TQQQ"
                                                                                                   nil)]
                                                                                                 [(asset
                                                                                                   "PSQ"
                                                                                                   nil)])])])
                                                                                            (group
                                                                                             "10d IEF vs 20d PSQ - TQQQ/PSQ"
                                                                                             [(weight-equal
                                                                                               [(if
                                                                                                 (>
                                                                                                  (rsi
                                                                                                   "IEF"
                                                                                                   {:window
                                                                                                    10})
                                                                                                  (rsi
                                                                                                   "PSQ"
                                                                                                   {:window
                                                                                                    20}))
                                                                                                 [(asset
                                                                                                   "TQQQ"
                                                                                                   nil)]
                                                                                                 [(asset
                                                                                                   "PSQ"
                                                                                                   nil)])])])
                                                                                            (group
                                                                                             "15d BSV vs 15d XLU - SVXY/VIXM"
                                                                                             [(weight-equal
                                                                                               [(if
                                                                                                 (>
                                                                                                  (rsi
                                                                                                   "BSV"
                                                                                                   {:window
                                                                                                    15})
                                                                                                  (rsi
                                                                                                   "XLU"
                                                                                                   {:window
                                                                                                    15}))
                                                                                                 [(asset
                                                                                                   "SVXY"
                                                                                                   nil)]
                                                                                                 [(asset
                                                                                                   "VIXM"
                                                                                                   nil)])])])])])])])]
                                                                                   [(weight-equal
                                                                                     [(if
                                                                                       (>
                                                                                        (rsi
                                                                                         "IEF"
                                                                                         {:window
                                                                                          10})
                                                                                        (rsi
                                                                                         "PSQ"
                                                                                         {:window
                                                                                          20}))
                                                                                       [(asset
                                                                                         "PSQ"
                                                                                         nil)]
                                                                                       [(asset
                                                                                         "SQQQ"
                                                                                         nil)])])])])]
                                                                               [(asset
                                                                                 "BIL"
                                                                                 nil)])])])])])])])])])])])])
                                                        (group
                                                         "WAM V3"
                                                         [(weight-equal
                                                           [(if
                                                             (<
                                                              (rsi
                                                               "QQQ"
                                                               {:window
                                                                10})
                                                              30)
                                                             [(asset
                                                               "TQQQ"
                                                               nil)]
                                                             [(weight-equal
                                                               [(if
                                                                 (>
                                                                  (rsi
                                                                   "XLE"
                                                                   {:window
                                                                    15})
                                                                  (rsi
                                                                   "XLK"
                                                                   {:window
                                                                    15}))
                                                                 [(weight-equal
                                                                   [(if
                                                                     (>
                                                                      (rsi
                                                                       "AGG"
                                                                       {:window
                                                                        15})
                                                                      (rsi
                                                                       "QQQ"
                                                                       {:window
                                                                        15}))
                                                                     [(group
                                                                       "Bull"
                                                                       [(weight-equal
                                                                         [(filter
                                                                           (cumulative-return
                                                                            {:window
                                                                             5})
                                                                           (select-bottom
                                                                            3)
                                                                           [(asset
                                                                             "TQQQ"
                                                                             nil)
                                                                            (asset
                                                                             "TECL"
                                                                             nil)
                                                                            (asset
                                                                             "URTY"
                                                                             nil)
                                                                            (asset
                                                                             "DRN"
                                                                             nil)
                                                                            (asset
                                                                             "TMF"
                                                                             nil)])])])]
                                                                     [(group
                                                                       "Bear"
                                                                       [(weight-equal
                                                                         [(filter
                                                                           (cumulative-return
                                                                            {:window
                                                                             5})
                                                                           (select-bottom
                                                                            3)
                                                                           [(asset
                                                                             "SQQQ"
                                                                             nil)
                                                                            (asset
                                                                             "TECS"
                                                                             nil)
                                                                            (asset
                                                                             "SRTY"
                                                                             nil)
                                                                            (asset
                                                                             "DRV"
                                                                             nil)
                                                                            (asset
                                                                             "TMV"
                                                                             nil)])])])])])]
                                                                 [(group
                                                                   "Alternate"
                                                                   [(weight-equal
                                                                     [(filter
                                                                       (cumulative-return
                                                                        {:window
                                                                         20})
                                                                       (select-top
                                                                        2)
                                                                       [(asset
                                                                         "TQQQ"
                                                                         nil)
                                                                        (asset
                                                                         "UPRO"
                                                                         nil)
                                                                        (asset
                                                                         "URTY"
                                                                         nil)
                                                                        (asset
                                                                         "QQQ"
                                                                         nil)])])])])])])])])
                                                        (group
                                                         "Four Corners"
                                                         [(weight-equal
                                                           [(if
                                                             (<
                                                              (rsi
                                                               "QQQ"
                                                               {:window
                                                                10})
                                                              30)
                                                             [(asset
                                                               "TECL"
                                                               nil)]
                                                             [(weight-equal
                                                               [(if
                                                                 (<
                                                                  (rsi
                                                                   "XLU"
                                                                   {:window
                                                                    126})
                                                                  (rsi
                                                                   "XLK"
                                                                   {:window
                                                                    126}))
                                                                 [(weight-equal
                                                                   [(if
                                                                     (>
                                                                      (cumulative-return
                                                                       "CORP"
                                                                       {:window
                                                                        63})
                                                                      (cumulative-return
                                                                       "BIL"
                                                                       {:window
                                                                        63}))
                                                                     [(asset
                                                                       "TQQQ"
                                                                       nil)]
                                                                     [(group
                                                                       "TLT vs PSQ"
                                                                       [(weight-equal
                                                                         [(if
                                                                           (>
                                                                            (rsi
                                                                             "TLT"
                                                                             {:window
                                                                              15})
                                                                            (rsi
                                                                             "PSQ"
                                                                             {:window
                                                                              15}))
                                                                           [(asset
                                                                             "TQQQ"
                                                                             nil)]
                                                                           [(asset
                                                                             "BTAL"
                                                                             nil)])])])])])]
                                                                 [(weight-equal
                                                                   [(if
                                                                     (>
                                                                      (cumulative-return
                                                                       "CORP"
                                                                       {:window
                                                                        63})
                                                                      (cumulative-return
                                                                       "BIL"
                                                                       {:window
                                                                        63}))
                                                                     [(asset
                                                                       "VWO"
                                                                       nil)]
                                                                     [(asset
                                                                       "PSQ"
                                                                       nil)])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])
        0.4
        (group
         "Ballast"
         [(weight-equal
           [(group
             "TMF Simplified Momentum"
             [(weight-equal
               [(if
                 (< (rsi "TMF" {:window 10}) 30)
                 [(asset "TMF" nil)]
                 [(weight-equal
                   [(if
                     (>
                      (exponential-moving-average-price
                       "TMF"
                       {:window 8})
                      (moving-average-price "TMF" {:window 50}))
                     [(weight-equal
                       [(if
                         (< (rsi "TMF" {:window 10}) 75)
                         [(group
                           "1.5x Long (50% TMF)"
                           [(weight-equal
                             [(asset "TMF" nil) (asset "BIL" nil)])])]
                         [(asset "BIL" nil)])])]
                     [(group
                       "0.5x Short (50% TBF)"
                       [(weight-equal
                         [(asset "TBF" nil)
                          (asset "BIL" nil)])])])])])])])
            (group
             "TMV Simplified Momentum"
             [(weight-equal
               [(if
                 (> (rsi "TMF" {:window 10}) 85)
                 [(asset "TMV" nil)]
                 [(weight-equal
                   [(if
                     (>
                      (exponential-moving-average-price
                       "TMV"
                       {:window 8})
                      (moving-average-price "TMV" {:window 50}))
                     [(weight-equal
                       [(if
                         (< (rsi "TMV" {:window 10}) 70)
                         [(group
                           "1.5x Short (50% TMV)"
                           [(weight-equal
                             [(asset "TMV" nil) (asset "BIL" nil)])])]
                         [(asset "BIL" nil)])])]
                     [(group
                       "0.5x Long (50% TLT)"
                       [(weight-equal
                         [(asset "TLT" nil)
                          (asset "BIL" nil)])])])])])])])
            (group
             "Sectors + TLT"
             [(weight-specified
               0.25
               (group
                "XLV < 60"
                [(weight-equal
                  [(if
                    (> (rsi "XLV" {:window 10}) 60)
                    [(asset "TLT" nil)]
                    [(asset "XLV" nil)])])])
               0.25
               (group
                "XLU < 60"
                [(weight-equal
                  [(if
                    (> (rsi "XLU" {:window 10}) 60)
                    [(asset "TLT" nil)]
                    [(asset "XLU" nil)])])])
               0.5
               (group
                "BTAL < 60"
                [(weight-equal
                  [(if
                    (< (rsi "BTAL" {:window 10}) 60)
                    [(asset "BTAL" nil)]
                    [(asset "TLT" nil)])])]))])])]))])
     (group
      "BB V3.0.4.2a merged with v4 Pops and V1 New SOXL Baller"
      [(weight-equal
        [(if
          (< (rsi "SOXL" {:window 8}) 53.83)
          [(weight-equal
            [(group
              "V3.0.4.2a |  Beta Baller + TCCC  | Deez, BrianE, HinnomTX, DereckN, Garen, DJKeyhole , comrade"
              [(weight-equal
                [(if
                  (< (rsi "BIL" {:window 10}) (rsi "TLH" {:window 10}))
                  [(weight-equal
                    [(if
                      (> (rsi "SPY" {:window 6}) 75)
                      [(group
                        "Overbought S&P. Sell the rip. Buy volatility."
                        [(weight-equal
                          [(filter
                            (rsi {:window 13})
                            (select-bottom 1)
                            [(asset
                              "UVXY"
                              "ProShares Ultra VIX Short-Term Futures ETF")
                             (asset
                              "VIXY"
                              "ProShares VIX Short-Term Futures ETF")])])])]
                      [(weight-equal
                        [(if
                          (<= (rsi "SOXL" {:window 5}) 75)
                          [(asset
                            "SOXL"
                            "Direxion Daily Semiconductor Bull 3x Shares")]
                          [(asset
                            "SOXS"
                            "Direxion Daily Semiconductor Bear 3x Shares")])])])])]
                  [(weight-equal
                    [(if
                      (< (rsi "SPY" {:window 6}) 27)
                      [(group
                        "Extremely oversold S&P (low RSI). Double check with bond mkt before going long"
                        [(weight-equal
                          [(if
                            (<
                             (rsi "BSV" {:window 7})
                             (rsi "SPHB" {:window 7}))
                            [(weight-equal
                              [(filter
                                (rsi {:window 7})
                                (select-bottom 1)
                                [(asset
                                  "SOXS"
                                  "Direxion Daily Semiconductor Bear 3x Shares")
                                 (asset
                                  "SQQQ"
                                  "ProShares UltraPro Short QQQ")])])]
                            [(weight-equal
                              [(filter
                                (rsi {:window 7})
                                (select-bottom 1)
                                [(asset
                                  "SOXL"
                                  "Direxion Daily Semiconductor Bull 3x Shares")
                                 (asset
                                  "TECL"
                                  "Direxion Daily Technology Bull 3x Shares")])])])])])]
                      [(group
                        "V0.2.1 | TCCC Stop the Bleed  | DJKeyhole  | 1/2 of Momentum Mean Reversion"
                        [(weight-equal
                          [(if
                            (< (rsi "SPY" {:window 10}) 30)
                            [(group
                              "V1.2 | Five and Below | DJKeyhole | No Low Volume LETFs"
                              [(weight-equal
                                [(filter
                                  (moving-average-return {:window 5})
                                  (select-bottom 1)
                                  [(asset
                                    "TECL"
                                    "Direxion Daily Technology Bull 3x Shares")
                                   (asset
                                    "TQQQ"
                                    "ProShares UltraPro QQQ")
                                   (asset
                                    "SPXL"
                                    "Direxion Daily S&P 500 Bull 3x Shares")
                                   (asset
                                    "SOXL"
                                    "Direxion Daily Semiconductor Bull 3x Shares")
                                   (asset
                                    "UPRO"
                                    "ProShares UltraPro S&P500")
                                   (asset
                                    "QLD"
                                    "ProShares Ultra QQQ")])])])]
                            [(weight-equal
                              [(if
                                (> (rsi "UVXY" {:window 10}) 74)
                                [(weight-equal
                                  [(if
                                    (> (rsi "UVXY" {:window 10}) 84)
                                    [(group
                                      "Bear Stock Market - High Inflation - [STRIPPED] V2.0.2b | A Better LETF Basket | DJKeyhole  | BIL and TMV"
                                      [(weight-equal
                                        [(if
                                          (>
                                           (moving-average-return
                                            "SPTL"
                                            {:window 100})
                                           (moving-average-return
                                            "BIL"
                                            {:window 100}))
                                          [(group
                                            "A.B: Medium term TLT may be overbought*"
                                            [(weight-equal
                                              [(if
                                                (<
                                                 (moving-average-return
                                                  "TLT"
                                                  {:window 20})
                                                 0)
                                                [(group
                                                  "A.B.B.A: Risk Off, Rising Rates (TMV)*"
                                                  [(weight-equal
                                                    [(if
                                                      (<=
                                                       (exponential-moving-average-price
                                                        "SPY"
                                                        {:window 210})
                                                       (moving-average-price
                                                        "SPY"
                                                        {:window 360}))
                                                      [(weight-equal
                                                        [(if
                                                          (<
                                                           (rsi
                                                            "TQQQ"
                                                            {:window
                                                             10})
                                                           30)
                                                          [(weight-equal
                                                            [(filter
                                                              (moving-average-return
                                                               {:window
                                                                5})
                                                              (select-bottom
                                                               1)
                                                              [(asset
                                                                "TECL"
                                                                "Direxion Daily Technology Bull 3x Shares")
                                                               (asset
                                                                "TQQQ"
                                                                "ProShares UltraPro QQQ")
                                                               (asset
                                                                "SOXL"
                                                                "Direxion Daily Semiconductor Bull 3x Shares")
                                                               (asset
                                                                "UPRO"
                                                                "ProShares UltraPro S&P500")])])]
                                                          [(weight-equal
                                                            [(if
                                                              (>=
                                                               (cumulative-return
                                                                "SPXU"
                                                                {:window
                                                                 6})
                                                               (cumulative-return
                                                                "UPRO"
                                                                {:window
                                                                 3}))
                                                              [(weight-equal
                                                                [(filter
                                                                  (cumulative-return
                                                                   {:window
                                                                    5})
                                                                  (select-top
                                                                   1)
                                                                  [(asset
                                                                    "SQQQ"
                                                                    "ProShares UltraPro Short QQQ")
                                                                   (asset
                                                                    "EUO"
                                                                    "ProShares UltraShort Euro")
                                                                   (asset
                                                                    "YCS"
                                                                    "ProShares UltraShort Yen")])])]
                                                              [(weight-equal
                                                                [(filter
                                                                  (moving-average-return
                                                                   {:window
                                                                    5})
                                                                  (select-bottom
                                                                   1)
                                                                  [(asset
                                                                    "TECL"
                                                                    "Direxion Daily Technology Bull 3x Shares")
                                                                   (asset
                                                                    "TQQQ"
                                                                    "ProShares UltraPro QQQ")
                                                                   (asset
                                                                    "SOXL"
                                                                    "Direxion Daily Semiconductor Bull 3x Shares")
                                                                   (asset
                                                                    "CURE"
                                                                    "Direxion Daily Healthcare Bull 3x Shares")])])])])])])]
                                                      [(weight-equal
                                                        [(if
                                                          (>
                                                           (rsi
                                                            "TQQQ"
                                                            {:window
                                                             11})
                                                           77)
                                                          [(asset
                                                            "UVXY"
                                                            "ProShares Ultra VIX Short-Term Futures ETF")]
                                                          [(weight-equal
                                                            [(filter
                                                              (moving-average-return
                                                               {:window
                                                                5})
                                                              (select-bottom
                                                               1)
                                                              [(asset
                                                                "TECL"
                                                                "Direxion Daily Technology Bull 3x Shares")
                                                               (asset
                                                                "TQQQ"
                                                                "ProShares UltraPro QQQ")
                                                               (asset
                                                                "SOXL"
                                                                "Direxion Daily Semiconductor Bull 3x Shares")
                                                               (asset
                                                                "UPRO"
                                                                "ProShares UltraPro S&P500")
                                                               (asset
                                                                "TMV"
                                                                "Direxion Daily 20+ Year Treasury Bear 3x Shares")])])])])])])])]
                                                [(group
                                                  "A.B.B.B: Risk Off, Falling Rates (TMF)*"
                                                  [(weight-equal
                                                    [(if
                                                      (<=
                                                       (exponential-moving-average-price
                                                        "SPY"
                                                        {:window 210})
                                                       (moving-average-price
                                                        "SPY"
                                                        {:window 360}))
                                                      [(weight-equal
                                                        [(if
                                                          (<
                                                           (rsi
                                                            "TQQQ"
                                                            {:window
                                                             10})
                                                           30)
                                                          [(weight-equal
                                                            [(filter
                                                              (moving-average-return
                                                               {:window
                                                                5})
                                                              (select-bottom
                                                               1)
                                                              [(asset
                                                                "TECL"
                                                                "Direxion Daily Technology Bull 3x Shares")
                                                               (asset
                                                                "TQQQ"
                                                                "ProShares UltraPro QQQ")
                                                               (asset
                                                                "SOXL"
                                                                "Direxion Daily Semiconductor Bull 3x Shares")])])]
                                                          [(weight-equal
                                                            [(if
                                                              (<=
                                                               (cumulative-return
                                                                "SPY"
                                                                {:window
                                                                 2})
                                                               -2)
                                                              [(weight-equal
                                                                [(filter
                                                                  (cumulative-return
                                                                   {:window
                                                                    5})
                                                                  (select-top
                                                                   1)
                                                                  [(asset
                                                                    "TECS"
                                                                    "Direxion Daily Technology Bear 3X Shares")
                                                                   (asset
                                                                    "SOXS"
                                                                    "Direxion Daily Semiconductor Bear 3x Shares")
                                                                   (asset
                                                                    "SQQQ"
                                                                    "ProShares UltraPro Short QQQ")])])]
                                                              [(weight-equal
                                                                [(if
                                                                  (>=
                                                                   (cumulative-return
                                                                    "SPXU"
                                                                    {:window
                                                                     6})
                                                                   (cumulative-return
                                                                    "UPRO"
                                                                    {:window
                                                                     3}))
                                                                  [(weight-equal
                                                                    [(filter
                                                                      (cumulative-return
                                                                       {:window
                                                                        5})
                                                                      (select-top
                                                                       1)
                                                                      [(asset
                                                                        "ERX"
                                                                        "Direxion Daily Energy Bull 2x Shares")
                                                                       (asset
                                                                        "EUO"
                                                                        "ProShares UltraShort Euro")
                                                                       (asset
                                                                        "YCS"
                                                                        "ProShares UltraShort Yen")])])]
                                                                  [(weight-equal
                                                                    [(filter
                                                                      (moving-average-return
                                                                       {:window
                                                                        5})
                                                                      (select-bottom
                                                                       1)
                                                                      [(asset
                                                                        "SOXL"
                                                                        "Direxion Daily Semiconductor Bull 3x Shares")
                                                                       (asset
                                                                        "EWZ"
                                                                        "iShares MSCI Brazil ETF")
                                                                       (asset
                                                                        "MVV"
                                                                        "ProShares Ultra MidCap400")
                                                                       (asset
                                                                        "USD"
                                                                        "ProShares Ultra Semiconductors")])])])])])])])])]
                                                      [(weight-equal
                                                        [(if
                                                          (>
                                                           (moving-average-return
                                                            "SPY"
                                                            {:window
                                                             210})
                                                           (moving-average-return
                                                            "DBC"
                                                            {:window
                                                             360}))
                                                          [(weight-equal
                                                            [(if
                                                              (>
                                                               (rsi
                                                                "TQQQ"
                                                                {:window
                                                                 11})
                                                               77)
                                                              [(asset
                                                                "UVXY"
                                                                "ProShares Ultra VIX Short-Term Futures ETF")]
                                                              [(weight-equal
                                                                [(if
                                                                  (<
                                                                   (cumulative-return
                                                                    "TQQQ"
                                                                    {:window
                                                                     6})
                                                                   -10)
                                                                  [(weight-equal
                                                                    [(if
                                                                      (>
                                                                       (cumulative-return
                                                                        "TQQQ"
                                                                        {:window
                                                                         1})
                                                                       5.5)
                                                                      [(weight-equal
                                                                        [(asset
                                                                          "UVXY"
                                                                          "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                      [(weight-equal
                                                                        [(if
                                                                          (<
                                                                           (rsi
                                                                            "BIL"
                                                                            {:window
                                                                             7})
                                                                           (rsi
                                                                            "IEF"
                                                                            {:window
                                                                             7}))
                                                                          [(weight-equal
                                                                            [(filter
                                                                              (moving-average-return
                                                                               {:window
                                                                                5})
                                                                              (select-bottom
                                                                               1)
                                                                              [(asset
                                                                                "SOXL"
                                                                                "Direxion Daily Semiconductor Bull 3x Shares")])])]
                                                                          [(weight-equal
                                                                            [(filter
                                                                              (cumulative-return
                                                                               {:window
                                                                                5})
                                                                              (select-top
                                                                               1)
                                                                              [(asset
                                                                                "EWZ"
                                                                                "iShares MSCI Brazil ETF")
                                                                               (asset
                                                                                "UUP"
                                                                                "Invesco DB US Dollar Index Bullish Fund")
                                                                               (asset
                                                                                "TMF"
                                                                                "Direxion Daily 20+ Year Treasury Bull 3X Shares")
                                                                               (asset
                                                                                "UCO"
                                                                                "ProShares Ultra Bloomberg Crude Oil")])])])])])])]
                                                                  [(weight-equal
                                                                    [(if
                                                                      (<
                                                                       (rsi
                                                                        "BIL"
                                                                        {:window
                                                                         7})
                                                                       (rsi
                                                                        "IEF"
                                                                        {:window
                                                                         7}))
                                                                      [(weight-equal
                                                                        [(filter
                                                                          (moving-average-return
                                                                           {:window
                                                                            5})
                                                                          (select-bottom
                                                                           1)
                                                                          [(asset
                                                                            "TECL"
                                                                            "Direxion Daily Technology Bull 3x Shares")
                                                                           (asset
                                                                            "TQQQ"
                                                                            "ProShares UltraPro QQQ")
                                                                           (asset
                                                                            "SPXL"
                                                                            "Direxion Daily S&P 500 Bull 3x Shares")
                                                                           (asset
                                                                            "QLD"
                                                                            "ProShares Ultra QQQ")
                                                                           (asset
                                                                            "USD"
                                                                            "ProShares Ultra Semiconductors")])])]
                                                                      [(weight-equal
                                                                        [(filter
                                                                          (cumulative-return
                                                                           {:window
                                                                            5})
                                                                          (select-top
                                                                           1)
                                                                          [(asset
                                                                            "EWZ"
                                                                            "iShares MSCI Brazil ETF")
                                                                           (asset
                                                                            "UUP"
                                                                            "Invesco DB US Dollar Index Bullish Fund")
                                                                           (asset
                                                                            "TMF"
                                                                            "Direxion Daily 20+ Year Treasury Bull 3X Shares")])])])])])])])])]
                                                          [(group
                                                            "Defense | Modified"
                                                            [(weight-equal
                                                              [(if
                                                                (>
                                                                 (stdev-return
                                                                  "DBC"
                                                                  {:window
                                                                   20})
                                                                 (stdev-return
                                                                  "SPY"
                                                                  {:window
                                                                   20}))
                                                                [(weight-equal
                                                                  [(filter
                                                                    (rsi
                                                                     {:window
                                                                      5})
                                                                    (select-bottom
                                                                     1)
                                                                    [(asset
                                                                      "SHY"
                                                                      "iShares 1-3 Year Treasury Bond ETF")
                                                                     (asset
                                                                      "EWZ"
                                                                      "iShares MSCI Brazil ETF")
                                                                     (asset
                                                                      "GLD"
                                                                      "SPDR Gold Shares")
                                                                     (asset
                                                                      "SPXS"
                                                                      "Direxion Daily S&P 500 Bear 3x Shares")
                                                                     (asset
                                                                      "TECS"
                                                                      "Direxion Daily Technology Bear 3X Shares")
                                                                     (asset
                                                                      "SOXS"
                                                                      "Direxion Daily Semiconductor Bear 3x Shares")
                                                                     (asset
                                                                      "UCO"
                                                                      "ProShares Ultra Bloomberg Crude Oil")
                                                                     (asset
                                                                      "YCS"
                                                                      "ProShares UltraShort Yen")])])]
                                                                [(weight-equal
                                                                  [(if
                                                                    (<
                                                                     (rsi
                                                                      "BIL"
                                                                      {:window
                                                                       7})
                                                                     (rsi
                                                                      "IEF"
                                                                      {:window
                                                                       7}))
                                                                    [(weight-equal
                                                                      [(filter
                                                                        (moving-average-return
                                                                         {:window
                                                                          5})
                                                                        (select-bottom
                                                                         1)
                                                                        [(asset
                                                                          "SOXL"
                                                                          "Direxion Daily Semiconductor Bull 3x Shares")
                                                                         (asset
                                                                          "USD"
                                                                          "ProShares Ultra Semiconductors")
                                                                         (asset
                                                                          "TMF"
                                                                          "Direxion Daily 20+ Year Treasury Bull 3X Shares")])])]
                                                                    [(weight-equal
                                                                      [(filter
                                                                        (cumulative-return
                                                                         {:window
                                                                          5})
                                                                        (select-top
                                                                         1)
                                                                        [(asset
                                                                          "EWZ"
                                                                          "iShares MSCI Brazil ETF")
                                                                         (asset
                                                                          "SPXS"
                                                                          "Direxion Daily S&P 500 Bear 3x Shares")
                                                                         (asset
                                                                          "SOXS"
                                                                          "Direxion Daily Semiconductor Bear 3x Shares")
                                                                         (asset
                                                                          "UCO"
                                                                          "ProShares Ultra Bloomberg Crude Oil")
                                                                         (asset
                                                                          "YCS"
                                                                          "ProShares UltraShort Yen")])])])])])])])])])])])])])])])]
                                          [(group
                                            "B: If long term TLT is trending down, safety: Long Term, 2 Least Volatile*"
                                            [(weight-equal
                                              [(if
                                                (<
                                                 (moving-average-return
                                                  "SPTL"
                                                  {:window 20})
                                                 0)
                                                [(group
                                                  "B.A.A: Risk Off, Rising Rates (TMV)* - LETF Basket^"
                                                  [(weight-equal
                                                    [(if
                                                      (<=
                                                       (exponential-moving-average-price
                                                        "SPY"
                                                        {:window 210})
                                                       (moving-average-price
                                                        "SPY"
                                                        {:window 360}))
                                                      [(weight-equal
                                                        [(if
                                                          (<
                                                           (rsi
                                                            "TQQQ"
                                                            {:window
                                                             10})
                                                           30)
                                                          [(weight-equal
                                                            [(filter
                                                              (moving-average-return
                                                               {:window
                                                                5})
                                                              (select-top
                                                               1)
                                                              [(asset
                                                                "TQQQ"
                                                                "ProShares UltraPro QQQ")
                                                               (asset
                                                                "SOXL"
                                                                "Direxion Daily Semiconductor Bull 3x Shares")
                                                               (asset
                                                                "UPRO"
                                                                "ProShares UltraPro S&P500")])])]
                                                          [(weight-equal
                                                            [(if
                                                              (<=
                                                               (cumulative-return
                                                                "SPY"
                                                                {:window
                                                                 1})
                                                               -2)
                                                              [(weight-equal
                                                                [(filter
                                                                  (cumulative-return
                                                                   {:window
                                                                    5})
                                                                  (select-bottom
                                                                   1)
                                                                  [(asset
                                                                    "SPXS"
                                                                    "Direxion Daily S&P 500 Bear 3x Shares")
                                                                   (asset
                                                                    "TECS"
                                                                    "Direxion Daily Technology Bear 3X Shares")
                                                                   (asset
                                                                    "SOXS"
                                                                    "Direxion Daily Semiconductor Bear 3x Shares")
                                                                   (asset
                                                                    "SQQQ"
                                                                    "ProShares UltraPro Short QQQ")
                                                                   (asset
                                                                    "ERX"
                                                                    "Direxion Daily Energy Bull 2x Shares")])])]
                                                              [(weight-equal
                                                                [(if
                                                                  (>=
                                                                   (cumulative-return
                                                                    "SPXU"
                                                                    {:window
                                                                     5})
                                                                   (cumulative-return
                                                                    "UPRO"
                                                                    {:window
                                                                     4}))
                                                                  [(weight-equal
                                                                    [(filter
                                                                      (cumulative-return
                                                                       {:window
                                                                        5})
                                                                      (select-top
                                                                       1)
                                                                      [(asset
                                                                        "SOXS"
                                                                        "Direxion Daily Semiconductor Bear 3x Shares")
                                                                       (asset
                                                                        "SQQQ"
                                                                        "ProShares UltraPro Short QQQ")
                                                                       (asset
                                                                        "EPI"
                                                                        "WisdomTree India Earnings Fund")])])]
                                                                  [(weight-equal
                                                                    [(if
                                                                      (>=
                                                                       (cumulative-return
                                                                        "BIL"
                                                                        {:window
                                                                         3})
                                                                       (cumulative-return
                                                                        "TMV"
                                                                        {:window
                                                                         3}))
                                                                      [(weight-equal
                                                                        [(filter
                                                                          (moving-average-return
                                                                           {:window
                                                                            5})
                                                                          (select-bottom
                                                                           1)
                                                                          [(asset
                                                                            "TECL"
                                                                            "Direxion Daily Technology Bull 3x Shares")
                                                                           (asset
                                                                            "SOXL"
                                                                            "Direxion Daily Semiconductor Bull 3x Shares")
                                                                           (asset
                                                                            "TNA"
                                                                            "Direxion Daily Small Cap Bull 3x Shares")
                                                                           (asset
                                                                            "UPRO"
                                                                            "ProShares UltraPro S&P500")])])]
                                                                      [(weight-equal
                                                                        [(filter
                                                                          (moving-average-return
                                                                           {:window
                                                                            5})
                                                                          (select-bottom
                                                                           1)
                                                                          [(asset
                                                                            "TECL"
                                                                            "Direxion Daily Technology Bull 3x Shares")
                                                                           (asset
                                                                            "SOXL"
                                                                            "Direxion Daily Semiconductor Bull 3x Shares")
                                                                           (asset
                                                                            "TMV"
                                                                            "Direxion Daily 20+ Year Treasury Bear 3x Shares")])])])])])])])])])])]
                                                      [(weight-equal
                                                        [(if
                                                          (>
                                                           (moving-average-return
                                                            "SPY"
                                                            {:window
                                                             210})
                                                           (moving-average-return
                                                            "DBC"
                                                            {:window
                                                             360}))
                                                          [(weight-equal
                                                            [(if
                                                              (>
                                                               (rsi
                                                                "TQQQ"
                                                                {:window
                                                                 11})
                                                               77)
                                                              [(asset
                                                                "UVXY"
                                                                "ProShares Ultra VIX Short-Term Futures ETF")]
                                                              [(weight-equal
                                                                [(if
                                                                  (<
                                                                   (cumulative-return
                                                                    "TQQQ"
                                                                    {:window
                                                                     6})
                                                                   -10)
                                                                  [(weight-equal
                                                                    [(if
                                                                      (>
                                                                       (cumulative-return
                                                                        "TQQQ"
                                                                        {:window
                                                                         1})
                                                                       5.5)
                                                                      [(weight-equal
                                                                        [(asset
                                                                          "UVXY"
                                                                          "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                      [(weight-equal
                                                                        [(filter
                                                                          (moving-average-return
                                                                           {:window
                                                                            5})
                                                                          (select-bottom
                                                                           1)
                                                                          [(asset
                                                                            "SOXL"
                                                                            "Direxion Daily Semiconductor Bull 3x Shares")
                                                                           (asset
                                                                            "TMV"
                                                                            "Direxion Daily 20+ Year Treasury Bear 3x Shares")])])])])]
                                                                  [(weight-equal
                                                                    [(if
                                                                      (<
                                                                       (rsi
                                                                        "BIL"
                                                                        {:window
                                                                         7})
                                                                       (rsi
                                                                        "IEF"
                                                                        {:window
                                                                         7}))
                                                                      [(weight-equal
                                                                        [(filter
                                                                          (moving-average-return
                                                                           {:window
                                                                            5})
                                                                          (select-top
                                                                           1)
                                                                          [(asset
                                                                            "TQQQ"
                                                                            "ProShares UltraPro QQQ")
                                                                           (asset
                                                                            "SOXL"
                                                                            "Direxion Daily Semiconductor Bull 3x Shares")
                                                                           (asset
                                                                            "UPRO"
                                                                            "ProShares UltraPro S&P500")
                                                                           (asset
                                                                            "TMV"
                                                                            "Direxion Daily 20+ Year Treasury Bear 3x Shares")
                                                                           (asset
                                                                            "TECL"
                                                                            "Direxion Daily Technology Bull 3x Shares")])])]
                                                                      [(weight-equal
                                                                        [(filter
                                                                          (moving-average-return
                                                                           {:window
                                                                            22})
                                                                          (select-bottom
                                                                           1)
                                                                          [(asset
                                                                            "SOXL"
                                                                            "Direxion Daily Semiconductor Bull 3x Shares")
                                                                           (asset
                                                                            "UPRO"
                                                                            "ProShares UltraPro S&P500")])])])])])])])])]
                                                          [(group
                                                            "Defense | Modified"
                                                            [(weight-equal
                                                              [(if
                                                                (>
                                                                 (stdev-return
                                                                  "DBC"
                                                                  {:window
                                                                   20})
                                                                 (stdev-return
                                                                  "SPY"
                                                                  {:window
                                                                   20}))
                                                                [(weight-equal
                                                                  [(if
                                                                    (>=
                                                                     (stdev-return
                                                                      "DBC"
                                                                      {:window
                                                                       10})
                                                                     3)
                                                                    [(weight-equal
                                                                      [(if
                                                                        (<=
                                                                         (stdev-return
                                                                          "TMV"
                                                                          {:window
                                                                           5})
                                                                         (stdev-return
                                                                          "DBC"
                                                                          {:window
                                                                           5}))
                                                                        [(asset
                                                                          "TMV"
                                                                          "Direxion Daily 20+ Year Treasury Bear 3x Shares")]
                                                                        [(asset
                                                                          "DBC"
                                                                          "Invesco DB Commodity Index Tracking Fund")])])]
                                                                    [(weight-equal
                                                                      [(if
                                                                        (<
                                                                         (rsi
                                                                          "BIL"
                                                                          {:window
                                                                           7})
                                                                         (rsi
                                                                          "IEF"
                                                                          {:window
                                                                           7}))
                                                                        [(weight-equal
                                                                          [(filter
                                                                            (moving-average-return
                                                                             {:window
                                                                              5})
                                                                            (select-top
                                                                             1)
                                                                            [(asset
                                                                              "TMV"
                                                                              "Direxion Daily 20+ Year Treasury Bear 3x Shares")
                                                                             (asset
                                                                              "SOXS"
                                                                              "Direxion Daily Semiconductor Bear 3x Shares")
                                                                             (asset
                                                                              "SPXU"
                                                                              "ProShares UltraPro Short S&P500")])])]
                                                                        [(weight-equal
                                                                          [(filter
                                                                            (cumulative-return
                                                                             {:window
                                                                              5})
                                                                            (select-bottom
                                                                             1)
                                                                            [(asset
                                                                              "EFA"
                                                                              "iShares MSCI EAFE ETF")
                                                                             (asset
                                                                              "EEM"
                                                                              "iShares MSCI Emerging Markets ETF")
                                                                             (asset
                                                                              "SPXS"
                                                                              "Direxion Daily S&P 500 Bear 3x Shares")
                                                                             (asset
                                                                              "SOXS"
                                                                              "Direxion Daily Semiconductor Bear 3x Shares")
                                                                             (asset
                                                                              "UCO"
                                                                              "ProShares Ultra Bloomberg Crude Oil")
                                                                             (asset
                                                                              "TMV"
                                                                              "Direxion Daily 20+ Year Treasury Bear 3x Shares")])])])])])])]
                                                                [(weight-equal
                                                                  [(if
                                                                    (<
                                                                     (rsi
                                                                      "BIL"
                                                                      {:window
                                                                       7})
                                                                     (rsi
                                                                      "IEF"
                                                                      {:window
                                                                       7}))
                                                                    [(weight-equal
                                                                      [(filter
                                                                        (moving-average-return
                                                                         {:window
                                                                          5})
                                                                        (select-bottom
                                                                         1)
                                                                        [(asset
                                                                          "EPI"
                                                                          "WisdomTree India Earnings Fund")
                                                                         (asset
                                                                          "SOXL"
                                                                          "Direxion Daily Semiconductor Bull 3x Shares")
                                                                         (asset
                                                                          "UPRO"
                                                                          "ProShares UltraPro S&P500")])])]
                                                                    [(weight-equal
                                                                      [(filter
                                                                        (cumulative-return
                                                                         {:window
                                                                          5})
                                                                        (select-top
                                                                         1)
                                                                        [(asset
                                                                          "EWZ"
                                                                          "iShares MSCI Brazil ETF")
                                                                         (asset
                                                                          "TECS"
                                                                          "Direxion Daily Technology Bear 3X Shares")
                                                                         (asset
                                                                          "SOXS"
                                                                          "Direxion Daily Semiconductor Bear 3x Shares")
                                                                         (asset
                                                                          "EUO"
                                                                          "ProShares UltraShort Euro")
                                                                         (asset
                                                                          "YCS"
                                                                          "ProShares UltraShort Yen")
                                                                         (asset
                                                                          "TMV"
                                                                          "Direxion Daily 20+ Year Treasury Bear 3x Shares")])])])])])])])])])])])])]
                                                [(group
                                                  "B.A.B: Risk Off, Falling Rates (TMF)* - LETF Basket"
                                                  [(weight-equal
                                                    [(if
                                                      (<=
                                                       (exponential-moving-average-price
                                                        "SPY"
                                                        {:window 210})
                                                       (moving-average-price
                                                        "SPY"
                                                        {:window 360}))
                                                      [(weight-equal
                                                        [(if
                                                          (<=
                                                           (cumulative-return
                                                            "SPY"
                                                            {:window
                                                             2})
                                                           -2)
                                                          [(weight-equal
                                                            [(filter
                                                              (cumulative-return
                                                               {:window
                                                                5})
                                                              (select-top
                                                               1)
                                                              [(asset
                                                                "SPXS"
                                                                "Direxion Daily S&P 500 Bear 3x Shares")
                                                               (asset
                                                                "TECS"
                                                                "Direxion Daily Technology Bear 3X Shares")
                                                               (asset
                                                                "SOXS"
                                                                "Direxion Daily Semiconductor Bear 3x Shares")
                                                               (asset
                                                                "SQQQ"
                                                                "ProShares UltraPro Short QQQ")])])]
                                                          [(weight-equal
                                                            [(if
                                                              (>=
                                                               (cumulative-return
                                                                "SPXU"
                                                                {:window
                                                                 6})
                                                               (cumulative-return
                                                                "UPRO"
                                                                {:window
                                                                 3}))
                                                              [(weight-equal
                                                                [(filter
                                                                  (cumulative-return
                                                                   {:window
                                                                    5})
                                                                  (select-bottom
                                                                   1)
                                                                  [(asset
                                                                    "BIL"
                                                                    "SPDR Bloomberg 1-3 Month T-Bill ETF")
                                                                   (asset
                                                                    "AGG"
                                                                    "iShares Core U.S. Aggregate Bond ETF")
                                                                   (asset
                                                                    "TMF"
                                                                    "Direxion Daily 20+ Year Treasury Bull 3X Shares")])])]
                                                              [(weight-equal
                                                                [(filter
                                                                  (moving-average-return
                                                                   {:window
                                                                    5})
                                                                  (select-bottom
                                                                   1)
                                                                  [(asset
                                                                    "TECL"
                                                                    "Direxion Daily Technology Bull 3x Shares")
                                                                   (asset
                                                                    "TQQQ"
                                                                    "ProShares UltraPro QQQ")
                                                                   (asset
                                                                    "SOXL"
                                                                    "Direxion Daily Semiconductor Bull 3x Shares")
                                                                   (asset
                                                                    "EWZ"
                                                                    "iShares MSCI Brazil ETF")
                                                                   (asset
                                                                    "TMF"
                                                                    "Direxion Daily 20+ Year Treasury Bull 3X Shares")])])])])])])]
                                                      [(weight-equal
                                                        [(if
                                                          (>
                                                           (moving-average-return
                                                            "SPY"
                                                            {:window
                                                             210})
                                                           (moving-average-return
                                                            "DBC"
                                                            {:window
                                                             360}))
                                                          [(weight-equal
                                                            [(if
                                                              (>
                                                               (exponential-moving-average-price
                                                                "SPY"
                                                                {:window
                                                                 210})
                                                               (exponential-moving-average-price
                                                                "SPY"
                                                                {:window
                                                                 360}))
                                                              [(weight-equal
                                                                [(if
                                                                  (>
                                                                   (rsi
                                                                    "TQQQ"
                                                                    {:window
                                                                     11})
                                                                   77)
                                                                  [(asset
                                                                    "UVXY"
                                                                    "ProShares Ultra VIX Short-Term Futures ETF")]
                                                                  [(weight-equal
                                                                    [(if
                                                                      (<
                                                                       (cumulative-return
                                                                        "TQQQ"
                                                                        {:window
                                                                         6})
                                                                       -10)
                                                                      [(weight-equal
                                                                        [(if
                                                                          (>
                                                                           (cumulative-return
                                                                            "TQQQ"
                                                                            {:window
                                                                             1})
                                                                           5.5)
                                                                          [(weight-equal
                                                                            [(asset
                                                                              "UVXY"
                                                                              "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                          [(weight-equal
                                                                            [(filter
                                                                              (moving-average-return
                                                                               {:window
                                                                                7})
                                                                              (select-bottom
                                                                               1)
                                                                              [(asset
                                                                                "TECL"
                                                                                "Direxion Daily Technology Bull 3x Shares")
                                                                               (asset
                                                                                "TQQQ"
                                                                                "ProShares UltraPro QQQ")
                                                                               (asset
                                                                                "SPXL"
                                                                                "Direxion Daily S&P 500 Bull 3x Shares")
                                                                               (asset
                                                                                "EPI"
                                                                                "WisdomTree India Earnings Fund")
                                                                               (asset
                                                                                "SOXL"
                                                                                "Direxion Daily Semiconductor Bull 3x Shares")
                                                                               (asset
                                                                                "UPRO"
                                                                                "ProShares UltraPro S&P500")
                                                                               (asset
                                                                                "QLD"
                                                                                "ProShares Ultra QQQ")
                                                                               (asset
                                                                                "EWZ"
                                                                                "iShares MSCI Brazil ETF")
                                                                               (asset
                                                                                "MVV"
                                                                                "ProShares Ultra MidCap400")
                                                                               (asset
                                                                                "PUI"
                                                                                "Invesco DWA Utilities Momentum ETF")
                                                                               (asset
                                                                                "USD"
                                                                                "ProShares Ultra Semiconductors")
                                                                               (asset
                                                                                "TMF"
                                                                                "Direxion Daily 20+ Year Treasury Bull 3X Shares")])])])])]
                                                                      [(weight-equal
                                                                        [(if
                                                                          (<
                                                                           (rsi
                                                                            "BIL"
                                                                            {:window
                                                                             7})
                                                                           (rsi
                                                                            "IEF"
                                                                            {:window
                                                                             7}))
                                                                          [(weight-equal
                                                                            [(filter
                                                                              (moving-average-return
                                                                               {:window
                                                                                7})
                                                                              (select-bottom
                                                                               1)
                                                                              [(asset
                                                                                "TECL"
                                                                                "Direxion Daily Technology Bull 3x Shares")
                                                                               (asset
                                                                                "SPXL"
                                                                                "Direxion Daily S&P 500 Bull 3x Shares")
                                                                               (asset
                                                                                "EPI"
                                                                                "WisdomTree India Earnings Fund")
                                                                               (asset
                                                                                "SOXL"
                                                                                "Direxion Daily Semiconductor Bull 3x Shares")
                                                                               (asset
                                                                                "UPRO"
                                                                                "ProShares UltraPro S&P500")
                                                                               (asset
                                                                                "MVV"
                                                                                "ProShares Ultra MidCap400")])])]
                                                                          [(weight-equal
                                                                            [(filter
                                                                              (cumulative-return
                                                                               {:window
                                                                                5})
                                                                              (select-top
                                                                               1)
                                                                              [(asset
                                                                                "SOXS"
                                                                                "Direxion Daily Semiconductor Bear 3x Shares")
                                                                               (asset
                                                                                "TMF"
                                                                                "Direxion Daily 20+ Year Treasury Bull 3X Shares")])])])])])])])])]
                                                              [(weight-equal
                                                                [(filter
                                                                  (rsi
                                                                   {:window
                                                                    5})
                                                                  (select-bottom
                                                                   1)
                                                                  [(asset
                                                                    "SPXS"
                                                                    "Direxion Daily S&P 500 Bear 3x Shares")
                                                                   (asset
                                                                    "SQQQ"
                                                                    "ProShares UltraPro Short QQQ")
                                                                   (asset
                                                                    "TECS"
                                                                    "Direxion Daily Technology Bear 3X Shares")
                                                                   (asset
                                                                    "SOXS"
                                                                    "Direxion Daily Semiconductor Bear 3x Shares")])])])])]
                                                          [(group
                                                            "Defense | Modified"
                                                            [(weight-equal
                                                              [(if
                                                                (>
                                                                 (stdev-return
                                                                  "DBC"
                                                                  {:window
                                                                   20})
                                                                 (stdev-return
                                                                  "SPY"
                                                                  {:window
                                                                   20}))
                                                                [(weight-equal
                                                                  [(filter
                                                                    (rsi
                                                                     {:window
                                                                      5})
                                                                    (select-bottom
                                                                     1)
                                                                    [(asset
                                                                      "SPXS"
                                                                      "Direxion Daily S&P 500 Bear 3x Shares")
                                                                     (asset
                                                                      "EPI"
                                                                      "WisdomTree India Earnings Fund")
                                                                     (asset
                                                                      "TECS"
                                                                      "Direxion Daily Technology Bear 3X Shares")
                                                                     (asset
                                                                      "SOXS"
                                                                      "Direxion Daily Semiconductor Bear 3x Shares")
                                                                     (asset
                                                                      "SQQQ"
                                                                      "ProShares UltraPro Short QQQ")])])]
                                                                [(weight-equal
                                                                  [(filter
                                                                    (moving-average-return
                                                                     {:window
                                                                      5})
                                                                    (select-top
                                                                     1)
                                                                    [(asset
                                                                      "TECL"
                                                                      "Direxion Daily Technology Bull 3x Shares")
                                                                     (asset
                                                                      "TQQQ"
                                                                      "ProShares UltraPro QQQ")
                                                                     (asset
                                                                      "SOXL"
                                                                      "Direxion Daily Semiconductor Bull 3x Shares")
                                                                     (asset
                                                                      "TMF"
                                                                      "Direxion Daily 20+ Year Treasury Bull 3X Shares")])])])])])])])])])])])])])])])])]
                                    [(asset
                                      "UVXY"
                                      "ProShares Ultra VIX Short-Term Futures ETF")])])]
                                [(group
                                  "Bear Stock Market - High Inflation - [STRIPPED] V2.0.2b | A Better LETF Basket | DJKeyhole  | BIL and TMV"
                                  [(weight-equal
                                    [(if
                                      (>
                                       (moving-average-return
                                        "SPTL"
                                        {:window 100})
                                       (moving-average-return
                                        "BIL"
                                        {:window 100}))
                                      [(group
                                        "A.B: Medium term TLT may be overbought*"
                                        [(weight-equal
                                          [(if
                                            (<
                                             (moving-average-return
                                              "SPTL"
                                              {:window 20})
                                             0)
                                            [(group
                                              "A.B.B.A: Risk Off, Rising Rates (TMV)*"
                                              [(weight-equal
                                                [(if
                                                  (<=
                                                   (exponential-moving-average-price
                                                    "SPY"
                                                    {:window 210})
                                                   (moving-average-price
                                                    "SPY"
                                                    {:window 360}))
                                                  [(weight-equal
                                                    [(if
                                                      (<
                                                       (rsi
                                                        "TQQQ"
                                                        {:window 10})
                                                       30)
                                                      [(weight-equal
                                                        [(filter
                                                          (moving-average-return
                                                           {:window 5})
                                                          (select-bottom
                                                           1)
                                                          [(asset
                                                            "TECL"
                                                            "Direxion Daily Technology Bull 3x Shares")
                                                           (asset
                                                            "TQQQ"
                                                            "ProShares UltraPro QQQ")
                                                           (asset
                                                            "SOXL"
                                                            "Direxion Daily Semiconductor Bull 3x Shares")
                                                           (asset
                                                            "UPRO"
                                                            "ProShares UltraPro S&P500")])])]
                                                      [(weight-equal
                                                        [(if
                                                          (<=
                                                           (cumulative-return
                                                            "SPXU"
                                                            {:window
                                                             6})
                                                           (cumulative-return
                                                            "UPRO"
                                                            {:window
                                                             3}))
                                                          [(weight-equal
                                                            [(filter
                                                              (cumulative-return
                                                               {:window
                                                                5})
                                                              (select-top
                                                               1)
                                                              [(asset
                                                                "SQQQ"
                                                                "ProShares UltraPro Short QQQ")
                                                               (asset
                                                                "EUO"
                                                                "ProShares UltraShort Euro")
                                                               (asset
                                                                "YCS"
                                                                "ProShares UltraShort Yen")])])]
                                                          [(weight-equal
                                                            [(filter
                                                              (moving-average-return
                                                               {:window
                                                                5})
                                                              (select-bottom
                                                               1)
                                                              [(asset
                                                                "TECL"
                                                                "Direxion Daily Technology Bull 3x Shares")
                                                               (asset
                                                                "TQQQ"
                                                                "ProShares UltraPro QQQ")
                                                               (asset
                                                                "SOXL"
                                                                "Direxion Daily Semiconductor Bull 3x Shares")
                                                               (asset
                                                                "CURE"
                                                                "Direxion Daily Healthcare Bull 3x Shares")])])])])])])]
                                                  [(weight-equal
                                                    [(if
                                                      (>
                                                       (rsi
                                                        "TQQQ"
                                                        {:window 11})
                                                       77)
                                                      [(asset
                                                        "UVXY"
                                                        "ProShares Ultra VIX Short-Term Futures ETF")]
                                                      [(weight-equal
                                                        [(filter
                                                          (moving-average-return
                                                           {:window 5})
                                                          (select-bottom
                                                           1)
                                                          [(asset
                                                            "TECL"
                                                            "Direxion Daily Technology Bull 3x Shares")
                                                           (asset
                                                            "TQQQ"
                                                            "ProShares UltraPro QQQ")
                                                           (asset
                                                            "SOXL"
                                                            "Direxion Daily Semiconductor Bull 3x Shares")
                                                           (asset
                                                            "UPRO"
                                                            "ProShares UltraPro S&P500")
                                                           (asset
                                                            "TMV"
                                                            "Direxion Daily 20+ Year Treasury Bear 3x Shares")])])])])])])])]
                                            [(group
                                              "A.B.B.B: Risk Off, Falling Rates (TMF)*"
                                              [(weight-equal
                                                [(if
                                                  (<=
                                                   (exponential-moving-average-price
                                                    "SPY"
                                                    {:window 210})
                                                   (moving-average-price
                                                    "SPY"
                                                    {:window 360}))
                                                  [(weight-equal
                                                    [(if
                                                      (<
                                                       (rsi
                                                        "TQQQ"
                                                        {:window 10})
                                                       30)
                                                      [(weight-equal
                                                        [(filter
                                                          (moving-average-return
                                                           {:window 5})
                                                          (select-bottom
                                                           1)
                                                          [(asset
                                                            "TECL"
                                                            "Direxion Daily Technology Bull 3x Shares")
                                                           (asset
                                                            "TQQQ"
                                                            "ProShares UltraPro QQQ")
                                                           (asset
                                                            "SOXL"
                                                            "Direxion Daily Semiconductor Bull 3x Shares")])])]
                                                      [(weight-equal
                                                        [(if
                                                          (>=
                                                           (cumulative-return
                                                            "UUP"
                                                            {:window
                                                             2})
                                                           1)
                                                          [(weight-equal
                                                            [(filter
                                                              (cumulative-return
                                                               {:window
                                                                5})
                                                              (select-top
                                                               1)
                                                              [(asset
                                                                "TECS"
                                                                "Direxion Daily Technology Bear 3X Shares")
                                                               (asset
                                                                "SOXS"
                                                                "Direxion Daily Semiconductor Bear 3x Shares")
                                                               (asset
                                                                "SQQQ"
                                                                "ProShares UltraPro Short QQQ")])])]
                                                          [(weight-equal
                                                            [(if
                                                              (>=
                                                               (moving-average-price
                                                                "SPY"
                                                                {:window
                                                                 1})
                                                               -1)
                                                              [(weight-equal
                                                                [(filter
                                                                  (cumulative-return
                                                                   {:window
                                                                    5})
                                                                  (select-top
                                                                   1)
                                                                  [(asset
                                                                    "ERX"
                                                                    "Direxion Daily Energy Bull 2x Shares")
                                                                   (asset
                                                                    "EUO"
                                                                    "ProShares UltraShort Euro")
                                                                   (asset
                                                                    "YCS"
                                                                    "ProShares UltraShort Yen")])])]
                                                              [(weight-equal
                                                                [(filter
                                                                  (moving-average-return
                                                                   {:window
                                                                    5})
                                                                  (select-bottom
                                                                   1)
                                                                  [(asset
                                                                    "SOXL"
                                                                    "Direxion Daily Semiconductor Bull 3x Shares")
                                                                   (asset
                                                                    "EWZ"
                                                                    "iShares MSCI Brazil ETF")
                                                                   (asset
                                                                    "MVV"
                                                                    "ProShares Ultra MidCap400")
                                                                   (asset
                                                                    "USD"
                                                                    "ProShares Ultra Semiconductors")])])])])])])])])]
                                                  [(weight-equal
                                                    [(if
                                                      (>
                                                       (moving-average-return
                                                        "SPY"
                                                        {:window 210})
                                                       (moving-average-return
                                                        "DBC"
                                                        {:window 360}))
                                                      [(weight-equal
                                                        [(if
                                                          (>
                                                           (rsi
                                                            "TQQQ"
                                                            {:window
                                                             11})
                                                           77)
                                                          [(asset
                                                            "UVXY"
                                                            "ProShares Ultra VIX Short-Term Futures ETF")]
                                                          [(weight-equal
                                                            [(if
                                                              (<
                                                               (cumulative-return
                                                                "TQQQ"
                                                                {:window
                                                                 6})
                                                               -10)
                                                              [(weight-equal
                                                                [(if
                                                                  (>
                                                                   (cumulative-return
                                                                    "TQQQ"
                                                                    {:window
                                                                     1})
                                                                   5.5)
                                                                  [(weight-equal
                                                                    [(asset
                                                                      "UVXY"
                                                                      "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                  [(weight-equal
                                                                    [(if
                                                                      (<
                                                                       (rsi
                                                                        "BIL"
                                                                        {:window
                                                                         7})
                                                                       (rsi
                                                                        "IEF"
                                                                        {:window
                                                                         7}))
                                                                      [(weight-equal
                                                                        [(filter
                                                                          (moving-average-return
                                                                           {:window
                                                                            5})
                                                                          (select-bottom
                                                                           1)
                                                                          [(asset
                                                                            "SOXL"
                                                                            "Direxion Daily Semiconductor Bull 3x Shares")])])]
                                                                      [(weight-equal
                                                                        [(filter
                                                                          (cumulative-return
                                                                           {:window
                                                                            5})
                                                                          (select-top
                                                                           1)
                                                                          [(asset
                                                                            "EWZ"
                                                                            "iShares MSCI Brazil ETF")
                                                                           (asset
                                                                            "UUP"
                                                                            "Invesco DB US Dollar Index Bullish Fund")
                                                                           (asset
                                                                            "TMF"
                                                                            "Direxion Daily 20+ Year Treasury Bull 3X Shares")
                                                                           (asset
                                                                            "UCO"
                                                                            "ProShares Ultra Bloomberg Crude Oil")])])])])])])]
                                                              [(weight-equal
                                                                [(if
                                                                  (<
                                                                   (rsi
                                                                    "BIL"
                                                                    {:window
                                                                     7})
                                                                   (rsi
                                                                    "IEF"
                                                                    {:window
                                                                     7}))
                                                                  [(weight-equal
                                                                    [(filter
                                                                      (moving-average-return
                                                                       {:window
                                                                        5})
                                                                      (select-bottom
                                                                       1)
                                                                      [(asset
                                                                        "TECL"
                                                                        "Direxion Daily Technology Bull 3x Shares")
                                                                       (asset
                                                                        "TQQQ"
                                                                        "ProShares UltraPro QQQ")
                                                                       (asset
                                                                        "SPXL"
                                                                        "Direxion Daily S&P 500 Bull 3x Shares")
                                                                       (asset
                                                                        "QLD"
                                                                        "ProShares Ultra QQQ")
                                                                       (asset
                                                                        "USD"
                                                                        "ProShares Ultra Semiconductors")])])]
                                                                  [(weight-equal
                                                                    [(filter
                                                                      (cumulative-return
                                                                       {:window
                                                                        5})
                                                                      (select-top
                                                                       1)
                                                                      [(asset
                                                                        "EWZ"
                                                                        "iShares MSCI Brazil ETF")
                                                                       (asset
                                                                        "UUP"
                                                                        "Invesco DB US Dollar Index Bullish Fund")
                                                                       (asset
                                                                        "TMF"
                                                                        "Direxion Daily 20+ Year Treasury Bull 3X Shares")])])])])])])])])]
                                                      [(group
                                                        "Defense | Modified"
                                                        [(weight-equal
                                                          [(if
                                                            (>
                                                             (stdev-return
                                                              "DBC"
                                                              {:window
                                                               20})
                                                             (stdev-return
                                                              "SPY"
                                                              {:window
                                                               20}))
                                                            [(weight-equal
                                                              [(filter
                                                                (rsi
                                                                 {:window
                                                                  5})
                                                                (select-bottom
                                                                 1)
                                                                [(asset
                                                                  "SHY"
                                                                  "iShares 1-3 Year Treasury Bond ETF")
                                                                 (asset
                                                                  "EWZ"
                                                                  "iShares MSCI Brazil ETF")
                                                                 (asset
                                                                  "GLD"
                                                                  "SPDR Gold Shares")
                                                                 (asset
                                                                  "SPXS"
                                                                  "Direxion Daily S&P 500 Bear 3x Shares")
                                                                 (asset
                                                                  "TECS"
                                                                  "Direxion Daily Technology Bear 3X Shares")
                                                                 (asset
                                                                  "SOXS"
                                                                  "Direxion Daily Semiconductor Bear 3x Shares")
                                                                 (asset
                                                                  "UCO"
                                                                  "ProShares Ultra Bloomberg Crude Oil")
                                                                 (asset
                                                                  "YCS"
                                                                  "ProShares UltraShort Yen")])])]
                                                            [(weight-equal
                                                              [(if
                                                                (<
                                                                 (rsi
                                                                  "BIL"
                                                                  {:window
                                                                   7})
                                                                 (rsi
                                                                  "IEF"
                                                                  {:window
                                                                   7}))
                                                                [(weight-equal
                                                                  [(filter
                                                                    (moving-average-return
                                                                     {:window
                                                                      5})
                                                                    (select-bottom
                                                                     1)
                                                                    [(asset
                                                                      "SOXL"
                                                                      "Direxion Daily Semiconductor Bull 3x Shares")
                                                                     (asset
                                                                      "USD"
                                                                      "ProShares Ultra Semiconductors")
                                                                     (asset
                                                                      "TMF"
                                                                      "Direxion Daily 20+ Year Treasury Bull 3X Shares")])])]
                                                                [(weight-equal
                                                                  [(filter
                                                                    (cumulative-return
                                                                     {:window
                                                                      5})
                                                                    (select-top
                                                                     1)
                                                                    [(asset
                                                                      "EWZ"
                                                                      "iShares MSCI Brazil ETF")
                                                                     (asset
                                                                      "SPXS"
                                                                      "Direxion Daily S&P 500 Bear 3x Shares")
                                                                     (asset
                                                                      "SOXS"
                                                                      "Direxion Daily Semiconductor Bear 3x Shares")
                                                                     (asset
                                                                      "UCO"
                                                                      "ProShares Ultra Bloomberg Crude Oil")
                                                                     (asset
                                                                      "YCS"
                                                                      "ProShares UltraShort Yen")])])])])])])])])])])])])])])])]
                                      [(group
                                        "B: If long term TLT is trending down, safety: Long Term, 2 Least Volatile*"
                                        [(weight-equal
                                          [(if
                                            (<
                                             (moving-average-return
                                              "SPTL"
                                              {:window 20})
                                             0)
                                            [(group
                                              "B.A.A: Risk Off, Rising Rates (TMV)* - LETF Basket^"
                                              [(weight-equal
                                                [(if
                                                  (<=
                                                   (exponential-moving-average-price
                                                    "SPY"
                                                    {:window 210})
                                                   (moving-average-price
                                                    "SPY"
                                                    {:window 360}))
                                                  [(weight-equal
                                                    [(if
                                                      (<
                                                       (rsi
                                                        "TQQQ"
                                                        {:window 10})
                                                       30)
                                                      [(weight-equal
                                                        [(filter
                                                          (moving-average-return
                                                           {:window 5})
                                                          (select-top
                                                           1)
                                                          [(asset
                                                            "TQQQ"
                                                            "ProShares UltraPro QQQ")
                                                           (asset
                                                            "SOXL"
                                                            "Direxion Daily Semiconductor Bull 3x Shares")
                                                           (asset
                                                            "UPRO"
                                                            "ProShares UltraPro S&P500")])])]
                                                      [(weight-equal
                                                        [(if
                                                          (>=
                                                           (cumulative-return
                                                            "UUP"
                                                            {:window
                                                             2})
                                                           1)
                                                          [(weight-equal
                                                            [(filter
                                                              (cumulative-return
                                                               {:window
                                                                5})
                                                              (select-bottom
                                                               1)
                                                              [(asset
                                                                "SPXS"
                                                                "Direxion Daily S&P 500 Bear 3x Shares")
                                                               (asset
                                                                "TECS"
                                                                "Direxion Daily Technology Bear 3X Shares")
                                                               (asset
                                                                "SOXS"
                                                                "Direxion Daily Semiconductor Bear 3x Shares")
                                                               (asset
                                                                "SQQQ"
                                                                "ProShares UltraPro Short QQQ")
                                                               (asset
                                                                "ERX"
                                                                "Direxion Daily Energy Bull 2x Shares")])])]
                                                          [(weight-equal
                                                            [(if
                                                              (>=
                                                               (cumulative-return
                                                                "SPXU"
                                                                {:window
                                                                 5})
                                                               (cumulative-return
                                                                "UPRO"
                                                                {:window
                                                                 4}))
                                                              [(weight-equal
                                                                [(filter
                                                                  (cumulative-return
                                                                   {:window
                                                                    5})
                                                                  (select-top
                                                                   1)
                                                                  [(asset
                                                                    "SOXS"
                                                                    "Direxion Daily Semiconductor Bear 3x Shares")
                                                                   (asset
                                                                    "SQQQ"
                                                                    "ProShares UltraPro Short QQQ")
                                                                   (asset
                                                                    "EPI"
                                                                    "WisdomTree India Earnings Fund")
                                                                   (asset
                                                                    "TMV"
                                                                    "Direxion Daily 20+ Year Treasury Bear 3x Shares")])])]
                                                              [(weight-equal
                                                                [(if
                                                                  (>=
                                                                   (cumulative-return
                                                                    "BIL"
                                                                    {:window
                                                                     3})
                                                                   (cumulative-return
                                                                    "TMV"
                                                                    {:window
                                                                     3}))
                                                                  [(weight-equal
                                                                    [(filter
                                                                      (moving-average-return
                                                                       {:window
                                                                        5})
                                                                      (select-bottom
                                                                       1)
                                                                      [(asset
                                                                        "TECL"
                                                                        "Direxion Daily Technology Bull 3x Shares")
                                                                       (asset
                                                                        "SOXL"
                                                                        "Direxion Daily Semiconductor Bull 3x Shares")
                                                                       (asset
                                                                        "TNA"
                                                                        "Direxion Daily Small Cap Bull 3x Shares")])])]
                                                                  [(weight-equal
                                                                    [(filter
                                                                      (moving-average-return
                                                                       {:window
                                                                        3})
                                                                      (select-bottom
                                                                       1)
                                                                      [(asset
                                                                        "TECL"
                                                                        "Direxion Daily Technology Bull 3x Shares")
                                                                       (asset
                                                                        "SOXL"
                                                                        "Direxion Daily Semiconductor Bull 3x Shares")
                                                                       (asset
                                                                        "TMV"
                                                                        "Direxion Daily 20+ Year Treasury Bear 3x Shares")
                                                                       (asset
                                                                        "TQQQ"
                                                                        "ProShares UltraPro QQQ")])])])])])])])])])])]
                                                  [(weight-equal
                                                    [(if
                                                      (>
                                                       (moving-average-return
                                                        "SPY"
                                                        {:window 210})
                                                       (moving-average-return
                                                        "DBC"
                                                        {:window 360}))
                                                      [(weight-equal
                                                        [(if
                                                          (>
                                                           (rsi
                                                            "TQQQ"
                                                            {:window
                                                             11})
                                                           77)
                                                          [(asset
                                                            "UVXY"
                                                            "ProShares Ultra VIX Short-Term Futures ETF")]
                                                          [(weight-equal
                                                            [(if
                                                              (<
                                                               (cumulative-return
                                                                "TQQQ"
                                                                {:window
                                                                 6})
                                                               -10)
                                                              [(weight-equal
                                                                [(if
                                                                  (>
                                                                   (cumulative-return
                                                                    "TQQQ"
                                                                    {:window
                                                                     1})
                                                                   5.5)
                                                                  [(weight-equal
                                                                    [(asset
                                                                      "UVXY"
                                                                      "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                  [(weight-equal
                                                                    [(filter
                                                                      (moving-average-return
                                                                       {:window
                                                                        5})
                                                                      (select-bottom
                                                                       1)
                                                                      [(asset
                                                                        "SOXL"
                                                                        "Direxion Daily Semiconductor Bull 3x Shares")
                                                                       (asset
                                                                        "TMV"
                                                                        "Direxion Daily 20+ Year Treasury Bear 3x Shares")])])])])]
                                                              [(weight-equal
                                                                [(if
                                                                  (<
                                                                   (rsi
                                                                    "BIL"
                                                                    {:window
                                                                     7})
                                                                   (rsi
                                                                    "IEF"
                                                                    {:window
                                                                     7}))
                                                                  [(weight-equal
                                                                    [(filter
                                                                      (moving-average-return
                                                                       {:window
                                                                        5})
                                                                      (select-top
                                                                       1)
                                                                      [(asset
                                                                        "TQQQ"
                                                                        "ProShares UltraPro QQQ")
                                                                       (asset
                                                                        "SOXL"
                                                                        "Direxion Daily Semiconductor Bull 3x Shares")
                                                                       (asset
                                                                        "UPRO"
                                                                        "ProShares UltraPro S&P500")
                                                                       (asset
                                                                        "TMV"
                                                                        "Direxion Daily 20+ Year Treasury Bear 3x Shares")
                                                                       (asset
                                                                        "TECL"
                                                                        "Direxion Daily Technology Bull 3x Shares")])])]
                                                                  [(weight-equal
                                                                    [(filter
                                                                      (moving-average-return
                                                                       {:window
                                                                        22})
                                                                      (select-bottom
                                                                       1)
                                                                      [(asset
                                                                        "SOXL"
                                                                        "Direxion Daily Semiconductor Bull 3x Shares")
                                                                       (asset
                                                                        "UPRO"
                                                                        "ProShares UltraPro S&P500")])])])])])])])])]
                                                      [(group
                                                        "Defense | Modified"
                                                        [(weight-equal
                                                          [(if
                                                            (>
                                                             (stdev-return
                                                              "DBC"
                                                              {:window
                                                               20})
                                                             (stdev-return
                                                              "SPY"
                                                              {:window
                                                               20}))
                                                            [(weight-equal
                                                              [(if
                                                                (>=
                                                                 (stdev-return
                                                                  "DBC"
                                                                  {:window
                                                                   10})
                                                                 3)
                                                                [(weight-equal
                                                                  [(if
                                                                    (<=
                                                                     (stdev-return
                                                                      "TMV"
                                                                      {:window
                                                                       5})
                                                                     (stdev-return
                                                                      "DBC"
                                                                      {:window
                                                                       5}))
                                                                    [(asset
                                                                      "TMV"
                                                                      "Direxion Daily 20+ Year Treasury Bear 3x Shares")]
                                                                    [(asset
                                                                      "DBC"
                                                                      "Invesco DB Commodity Index Tracking Fund")])])]
                                                                [(weight-equal
                                                                  [(if
                                                                    (<
                                                                     (rsi
                                                                      "BIL"
                                                                      {:window
                                                                       7})
                                                                     (rsi
                                                                      "IEF"
                                                                      {:window
                                                                       7}))
                                                                    [(weight-equal
                                                                      [(filter
                                                                        (moving-average-return
                                                                         {:window
                                                                          5})
                                                                        (select-top
                                                                         1)
                                                                        [(asset
                                                                          "TMV"
                                                                          "Direxion Daily 20+ Year Treasury Bear 3x Shares")
                                                                         (asset
                                                                          "SOXS"
                                                                          "Direxion Daily Semiconductor Bear 3x Shares")
                                                                         (asset
                                                                          "SPXU"
                                                                          "ProShares UltraPro Short S&P500")])])]
                                                                    [(weight-equal
                                                                      [(filter
                                                                        (cumulative-return
                                                                         {:window
                                                                          5})
                                                                        (select-bottom
                                                                         1)
                                                                        [(asset
                                                                          "EFA"
                                                                          "iShares MSCI EAFE ETF")
                                                                         (asset
                                                                          "EEM"
                                                                          "iShares MSCI Emerging Markets ETF")
                                                                         (asset
                                                                          "SPXS"
                                                                          "Direxion Daily S&P 500 Bear 3x Shares")
                                                                         (asset
                                                                          "SOXS"
                                                                          "Direxion Daily Semiconductor Bear 3x Shares")
                                                                         (asset
                                                                          "UCO"
                                                                          "ProShares Ultra Bloomberg Crude Oil")
                                                                         (asset
                                                                          "TMV"
                                                                          "Direxion Daily 20+ Year Treasury Bear 3x Shares")])])])])])])]
                                                            [(weight-equal
                                                              [(if
                                                                (<
                                                                 (rsi
                                                                  "BIL"
                                                                  {:window
                                                                   7})
                                                                 (rsi
                                                                  "IEF"
                                                                  {:window
                                                                   7}))
                                                                [(weight-equal
                                                                  [(filter
                                                                    (moving-average-return
                                                                     {:window
                                                                      5})
                                                                    (select-bottom
                                                                     1)
                                                                    [(asset
                                                                      "EPI"
                                                                      "WisdomTree India Earnings Fund")
                                                                     (asset
                                                                      "SOXL"
                                                                      "Direxion Daily Semiconductor Bull 3x Shares")
                                                                     (asset
                                                                      "UPRO"
                                                                      "ProShares UltraPro S&P500")])])]
                                                                [(weight-equal
                                                                  [(filter
                                                                    (cumulative-return
                                                                     {:window
                                                                      5})
                                                                    (select-top
                                                                     1)
                                                                    [(asset
                                                                      "EWZ"
                                                                      "iShares MSCI Brazil ETF")
                                                                     (asset
                                                                      "TECS"
                                                                      "Direxion Daily Technology Bear 3X Shares")
                                                                     (asset
                                                                      "SOXS"
                                                                      "Direxion Daily Semiconductor Bear 3x Shares")
                                                                     (asset
                                                                      "EUO"
                                                                      "ProShares UltraShort Euro")
                                                                     (asset
                                                                      "YCS"
                                                                      "ProShares UltraShort Yen")
                                                                     (asset
                                                                      "TMV"
                                                                      "Direxion Daily 20+ Year Treasury Bear 3x Shares")])])])])])])])])])])])])]
                                            [(group
                                              "B.A.B: Risk Off, Falling Rates (TMF)* - LETF Basket"
                                              [(weight-equal
                                                [(if
                                                  (<=
                                                   (exponential-moving-average-price
                                                    "SPY"
                                                    {:window 210})
                                                   (moving-average-price
                                                    "SPY"
                                                    {:window 360}))
                                                  [(weight-equal
                                                    [(if
                                                      (<=
                                                       (cumulative-return
                                                        "SPY"
                                                        {:window 1})
                                                       -2)
                                                      [(weight-equal
                                                        [(filter
                                                          (cumulative-return
                                                           {:window 5})
                                                          (select-top
                                                           1)
                                                          [(asset
                                                            "SPXS"
                                                            "Direxion Daily S&P 500 Bear 3x Shares")
                                                           (asset
                                                            "TECS"
                                                            "Direxion Daily Technology Bear 3X Shares")
                                                           (asset
                                                            "SOXS"
                                                            "Direxion Daily Semiconductor Bear 3x Shares")
                                                           (asset
                                                            "SQQQ"
                                                            "ProShares UltraPro Short QQQ")])])]
                                                      [(weight-equal
                                                        [(if
                                                          (>=
                                                           (cumulative-return
                                                            "SPXU"
                                                            {:window
                                                             6})
                                                           (cumulative-return
                                                            "UPRO"
                                                            {:window
                                                             3}))
                                                          [(weight-equal
                                                            [(filter
                                                              (cumulative-return
                                                               {:window
                                                                10})
                                                              (select-top
                                                               1)
                                                              [(asset
                                                                "TMF"
                                                                "Direxion Daily 20+ Year Treasury Bull 3X Shares")
                                                               (asset
                                                                "TMV"
                                                                "Direxion Daily 20+ Year Treasury Bear 3x Shares")
                                                               (asset
                                                                "SPXS"
                                                                "Direxion Daily S&P 500 Bear 3x Shares")
                                                               (asset
                                                                "SQQQ"
                                                                "ProShares UltraPro Short QQQ")])])]
                                                          [(weight-equal
                                                            [(filter
                                                              (moving-average-return
                                                               {:window
                                                                5})
                                                              (select-bottom
                                                               1)
                                                              [(asset
                                                                "TECL"
                                                                "Direxion Daily Technology Bull 3x Shares")
                                                               (asset
                                                                "TQQQ"
                                                                "ProShares UltraPro QQQ")
                                                               (asset
                                                                "SOXL"
                                                                "Direxion Daily Semiconductor Bull 3x Shares")
                                                               (asset
                                                                "EWZ"
                                                                "iShares MSCI Brazil ETF")
                                                               (asset
                                                                "TMF"
                                                                "Direxion Daily 20+ Year Treasury Bull 3X Shares")])])])])])])]
                                                  [(weight-equal
                                                    [(if
                                                      (>
                                                       (moving-average-return
                                                        "SPY"
                                                        {:window 210})
                                                       (moving-average-return
                                                        "DBC"
                                                        {:window 360}))
                                                      [(weight-equal
                                                        [(if
                                                          (>
                                                           (exponential-moving-average-price
                                                            "SPY"
                                                            {:window
                                                             210})
                                                           (exponential-moving-average-price
                                                            "SPY"
                                                            {:window
                                                             360}))
                                                          [(weight-equal
                                                            [(if
                                                              (>
                                                               (rsi
                                                                "TQQQ"
                                                                {:window
                                                                 11})
                                                               77)
                                                              [(asset
                                                                "UVXY"
                                                                "ProShares Ultra VIX Short-Term Futures ETF")]
                                                              [(weight-equal
                                                                [(if
                                                                  (<
                                                                   (cumulative-return
                                                                    "TQQQ"
                                                                    {:window
                                                                     6})
                                                                   -10)
                                                                  [(weight-equal
                                                                    [(if
                                                                      (>
                                                                       (cumulative-return
                                                                        "TQQQ"
                                                                        {:window
                                                                         1})
                                                                       5.5)
                                                                      [(weight-equal
                                                                        [(asset
                                                                          "UVXY"
                                                                          "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                      [(weight-equal
                                                                        [(filter
                                                                          (moving-average-return
                                                                           {:window
                                                                            7})
                                                                          (select-bottom
                                                                           1)
                                                                          [(asset
                                                                            "TECL"
                                                                            "Direxion Daily Technology Bull 3x Shares")
                                                                           (asset
                                                                            "TQQQ"
                                                                            "ProShares UltraPro QQQ")
                                                                           (asset
                                                                            "SPXL"
                                                                            "Direxion Daily S&P 500 Bull 3x Shares")
                                                                           (asset
                                                                            "EPI"
                                                                            "WisdomTree India Earnings Fund")
                                                                           (asset
                                                                            "SOXL"
                                                                            "Direxion Daily Semiconductor Bull 3x Shares")
                                                                           (asset
                                                                            "UPRO"
                                                                            "ProShares UltraPro S&P500")
                                                                           (asset
                                                                            "QLD"
                                                                            "ProShares Ultra QQQ")
                                                                           (asset
                                                                            "EWZ"
                                                                            "iShares MSCI Brazil ETF")
                                                                           (asset
                                                                            "MVV"
                                                                            "ProShares Ultra MidCap400")
                                                                           (asset
                                                                            "PUI"
                                                                            "Invesco DWA Utilities Momentum ETF")
                                                                           (asset
                                                                            "USD"
                                                                            "ProShares Ultra Semiconductors")
                                                                           (asset
                                                                            "TMF"
                                                                            "Direxion Daily 20+ Year Treasury Bull 3X Shares")])])])])]
                                                                  [(weight-equal
                                                                    [(if
                                                                      (<
                                                                       (rsi
                                                                        "BIL"
                                                                        {:window
                                                                         7})
                                                                       (rsi
                                                                        "IEF"
                                                                        {:window
                                                                         7}))
                                                                      [(weight-equal
                                                                        [(filter
                                                                          (moving-average-return
                                                                           {:window
                                                                            7})
                                                                          (select-bottom
                                                                           1)
                                                                          [(asset
                                                                            "TECL"
                                                                            "Direxion Daily Technology Bull 3x Shares")
                                                                           (asset
                                                                            "SPXL"
                                                                            "Direxion Daily S&P 500 Bull 3x Shares")
                                                                           (asset
                                                                            "EPI"
                                                                            "WisdomTree India Earnings Fund")
                                                                           (asset
                                                                            "SOXL"
                                                                            "Direxion Daily Semiconductor Bull 3x Shares")
                                                                           (asset
                                                                            "UPRO"
                                                                            "ProShares UltraPro S&P500")
                                                                           (asset
                                                                            "MVV"
                                                                            "ProShares Ultra MidCap400")])])]
                                                                      [(weight-equal
                                                                        [(filter
                                                                          (cumulative-return
                                                                           {:window
                                                                            5})
                                                                          (select-top
                                                                           1)
                                                                          [(asset
                                                                            "SOXS"
                                                                            "Direxion Daily Semiconductor Bear 3x Shares")
                                                                           (asset
                                                                            "TMF"
                                                                            "Direxion Daily 20+ Year Treasury Bull 3X Shares")])])])])])])])])]
                                                          [(weight-equal
                                                            [(filter
                                                              (rsi
                                                               {:window
                                                                5})
                                                              (select-bottom
                                                               1)
                                                              [(asset
                                                                "SPXS"
                                                                "Direxion Daily S&P 500 Bear 3x Shares")
                                                               (asset
                                                                "SQQQ"
                                                                "ProShares UltraPro Short QQQ")
                                                               (asset
                                                                "TECS"
                                                                "Direxion Daily Technology Bear 3X Shares")
                                                               (asset
                                                                "SOXS"
                                                                "Direxion Daily Semiconductor Bear 3x Shares")])])])])]
                                                      [(group
                                                        "Defense | Modified"
                                                        [(weight-equal
                                                          [(if
                                                            (>
                                                             (stdev-return
                                                              "DBC"
                                                              {:window
                                                               20})
                                                             (stdev-return
                                                              "SPY"
                                                              {:window
                                                               20}))
                                                            [(weight-equal
                                                              [(filter
                                                                (rsi
                                                                 {:window
                                                                  5})
                                                                (select-bottom
                                                                 1)
                                                                [(asset
                                                                  "SPXS"
                                                                  "Direxion Daily S&P 500 Bear 3x Shares")
                                                                 (asset
                                                                  "EPI"
                                                                  "WisdomTree India Earnings Fund")
                                                                 (asset
                                                                  "TECS"
                                                                  "Direxion Daily Technology Bear 3X Shares")
                                                                 (asset
                                                                  "SOXS"
                                                                  "Direxion Daily Semiconductor Bear 3x Shares")
                                                                 (asset
                                                                  "SQQQ"
                                                                  "ProShares UltraPro Short QQQ")])])]
                                                            [(weight-equal
                                                              [(filter
                                                                (moving-average-return
                                                                 {:window
                                                                  5})
                                                                (select-top
                                                                 1)
                                                                [(asset
                                                                  "TECL"
                                                                  "Direxion Daily Technology Bull 3x Shares")
                                                                 (asset
                                                                  "TQQQ"
                                                                  "ProShares UltraPro QQQ")
                                                                 (asset
                                                                  "SOXL"
                                                                  "Direxion Daily Semiconductor Bull 3x Shares")
                                                                 (asset
                                                                  "TMF"
                                                                  "Direxion Daily 20+ Year Treasury Bull 3X Shares")])])])])])])])])])])])])])])])])])])])])])])])])])])])]
          [(weight-equal
            [(if
              (< (max-drawdown "QQQ" {:window 6}) 3.5)
              [(weight-equal
                [(group
                  "v4 Pops"
                  [(weight-equal
                    [(if
                      (> (rsi "QQQE" {:window 10}) 79)
                      [(asset
                        "UVXY"
                        "ProShares Ultra VIX Short-Term Futures ETF")]
                      [(weight-equal
                        [(if
                          (> (rsi "VTV" {:window 10}) 79)
                          [(asset
                            "UVXY"
                            "ProShares Ultra VIX Short-Term Futures ETF")]
                          [(weight-equal
                            [(if
                              (> (rsi "VOX" {:window 10}) 79)
                              [(asset
                                "UVXY"
                                "ProShares Ultra VIX Short-Term Futures ETF")]
                              [(weight-equal
                                [(if
                                  (<=
                                   (max-drawdown "SPY" {:window 9})
                                   0)
                                  [(asset
                                    "UVXY"
                                    "ProShares Ultra VIX Short-Term Futures ETF")]
                                  [(weight-equal
                                    [(if
                                      (> (rsi "TECL" {:window 10}) 79)
                                      [(asset
                                        "UVXY"
                                        "ProShares Ultra VIX Short-Term Futures ETF")]
                                      [(weight-equal
                                        [(if
                                          (>
                                           (rsi "VOOG" {:window 10})
                                           79)
                                          [(asset
                                            "UVXY"
                                            "ProShares Ultra VIX Short-Term Futures ETF")]
                                          [(weight-equal
                                            [(if
                                              (>
                                               (rsi
                                                "VOOV"
                                                {:window 10})
                                               79)
                                              [(asset
                                                "UVXY"
                                                "ProShares Ultra VIX Short-Term Futures ETF")]
                                              [(weight-equal
                                                [(if
                                                  (>
                                                   (rsi
                                                    "XLP"
                                                    {:window 10})
                                                   75)
                                                  [(asset
                                                    "UVXY"
                                                    "ProShares Ultra VIX Short-Term Futures ETF")]
                                                  [(weight-equal
                                                    [(if
                                                      (>
                                                       (rsi
                                                        "TQQQ"
                                                        {:window 10})
                                                       79)
                                                      [(weight-equal
                                                        [(asset
                                                          "UVXY"
                                                          "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                      [(weight-equal
                                                        [(if
                                                          (>
                                                           (rsi
                                                            "XLY"
                                                            {:window
                                                             10})
                                                           80)
                                                          [(asset
                                                            "UVXY"
                                                            "ProShares Ultra VIX Short-Term Futures ETF")]
                                                          [(weight-equal
                                                            [(if
                                                              (>
                                                               (rsi
                                                                "FAS"
                                                                {:window
                                                                 10})
                                                               80)
                                                              [(asset
                                                                "UVXY"
                                                                "ProShares Ultra VIX Short-Term Futures ETF")]
                                                              [(weight-equal
                                                                [(if
                                                                  (>
                                                                   (rsi
                                                                    "SPY"
                                                                    {:window
                                                                     10})
                                                                   80)
                                                                  [(asset
                                                                    "UVXY"
                                                                    "ProShares Ultra VIX Short-Term Futures ETF")]
                                                                  [(weight-equal
                                                                    [(if
                                                                      (<
                                                                       (cumulative-return
                                                                        "TQQQ"
                                                                        {:window
                                                                         6})
                                                                       -12)
                                                                      [(weight-equal
                                                                        [(if
                                                                          (>
                                                                           (cumulative-return
                                                                            "TQQQ"
                                                                            {:window
                                                                             1})
                                                                           5.5)
                                                                          [(weight-equal
                                                                            [(asset
                                                                              "UVXY"
                                                                              "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                          [(weight-equal
                                                                            [(group
                                                                              "VMS popped TECL or Not"
                                                                              [(weight-equal
                                                                                [(if
                                                                                  (>
                                                                                   (rsi
                                                                                    "XLK"
                                                                                    {:window
                                                                                     126})
                                                                                   (rsi
                                                                                    "XLP"
                                                                                    {:window
                                                                                     126}))
                                                                                  [(weight-equal
                                                                                    [(group
                                                                                      "Bullish Market Conditions"
                                                                                      [(weight-equal
                                                                                        [(if
                                                                                          (>
                                                                                           (rsi
                                                                                            "TQQQ"
                                                                                            {:window
                                                                                             10})
                                                                                           80)
                                                                                          [(weight-equal
                                                                                            [(asset
                                                                                              "UVXY"
                                                                                              "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                          [(weight-equal
                                                                                            [(if
                                                                                              (<
                                                                                               (rsi
                                                                                                "TQQQ"
                                                                                                {:window
                                                                                                 10})
                                                                                               31)
                                                                                              [(weight-equal
                                                                                                [(filter
                                                                                                  (moving-average-return
                                                                                                   {:window
                                                                                                    5})
                                                                                                  (select-bottom
                                                                                                   1)
                                                                                                  [(asset
                                                                                                    "TECL"
                                                                                                    "Direxion Daily Technology Bull 3x Shares")
                                                                                                   (asset
                                                                                                    "SOXL"
                                                                                                    "Direxion Daily Semiconductor Bull 3x Shares")
                                                                                                   (asset
                                                                                                    "TMF"
                                                                                                    "Direxion Daily 20+ Year Treasury Bull 3X Shares")])])]
                                                                                              [(weight-equal
                                                                                                [(if
                                                                                                  (>
                                                                                                   (rsi
                                                                                                    "VIXY"
                                                                                                    {:window
                                                                                                     10})
                                                                                                   50)
                                                                                                  [(weight-equal
                                                                                                    [(if
                                                                                                      (<
                                                                                                       (moving-average-return
                                                                                                        "VIXY"
                                                                                                        {:window
                                                                                                         5})
                                                                                                       0)
                                                                                                      [(group
                                                                                                        "1st Block"
                                                                                                        [(weight-equal
                                                                                                          [(if
                                                                                                            (>
                                                                                                             (cumulative-return
                                                                                                              "TQQQ"
                                                                                                              {:window
                                                                                                               1})
                                                                                                             5.5)
                                                                                                            [(weight-equal
                                                                                                              [(asset
                                                                                                                "VIXM"
                                                                                                                "ProShares VIX Mid-Term Futures ETF")])]
                                                                                                            [(weight-equal
                                                                                                              [(group
                                                                                                                "TECL or Not"
                                                                                                                [(weight-equal
                                                                                                                  [(if
                                                                                                                    (>
                                                                                                                     (rsi
                                                                                                                      "TQQQ"
                                                                                                                      {:window
                                                                                                                       10})
                                                                                                                     79)
                                                                                                                    [(asset
                                                                                                                      "UVXY"
                                                                                                                      "ProShares Ultra VIX Short-Term Futures ETF")]
                                                                                                                    [(weight-equal
                                                                                                                      [(group
                                                                                                                        "Huge volatility"
                                                                                                                        [(weight-equal
                                                                                                                          [(if
                                                                                                                            (<
                                                                                                                             (cumulative-return
                                                                                                                              "TQQQ"
                                                                                                                              {:window
                                                                                                                               6})
                                                                                                                             -13)
                                                                                                                            [(weight-equal
                                                                                                                              [(if
                                                                                                                                (>
                                                                                                                                 (cumulative-return
                                                                                                                                  "TQQQ"
                                                                                                                                  {:window
                                                                                                                                   1})
                                                                                                                                 6)
                                                                                                                                [(weight-equal
                                                                                                                                  [(asset
                                                                                                                                    "UVXY"
                                                                                                                                    "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                                                                [(weight-equal
                                                                                                                                  [(group
                                                                                                                                    "Mean Rev"
                                                                                                                                    [(weight-equal
                                                                                                                                      [(if
                                                                                                                                        (<
                                                                                                                                         (rsi
                                                                                                                                          "TQQQ"
                                                                                                                                          {:window
                                                                                                                                           10})
                                                                                                                                         32)
                                                                                                                                        [(asset
                                                                                                                                          "TECL"
                                                                                                                                          "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                        [(weight-equal
                                                                                                                                          [(if
                                                                                                                                            (<
                                                                                                                                             (max-drawdown
                                                                                                                                              "TMF"
                                                                                                                                              {:window
                                                                                                                                               10})
                                                                                                                                             7)
                                                                                                                                            [(asset
                                                                                                                                              "TECL"
                                                                                                                                              "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                            [(weight-equal
                                                                                                                                              [(asset
                                                                                                                                                "BIL"
                                                                                                                                                "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])]
                                                                                                                            [(weight-equal
                                                                                                                              [(group
                                                                                                                                "Normal market"
                                                                                                                                [(weight-equal
                                                                                                                                  [(if
                                                                                                                                    (>
                                                                                                                                     (max-drawdown
                                                                                                                                      "QQQ"
                                                                                                                                      {:window
                                                                                                                                       10})
                                                                                                                                     6)
                                                                                                                                    [(weight-equal
                                                                                                                                      [(asset
                                                                                                                                        "BIL"
                                                                                                                                        "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                                    [(weight-equal
                                                                                                                                      [(if
                                                                                                                                        (>
                                                                                                                                         (max-drawdown
                                                                                                                                          "TMF"
                                                                                                                                          {:window
                                                                                                                                           10})
                                                                                                                                         7)
                                                                                                                                        [(weight-equal
                                                                                                                                          [(asset
                                                                                                                                            "BIL"
                                                                                                                                            "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                                        [(weight-equal
                                                                                                                                          [(if
                                                                                                                                            (>
                                                                                                                                             (current-price
                                                                                                                                              "QQQ")
                                                                                                                                             (moving-average-price
                                                                                                                                              "QQQ"
                                                                                                                                              {:window
                                                                                                                                               25}))
                                                                                                                                            [(weight-equal
                                                                                                                                              [(asset
                                                                                                                                                "TECL"
                                                                                                                                                "Direxion Daily Technology Bull 3x Shares")])]
                                                                                                                                            [(weight-equal
                                                                                                                                              [(if
                                                                                                                                                (>
                                                                                                                                                 (rsi
                                                                                                                                                  "SPY"
                                                                                                                                                  {:window
                                                                                                                                                   60})
                                                                                                                                                 50)
                                                                                                                                                [(group
                                                                                                                                                  "Bond > Stock"
                                                                                                                                                  [(weight-equal
                                                                                                                                                    [(if
                                                                                                                                                      (>
                                                                                                                                                       (rsi
                                                                                                                                                        "BND"
                                                                                                                                                        {:window
                                                                                                                                                         45})
                                                                                                                                                       (rsi
                                                                                                                                                        "SPY"
                                                                                                                                                        {:window
                                                                                                                                                         45}))
                                                                                                                                                      [(asset
                                                                                                                                                        "TECL"
                                                                                                                                                        "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                                      [(weight-equal
                                                                                                                                                        [(asset
                                                                                                                                                          "BIL"
                                                                                                                                                          "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])]
                                                                                                                                                [(group
                                                                                                                                                  "Bond Mid-term < Long-term"
                                                                                                                                                  [(weight-equal
                                                                                                                                                    [(if
                                                                                                                                                      (<
                                                                                                                                                       (rsi
                                                                                                                                                        "IEF"
                                                                                                                                                        {:window
                                                                                                                                                         200})
                                                                                                                                                       (rsi
                                                                                                                                                        "TLT"
                                                                                                                                                        {:window
                                                                                                                                                         200}))
                                                                                                                                                      [(weight-equal
                                                                                                                                                        [(if
                                                                                                                                                          (>
                                                                                                                                                           (rsi
                                                                                                                                                            "BND"
                                                                                                                                                            {:window
                                                                                                                                                             45})
                                                                                                                                                           (rsi
                                                                                                                                                            "SPY"
                                                                                                                                                            {:window
                                                                                                                                                             45}))
                                                                                                                                                          [(asset
                                                                                                                                                            "TECL"
                                                                                                                                                            "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                                          [(weight-equal
                                                                                                                                                            [(asset
                                                                                                                                                              "BIL"
                                                                                                                                                              "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])]
                                                                                                                                                      [(weight-equal
                                                                                                                                                        [(asset
                                                                                                                                                          "BIL"
                                                                                                                                                          "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])])])])])])])])])])])])])])])])])]
                                                                                                      [(group
                                                                                                        "2nd Block"
                                                                                                        [(weight-equal
                                                                                                          [(if
                                                                                                            (>
                                                                                                             (cumulative-return
                                                                                                              "TQQQ"
                                                                                                              {:window
                                                                                                               1})
                                                                                                             5.5)
                                                                                                            [(weight-equal
                                                                                                              [(filter
                                                                                                                (exponential-moving-average-price
                                                                                                                 {:window
                                                                                                                  5})
                                                                                                                (select-bottom
                                                                                                                 1)
                                                                                                                [(asset
                                                                                                                  "UVXY"
                                                                                                                  "ProShares Ultra VIX Short-Term Futures ETF")
                                                                                                                 (asset
                                                                                                                  "TECS"
                                                                                                                  "Direxion Daily Technology Bear 3X Shares")])])]
                                                                                                            [(weight-equal
                                                                                                              [(group
                                                                                                                "TECL or Not"
                                                                                                                [(weight-equal
                                                                                                                  [(if
                                                                                                                    (>
                                                                                                                     (rsi
                                                                                                                      "TQQQ"
                                                                                                                      {:window
                                                                                                                       10})
                                                                                                                     79)
                                                                                                                    [(asset
                                                                                                                      "UVXY"
                                                                                                                      "ProShares Ultra VIX Short-Term Futures ETF")]
                                                                                                                    [(weight-equal
                                                                                                                      [(group
                                                                                                                        "Huge volatility"
                                                                                                                        [(weight-equal
                                                                                                                          [(if
                                                                                                                            (<
                                                                                                                             (cumulative-return
                                                                                                                              "TQQQ"
                                                                                                                              {:window
                                                                                                                               6})
                                                                                                                             -13)
                                                                                                                            [(weight-equal
                                                                                                                              [(if
                                                                                                                                (>
                                                                                                                                 (cumulative-return
                                                                                                                                  "TQQQ"
                                                                                                                                  {:window
                                                                                                                                   1})
                                                                                                                                 6)
                                                                                                                                [(weight-equal
                                                                                                                                  [(asset
                                                                                                                                    "UVXY"
                                                                                                                                    "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                                                                [(weight-equal
                                                                                                                                  [(group
                                                                                                                                    "Mean Rev"
                                                                                                                                    [(weight-equal
                                                                                                                                      [(if
                                                                                                                                        (<
                                                                                                                                         (rsi
                                                                                                                                          "TQQQ"
                                                                                                                                          {:window
                                                                                                                                           10})
                                                                                                                                         32)
                                                                                                                                        [(asset
                                                                                                                                          "TECL"
                                                                                                                                          "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                        [(weight-equal
                                                                                                                                          [(if
                                                                                                                                            (<
                                                                                                                                             (max-drawdown
                                                                                                                                              "TMF"
                                                                                                                                              {:window
                                                                                                                                               10})
                                                                                                                                             7)
                                                                                                                                            [(asset
                                                                                                                                              "TECL"
                                                                                                                                              "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                            [(weight-equal
                                                                                                                                              [(asset
                                                                                                                                                "BIL"
                                                                                                                                                "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])]
                                                                                                                            [(weight-equal
                                                                                                                              [(group
                                                                                                                                "Normal market"
                                                                                                                                [(weight-equal
                                                                                                                                  [(if
                                                                                                                                    (>
                                                                                                                                     (max-drawdown
                                                                                                                                      "QQQ"
                                                                                                                                      {:window
                                                                                                                                       10})
                                                                                                                                     6)
                                                                                                                                    [(weight-equal
                                                                                                                                      [(asset
                                                                                                                                        "BIL"
                                                                                                                                        "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                                    [(weight-equal
                                                                                                                                      [(if
                                                                                                                                        (>
                                                                                                                                         (max-drawdown
                                                                                                                                          "TMF"
                                                                                                                                          {:window
                                                                                                                                           10})
                                                                                                                                         7)
                                                                                                                                        [(weight-equal
                                                                                                                                          [(asset
                                                                                                                                            "BIL"
                                                                                                                                            "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                                        [(weight-equal
                                                                                                                                          [(if
                                                                                                                                            (>
                                                                                                                                             (current-price
                                                                                                                                              "QQQ")
                                                                                                                                             (moving-average-price
                                                                                                                                              "QQQ"
                                                                                                                                              {:window
                                                                                                                                               25}))
                                                                                                                                            [(weight-equal
                                                                                                                                              [(asset
                                                                                                                                                "TECL"
                                                                                                                                                "Direxion Daily Technology Bull 3x Shares")])]
                                                                                                                                            [(weight-equal
                                                                                                                                              [(if
                                                                                                                                                (>
                                                                                                                                                 (rsi
                                                                                                                                                  "SPY"
                                                                                                                                                  {:window
                                                                                                                                                   60})
                                                                                                                                                 50)
                                                                                                                                                [(group
                                                                                                                                                  "Bond > Stock"
                                                                                                                                                  [(weight-equal
                                                                                                                                                    [(if
                                                                                                                                                      (>
                                                                                                                                                       (rsi
                                                                                                                                                        "BND"
                                                                                                                                                        {:window
                                                                                                                                                         45})
                                                                                                                                                       (rsi
                                                                                                                                                        "SPY"
                                                                                                                                                        {:window
                                                                                                                                                         45}))
                                                                                                                                                      [(asset
                                                                                                                                                        "TECL"
                                                                                                                                                        "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                                      [(weight-equal
                                                                                                                                                        [(asset
                                                                                                                                                          "BIL"
                                                                                                                                                          "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])]
                                                                                                                                                [(group
                                                                                                                                                  "Bond Mid-term < Long-term"
                                                                                                                                                  [(weight-equal
                                                                                                                                                    [(if
                                                                                                                                                      (<
                                                                                                                                                       (rsi
                                                                                                                                                        "IEF"
                                                                                                                                                        {:window
                                                                                                                                                         200})
                                                                                                                                                       (rsi
                                                                                                                                                        "TLT"
                                                                                                                                                        {:window
                                                                                                                                                         200}))
                                                                                                                                                      [(weight-equal
                                                                                                                                                        [(if
                                                                                                                                                          (>
                                                                                                                                                           (rsi
                                                                                                                                                            "BND"
                                                                                                                                                            {:window
                                                                                                                                                             45})
                                                                                                                                                           (rsi
                                                                                                                                                            "SPY"
                                                                                                                                                            {:window
                                                                                                                                                             45}))
                                                                                                                                                          [(asset
                                                                                                                                                            "TECL"
                                                                                                                                                            "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                                          [(weight-equal
                                                                                                                                                            [(asset
                                                                                                                                                              "BIL"
                                                                                                                                                              "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])]
                                                                                                                                                      [(weight-equal
                                                                                                                                                        [(asset
                                                                                                                                                          "BIL"
                                                                                                                                                          "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])])])])])])])])])])])])])])])])])])])]
                                                                                                  [(weight-equal
                                                                                                    [(if
                                                                                                      (<
                                                                                                       (moving-average-return
                                                                                                        "VIXY"
                                                                                                        {:window
                                                                                                         5})
                                                                                                       0)
                                                                                                      [(group
                                                                                                        "3rd Block"
                                                                                                        [(weight-equal
                                                                                                          [(if
                                                                                                            (>
                                                                                                             (cumulative-return
                                                                                                              "TQQQ"
                                                                                                              {:window
                                                                                                               1})
                                                                                                             5.5)
                                                                                                            [(weight-equal
                                                                                                              [(filter
                                                                                                                (exponential-moving-average-price
                                                                                                                 {:window
                                                                                                                  5})
                                                                                                                (select-bottom
                                                                                                                 1)
                                                                                                                [(asset
                                                                                                                  "VIXM"
                                                                                                                  "ProShares VIX Mid-Term Futures ETF")
                                                                                                                 (asset
                                                                                                                  "TECS"
                                                                                                                  "Direxion Daily Technology Bear 3X Shares")])])]
                                                                                                            [(weight-equal
                                                                                                              [(group
                                                                                                                "TECL or Not"
                                                                                                                [(weight-equal
                                                                                                                  [(if
                                                                                                                    (>
                                                                                                                     (rsi
                                                                                                                      "TQQQ"
                                                                                                                      {:window
                                                                                                                       10})
                                                                                                                     79)
                                                                                                                    [(asset
                                                                                                                      "UVXY"
                                                                                                                      "ProShares Ultra VIX Short-Term Futures ETF")]
                                                                                                                    [(weight-equal
                                                                                                                      [(group
                                                                                                                        "Huge volatility"
                                                                                                                        [(weight-equal
                                                                                                                          [(if
                                                                                                                            (<
                                                                                                                             (cumulative-return
                                                                                                                              "TQQQ"
                                                                                                                              {:window
                                                                                                                               6})
                                                                                                                             -13)
                                                                                                                            [(weight-equal
                                                                                                                              [(if
                                                                                                                                (>
                                                                                                                                 (cumulative-return
                                                                                                                                  "TQQQ"
                                                                                                                                  {:window
                                                                                                                                   1})
                                                                                                                                 6)
                                                                                                                                [(weight-equal
                                                                                                                                  [(asset
                                                                                                                                    "UVXY"
                                                                                                                                    "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                                                                [(weight-equal
                                                                                                                                  [(group
                                                                                                                                    "Mean Rev"
                                                                                                                                    [(weight-equal
                                                                                                                                      [(if
                                                                                                                                        (<
                                                                                                                                         (rsi
                                                                                                                                          "TQQQ"
                                                                                                                                          {:window
                                                                                                                                           10})
                                                                                                                                         32)
                                                                                                                                        [(asset
                                                                                                                                          "TECL"
                                                                                                                                          "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                        [(weight-equal
                                                                                                                                          [(if
                                                                                                                                            (<
                                                                                                                                             (max-drawdown
                                                                                                                                              "TMF"
                                                                                                                                              {:window
                                                                                                                                               10})
                                                                                                                                             7)
                                                                                                                                            [(asset
                                                                                                                                              "TECL"
                                                                                                                                              "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                            [(weight-equal
                                                                                                                                              [(asset
                                                                                                                                                "BIL"
                                                                                                                                                "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])]
                                                                                                                            [(weight-equal
                                                                                                                              [(group
                                                                                                                                "Normal market"
                                                                                                                                [(weight-equal
                                                                                                                                  [(if
                                                                                                                                    (>
                                                                                                                                     (max-drawdown
                                                                                                                                      "QQQ"
                                                                                                                                      {:window
                                                                                                                                       10})
                                                                                                                                     6)
                                                                                                                                    [(weight-equal
                                                                                                                                      [(asset
                                                                                                                                        "BIL"
                                                                                                                                        "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                                    [(weight-equal
                                                                                                                                      [(if
                                                                                                                                        (>
                                                                                                                                         (max-drawdown
                                                                                                                                          "TMF"
                                                                                                                                          {:window
                                                                                                                                           10})
                                                                                                                                         7)
                                                                                                                                        [(weight-equal
                                                                                                                                          [(asset
                                                                                                                                            "BIL"
                                                                                                                                            "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                                        [(weight-equal
                                                                                                                                          [(if
                                                                                                                                            (>
                                                                                                                                             (current-price
                                                                                                                                              "QQQ")
                                                                                                                                             (moving-average-price
                                                                                                                                              "QQQ"
                                                                                                                                              {:window
                                                                                                                                               25}))
                                                                                                                                            [(weight-equal
                                                                                                                                              [(asset
                                                                                                                                                "TECL"
                                                                                                                                                "Direxion Daily Technology Bull 3x Shares")])]
                                                                                                                                            [(weight-equal
                                                                                                                                              [(if
                                                                                                                                                (>
                                                                                                                                                 (rsi
                                                                                                                                                  "SPY"
                                                                                                                                                  {:window
                                                                                                                                                   60})
                                                                                                                                                 50)
                                                                                                                                                [(group
                                                                                                                                                  "Bond > Stock"
                                                                                                                                                  [(weight-equal
                                                                                                                                                    [(if
                                                                                                                                                      (>
                                                                                                                                                       (rsi
                                                                                                                                                        "BND"
                                                                                                                                                        {:window
                                                                                                                                                         45})
                                                                                                                                                       (rsi
                                                                                                                                                        "SPY"
                                                                                                                                                        {:window
                                                                                                                                                         45}))
                                                                                                                                                      [(asset
                                                                                                                                                        "TECL"
                                                                                                                                                        "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                                      [(weight-equal
                                                                                                                                                        [(asset
                                                                                                                                                          "BIL"
                                                                                                                                                          "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])]
                                                                                                                                                [(group
                                                                                                                                                  "Bond Mid-term < Long-term"
                                                                                                                                                  [(weight-equal
                                                                                                                                                    [(if
                                                                                                                                                      (<
                                                                                                                                                       (rsi
                                                                                                                                                        "IEF"
                                                                                                                                                        {:window
                                                                                                                                                         200})
                                                                                                                                                       (rsi
                                                                                                                                                        "TLT"
                                                                                                                                                        {:window
                                                                                                                                                         200}))
                                                                                                                                                      [(weight-equal
                                                                                                                                                        [(if
                                                                                                                                                          (>
                                                                                                                                                           (rsi
                                                                                                                                                            "BND"
                                                                                                                                                            {:window
                                                                                                                                                             45})
                                                                                                                                                           (rsi
                                                                                                                                                            "SPY"
                                                                                                                                                            {:window
                                                                                                                                                             45}))
                                                                                                                                                          [(asset
                                                                                                                                                            "TECL"
                                                                                                                                                            "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                                          [(weight-equal
                                                                                                                                                            [(asset
                                                                                                                                                              "BIL"
                                                                                                                                                              "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])]
                                                                                                                                                      [(weight-equal
                                                                                                                                                        [(asset
                                                                                                                                                          "BIL"
                                                                                                                                                          "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])])])])])])])])])])])])])])])])])]
                                                                                                      [(group
                                                                                                        "4th Block"
                                                                                                        [(weight-equal
                                                                                                          [(if
                                                                                                            (>
                                                                                                             (cumulative-return
                                                                                                              "TQQQ"
                                                                                                              {:window
                                                                                                               1})
                                                                                                             5.5)
                                                                                                            [(weight-equal
                                                                                                              [(filter
                                                                                                                (exponential-moving-average-price
                                                                                                                 {:window
                                                                                                                  5})
                                                                                                                (select-top
                                                                                                                 1)
                                                                                                                [(asset
                                                                                                                  "UVXY"
                                                                                                                  "ProShares Ultra VIX Short-Term Futures ETF")
                                                                                                                 (asset
                                                                                                                  "TECS"
                                                                                                                  "Direxion Daily Technology Bear 3X Shares")])])]
                                                                                                            [(weight-equal
                                                                                                              [(group
                                                                                                                "TECL or Not"
                                                                                                                [(weight-equal
                                                                                                                  [(if
                                                                                                                    (>
                                                                                                                     (rsi
                                                                                                                      "TQQQ"
                                                                                                                      {:window
                                                                                                                       10})
                                                                                                                     79)
                                                                                                                    [(asset
                                                                                                                      "UVXY"
                                                                                                                      "ProShares Ultra VIX Short-Term Futures ETF")]
                                                                                                                    [(weight-equal
                                                                                                                      [(group
                                                                                                                        "Huge volatility"
                                                                                                                        [(weight-equal
                                                                                                                          [(if
                                                                                                                            (<
                                                                                                                             (cumulative-return
                                                                                                                              "TQQQ"
                                                                                                                              {:window
                                                                                                                               6})
                                                                                                                             -13)
                                                                                                                            [(weight-equal
                                                                                                                              [(if
                                                                                                                                (>
                                                                                                                                 (cumulative-return
                                                                                                                                  "TQQQ"
                                                                                                                                  {:window
                                                                                                                                   1})
                                                                                                                                 6)
                                                                                                                                [(weight-equal
                                                                                                                                  [(asset
                                                                                                                                    "UVXY"
                                                                                                                                    "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                                                                [(weight-equal
                                                                                                                                  [(group
                                                                                                                                    "Mean Rev"
                                                                                                                                    [(weight-equal
                                                                                                                                      [(if
                                                                                                                                        (<
                                                                                                                                         (rsi
                                                                                                                                          "TQQQ"
                                                                                                                                          {:window
                                                                                                                                           10})
                                                                                                                                         32)
                                                                                                                                        [(asset
                                                                                                                                          "TECL"
                                                                                                                                          "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                        [(weight-equal
                                                                                                                                          [(if
                                                                                                                                            (<
                                                                                                                                             (max-drawdown
                                                                                                                                              "TMF"
                                                                                                                                              {:window
                                                                                                                                               10})
                                                                                                                                             7)
                                                                                                                                            [(asset
                                                                                                                                              "TECL"
                                                                                                                                              "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                            [(weight-equal
                                                                                                                                              [(asset
                                                                                                                                                "BIL"
                                                                                                                                                "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])]
                                                                                                                            [(weight-equal
                                                                                                                              [(group
                                                                                                                                "Normal market"
                                                                                                                                [(weight-equal
                                                                                                                                  [(if
                                                                                                                                    (>
                                                                                                                                     (max-drawdown
                                                                                                                                      "QQQ"
                                                                                                                                      {:window
                                                                                                                                       10})
                                                                                                                                     6)
                                                                                                                                    [(weight-equal
                                                                                                                                      [(asset
                                                                                                                                        "BIL"
                                                                                                                                        "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                                    [(weight-equal
                                                                                                                                      [(if
                                                                                                                                        (>
                                                                                                                                         (max-drawdown
                                                                                                                                          "TMF"
                                                                                                                                          {:window
                                                                                                                                           10})
                                                                                                                                         7)
                                                                                                                                        [(weight-equal
                                                                                                                                          [(asset
                                                                                                                                            "BIL"
                                                                                                                                            "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                                        [(weight-equal
                                                                                                                                          [(if
                                                                                                                                            (>
                                                                                                                                             (current-price
                                                                                                                                              "QQQ")
                                                                                                                                             (moving-average-price
                                                                                                                                              "QQQ"
                                                                                                                                              {:window
                                                                                                                                               25}))
                                                                                                                                            [(weight-equal
                                                                                                                                              [(asset
                                                                                                                                                "TECL"
                                                                                                                                                "Direxion Daily Technology Bull 3x Shares")])]
                                                                                                                                            [(weight-equal
                                                                                                                                              [(if
                                                                                                                                                (>
                                                                                                                                                 (rsi
                                                                                                                                                  "SPY"
                                                                                                                                                  {:window
                                                                                                                                                   60})
                                                                                                                                                 50)
                                                                                                                                                [(group
                                                                                                                                                  "Bond > Stock"
                                                                                                                                                  [(weight-equal
                                                                                                                                                    [(if
                                                                                                                                                      (>
                                                                                                                                                       (rsi
                                                                                                                                                        "BND"
                                                                                                                                                        {:window
                                                                                                                                                         45})
                                                                                                                                                       (rsi
                                                                                                                                                        "SPY"
                                                                                                                                                        {:window
                                                                                                                                                         45}))
                                                                                                                                                      [(asset
                                                                                                                                                        "TECL"
                                                                                                                                                        "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                                      [(weight-equal
                                                                                                                                                        [(asset
                                                                                                                                                          "BIL"
                                                                                                                                                          "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])]
                                                                                                                                                [(group
                                                                                                                                                  "Bond Mid-term < Long-term"
                                                                                                                                                  [(weight-equal
                                                                                                                                                    [(if
                                                                                                                                                      (<
                                                                                                                                                       (rsi
                                                                                                                                                        "IEF"
                                                                                                                                                        {:window
                                                                                                                                                         200})
                                                                                                                                                       (rsi
                                                                                                                                                        "TLT"
                                                                                                                                                        {:window
                                                                                                                                                         200}))
                                                                                                                                                      [(weight-equal
                                                                                                                                                        [(if
                                                                                                                                                          (>
                                                                                                                                                           (rsi
                                                                                                                                                            "BND"
                                                                                                                                                            {:window
                                                                                                                                                             45})
                                                                                                                                                           (rsi
                                                                                                                                                            "SPY"
                                                                                                                                                            {:window
                                                                                                                                                             45}))
                                                                                                                                                          [(asset
                                                                                                                                                            "TECL"
                                                                                                                                                            "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                                          [(weight-equal
                                                                                                                                                            [(asset
                                                                                                                                                              "BIL"
                                                                                                                                                              "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])]
                                                                                                                                                      [(weight-equal
                                                                                                                                                        [(asset
                                                                                                                                                          "BIL"
                                                                                                                                                          "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])]
                                                                                  [(weight-equal
                                                                                    [(group
                                                                                      "Danger Market Conditions"
                                                                                      [(weight-equal
                                                                                        [(if
                                                                                          (>
                                                                                           (rsi
                                                                                            "TQQQ"
                                                                                            {:window
                                                                                             10})
                                                                                           80)
                                                                                          [(weight-equal
                                                                                            [(filter
                                                                                              (cumulative-return
                                                                                               {:window
                                                                                                5})
                                                                                              (select-bottom
                                                                                               1)
                                                                                              [(asset
                                                                                                "TMV"
                                                                                                "Direxion Daily 20+ Year Treasury Bear 3x Shares")
                                                                                               (asset
                                                                                                "UGL"
                                                                                                "ProShares Ultra Gold")])])]
                                                                                          [(weight-equal
                                                                                            [(if
                                                                                              (>
                                                                                               (rsi
                                                                                                "VIXY"
                                                                                                {:window
                                                                                                 10})
                                                                                               50)
                                                                                              [(weight-equal
                                                                                                [(if
                                                                                                  (<
                                                                                                   (rsi
                                                                                                    "TQQQ"
                                                                                                    {:window
                                                                                                     10})
                                                                                                   31)
                                                                                                  [(weight-equal
                                                                                                    [(filter
                                                                                                      (stdev-price
                                                                                                       {:window
                                                                                                        5})
                                                                                                      (select-bottom
                                                                                                       1)
                                                                                                      [(asset
                                                                                                        "SVXY"
                                                                                                        "ProShares Short VIX Short-Term Futures ETF")
                                                                                                       (asset
                                                                                                        "SOXL"
                                                                                                        "Direxion Daily Semiconductor Bull 3x Shares")
                                                                                                       (asset
                                                                                                        "ERX"
                                                                                                        "Direxion Daily Energy Bull 2x Shares")
                                                                                                       (asset
                                                                                                        "TMV"
                                                                                                        "Direxion Daily 20+ Year Treasury Bear 3x Shares")])])]
                                                                                                  [(weight-equal
                                                                                                    [(if
                                                                                                      (<
                                                                                                       (moving-average-return
                                                                                                        "VIXY"
                                                                                                        {:window
                                                                                                         5})
                                                                                                       0)
                                                                                                      [(weight-equal
                                                                                                        [(asset
                                                                                                          "SVXY"
                                                                                                          "ProShares Short VIX Short-Term Futures ETF")])]
                                                                                                      [(weight-equal
                                                                                                        [(group
                                                                                                          "TECL or Not"
                                                                                                          [(weight-equal
                                                                                                            [(if
                                                                                                              (>
                                                                                                               (rsi
                                                                                                                "TQQQ"
                                                                                                                {:window
                                                                                                                 10})
                                                                                                               79)
                                                                                                              [(asset
                                                                                                                "UVXY"
                                                                                                                "ProShares Ultra VIX Short-Term Futures ETF")]
                                                                                                              [(weight-equal
                                                                                                                [(group
                                                                                                                  "Huge volatility"
                                                                                                                  [(weight-equal
                                                                                                                    [(if
                                                                                                                      (<
                                                                                                                       (cumulative-return
                                                                                                                        "TQQQ"
                                                                                                                        {:window
                                                                                                                         6})
                                                                                                                       -13)
                                                                                                                      [(weight-equal
                                                                                                                        [(if
                                                                                                                          (>
                                                                                                                           (cumulative-return
                                                                                                                            "TQQQ"
                                                                                                                            {:window
                                                                                                                             1})
                                                                                                                           6)
                                                                                                                          [(weight-equal
                                                                                                                            [(asset
                                                                                                                              "UVXY"
                                                                                                                              "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                                                          [(weight-equal
                                                                                                                            [(group
                                                                                                                              "Mean Rev"
                                                                                                                              [(weight-equal
                                                                                                                                [(if
                                                                                                                                  (<
                                                                                                                                   (rsi
                                                                                                                                    "TQQQ"
                                                                                                                                    {:window
                                                                                                                                     10})
                                                                                                                                   32)
                                                                                                                                  [(asset
                                                                                                                                    "TECL"
                                                                                                                                    "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                  [(weight-equal
                                                                                                                                    [(if
                                                                                                                                      (<
                                                                                                                                       (max-drawdown
                                                                                                                                        "TMF"
                                                                                                                                        {:window
                                                                                                                                         10})
                                                                                                                                       7)
                                                                                                                                      [(asset
                                                                                                                                        "TECL"
                                                                                                                                        "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                      [(weight-equal
                                                                                                                                        [(asset
                                                                                                                                          "BIL"
                                                                                                                                          "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])]
                                                                                                                      [(weight-equal
                                                                                                                        [(group
                                                                                                                          "Normal market"
                                                                                                                          [(weight-equal
                                                                                                                            [(if
                                                                                                                              (>
                                                                                                                               (max-drawdown
                                                                                                                                "QQQ"
                                                                                                                                {:window
                                                                                                                                 10})
                                                                                                                               6)
                                                                                                                              [(weight-equal
                                                                                                                                [(asset
                                                                                                                                  "BIL"
                                                                                                                                  "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                              [(weight-equal
                                                                                                                                [(if
                                                                                                                                  (>
                                                                                                                                   (max-drawdown
                                                                                                                                    "TMF"
                                                                                                                                    {:window
                                                                                                                                     10})
                                                                                                                                   7)
                                                                                                                                  [(weight-equal
                                                                                                                                    [(asset
                                                                                                                                      "BIL"
                                                                                                                                      "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                                  [(weight-equal
                                                                                                                                    [(if
                                                                                                                                      (>
                                                                                                                                       (current-price
                                                                                                                                        "QQQ")
                                                                                                                                       (moving-average-price
                                                                                                                                        "QQQ"
                                                                                                                                        {:window
                                                                                                                                         25}))
                                                                                                                                      [(weight-equal
                                                                                                                                        [(asset
                                                                                                                                          "TECL"
                                                                                                                                          "Direxion Daily Technology Bull 3x Shares")])]
                                                                                                                                      [(weight-equal
                                                                                                                                        [(if
                                                                                                                                          (>
                                                                                                                                           (rsi
                                                                                                                                            "SPY"
                                                                                                                                            {:window
                                                                                                                                             60})
                                                                                                                                           50)
                                                                                                                                          [(group
                                                                                                                                            "Bond > Stock"
                                                                                                                                            [(weight-equal
                                                                                                                                              [(if
                                                                                                                                                (>
                                                                                                                                                 (rsi
                                                                                                                                                  "BND"
                                                                                                                                                  {:window
                                                                                                                                                   45})
                                                                                                                                                 (rsi
                                                                                                                                                  "SPY"
                                                                                                                                                  {:window
                                                                                                                                                   45}))
                                                                                                                                                [(asset
                                                                                                                                                  "TECL"
                                                                                                                                                  "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                                [(weight-equal
                                                                                                                                                  [(asset
                                                                                                                                                    "BIL"
                                                                                                                                                    "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])]
                                                                                                                                          [(group
                                                                                                                                            "Bond Mid-term < Long-term"
                                                                                                                                            [(weight-equal
                                                                                                                                              [(if
                                                                                                                                                (<
                                                                                                                                                 (rsi
                                                                                                                                                  "IEF"
                                                                                                                                                  {:window
                                                                                                                                                   200})
                                                                                                                                                 (rsi
                                                                                                                                                  "TLT"
                                                                                                                                                  {:window
                                                                                                                                                   200}))
                                                                                                                                                [(weight-equal
                                                                                                                                                  [(if
                                                                                                                                                    (>
                                                                                                                                                     (rsi
                                                                                                                                                      "BND"
                                                                                                                                                      {:window
                                                                                                                                                       45})
                                                                                                                                                     (rsi
                                                                                                                                                      "SPY"
                                                                                                                                                      {:window
                                                                                                                                                       45}))
                                                                                                                                                    [(asset
                                                                                                                                                      "TECL"
                                                                                                                                                      "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                                    [(weight-equal
                                                                                                                                                      [(asset
                                                                                                                                                        "BIL"
                                                                                                                                                        "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])]
                                                                                                                                                [(weight-equal
                                                                                                                                                  [(asset
                                                                                                                                                    "BIL"
                                                                                                                                                    "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])])])])])])])])])])])])])])])])])])]
                                                                                              [(weight-equal
                                                                                                [(if
                                                                                                  (<
                                                                                                   (rsi
                                                                                                    "TQQQ"
                                                                                                    {:window
                                                                                                     10})
                                                                                                   31)
                                                                                                  [(weight-equal
                                                                                                    [(asset
                                                                                                      "SVXY"
                                                                                                      "ProShares Short VIX Short-Term Futures ETF")])]
                                                                                                  [(weight-equal
                                                                                                    [(group
                                                                                                      "TECL or Not"
                                                                                                      [(weight-equal
                                                                                                        [(if
                                                                                                          (>
                                                                                                           (rsi
                                                                                                            "TQQQ"
                                                                                                            {:window
                                                                                                             10})
                                                                                                           79)
                                                                                                          [(asset
                                                                                                            "UVXY"
                                                                                                            "ProShares Ultra VIX Short-Term Futures ETF")]
                                                                                                          [(weight-equal
                                                                                                            [(group
                                                                                                              "Huge volatility"
                                                                                                              [(weight-equal
                                                                                                                [(if
                                                                                                                  (<
                                                                                                                   (cumulative-return
                                                                                                                    "TQQQ"
                                                                                                                    {:window
                                                                                                                     6})
                                                                                                                   -13)
                                                                                                                  [(weight-equal
                                                                                                                    [(if
                                                                                                                      (>
                                                                                                                       (cumulative-return
                                                                                                                        "TQQQ"
                                                                                                                        {:window
                                                                                                                         1})
                                                                                                                       6)
                                                                                                                      [(weight-equal
                                                                                                                        [(asset
                                                                                                                          "UVXY"
                                                                                                                          "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                                                      [(weight-equal
                                                                                                                        [(group
                                                                                                                          "Mean Rev"
                                                                                                                          [(weight-equal
                                                                                                                            [(if
                                                                                                                              (<
                                                                                                                               (rsi
                                                                                                                                "TQQQ"
                                                                                                                                {:window
                                                                                                                                 10})
                                                                                                                               32)
                                                                                                                              [(asset
                                                                                                                                "TECL"
                                                                                                                                "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                              [(weight-equal
                                                                                                                                [(if
                                                                                                                                  (<
                                                                                                                                   (max-drawdown
                                                                                                                                    "TMF"
                                                                                                                                    {:window
                                                                                                                                     10})
                                                                                                                                   7)
                                                                                                                                  [(asset
                                                                                                                                    "TECL"
                                                                                                                                    "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                  [(weight-equal
                                                                                                                                    [(asset
                                                                                                                                      "BIL"
                                                                                                                                      "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])]
                                                                                                                  [(weight-equal
                                                                                                                    [(group
                                                                                                                      "Normal market"
                                                                                                                      [(weight-equal
                                                                                                                        [(if
                                                                                                                          (>
                                                                                                                           (max-drawdown
                                                                                                                            "QQQ"
                                                                                                                            {:window
                                                                                                                             10})
                                                                                                                           6)
                                                                                                                          [(weight-equal
                                                                                                                            [(asset
                                                                                                                              "BIL"
                                                                                                                              "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                          [(weight-equal
                                                                                                                            [(if
                                                                                                                              (>
                                                                                                                               (max-drawdown
                                                                                                                                "TMF"
                                                                                                                                {:window
                                                                                                                                 10})
                                                                                                                               7)
                                                                                                                              [(weight-equal
                                                                                                                                [(asset
                                                                                                                                  "BIL"
                                                                                                                                  "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                              [(weight-equal
                                                                                                                                [(if
                                                                                                                                  (>
                                                                                                                                   (current-price
                                                                                                                                    "QQQ")
                                                                                                                                   (moving-average-price
                                                                                                                                    "QQQ"
                                                                                                                                    {:window
                                                                                                                                     25}))
                                                                                                                                  [(weight-equal
                                                                                                                                    [(asset
                                                                                                                                      "TECL"
                                                                                                                                      "Direxion Daily Technology Bull 3x Shares")])]
                                                                                                                                  [(weight-equal
                                                                                                                                    [(if
                                                                                                                                      (>
                                                                                                                                       (rsi
                                                                                                                                        "SPY"
                                                                                                                                        {:window
                                                                                                                                         60})
                                                                                                                                       50)
                                                                                                                                      [(group
                                                                                                                                        "Bond > Stock"
                                                                                                                                        [(weight-equal
                                                                                                                                          [(if
                                                                                                                                            (>
                                                                                                                                             (rsi
                                                                                                                                              "BND"
                                                                                                                                              {:window
                                                                                                                                               45})
                                                                                                                                             (rsi
                                                                                                                                              "SPY"
                                                                                                                                              {:window
                                                                                                                                               45}))
                                                                                                                                            [(asset
                                                                                                                                              "TECL"
                                                                                                                                              "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                            [(weight-equal
                                                                                                                                              [(asset
                                                                                                                                                "BIL"
                                                                                                                                                "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])]
                                                                                                                                      [(group
                                                                                                                                        "Bond Mid-term < Long-term"
                                                                                                                                        [(weight-equal
                                                                                                                                          [(if
                                                                                                                                            (<
                                                                                                                                             (rsi
                                                                                                                                              "IEF"
                                                                                                                                              {:window
                                                                                                                                               200})
                                                                                                                                             (rsi
                                                                                                                                              "TLT"
                                                                                                                                              {:window
                                                                                                                                               200}))
                                                                                                                                            [(weight-equal
                                                                                                                                              [(if
                                                                                                                                                (>
                                                                                                                                                 (rsi
                                                                                                                                                  "BND"
                                                                                                                                                  {:window
                                                                                                                                                   45})
                                                                                                                                                 (rsi
                                                                                                                                                  "SPY"
                                                                                                                                                  {:window
                                                                                                                                                   45}))
                                                                                                                                                [(asset
                                                                                                                                                  "TECL"
                                                                                                                                                  "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                                [(weight-equal
                                                                                                                                                  [(asset
                                                                                                                                                    "BIL"
                                                                                                                                                    "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])]
                                                                                                                                            [(weight-equal
                                                                                                                                              [(asset
                                                                                                                                                "BIL"
                                                                                                                                                "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])]
                                                                      [(weight-equal
                                                                        [(group
                                                                          "VMS popped TECL or Not"
                                                                          [(weight-equal
                                                                            [(if
                                                                              (>
                                                                               (rsi
                                                                                "XLK"
                                                                                {:window
                                                                                 126})
                                                                               (rsi
                                                                                "XLP"
                                                                                {:window
                                                                                 126}))
                                                                              [(weight-equal
                                                                                [(group
                                                                                  "Bullish Market Conditions"
                                                                                  [(weight-equal
                                                                                    [(if
                                                                                      (>
                                                                                       (rsi
                                                                                        "TQQQ"
                                                                                        {:window
                                                                                         10})
                                                                                       80)
                                                                                      [(weight-equal
                                                                                        [(asset
                                                                                          "UVXY"
                                                                                          "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                      [(weight-equal
                                                                                        [(if
                                                                                          (<
                                                                                           (rsi
                                                                                            "TQQQ"
                                                                                            {:window
                                                                                             10})
                                                                                           31)
                                                                                          [(weight-equal
                                                                                            [(filter
                                                                                              (moving-average-return
                                                                                               {:window
                                                                                                5})
                                                                                              (select-bottom
                                                                                               1)
                                                                                              [(asset
                                                                                                "TECL"
                                                                                                "Direxion Daily Technology Bull 3x Shares")
                                                                                               (asset
                                                                                                "SOXL"
                                                                                                "Direxion Daily Semiconductor Bull 3x Shares")
                                                                                               (asset
                                                                                                "TMF"
                                                                                                "Direxion Daily 20+ Year Treasury Bull 3X Shares")])])]
                                                                                          [(weight-equal
                                                                                            [(if
                                                                                              (>
                                                                                               (rsi
                                                                                                "VIXY"
                                                                                                {:window
                                                                                                 10})
                                                                                               50)
                                                                                              [(weight-equal
                                                                                                [(if
                                                                                                  (<
                                                                                                   (moving-average-return
                                                                                                    "VIXY"
                                                                                                    {:window
                                                                                                     5})
                                                                                                   0)
                                                                                                  [(group
                                                                                                    "1st Block"
                                                                                                    [(weight-equal
                                                                                                      [(if
                                                                                                        (>
                                                                                                         (cumulative-return
                                                                                                          "TQQQ"
                                                                                                          {:window
                                                                                                           1})
                                                                                                         5.5)
                                                                                                        [(weight-equal
                                                                                                          [(asset
                                                                                                            "VIXM"
                                                                                                            "ProShares VIX Mid-Term Futures ETF")])]
                                                                                                        [(weight-equal
                                                                                                          [(group
                                                                                                            "TECL or Not"
                                                                                                            [(weight-equal
                                                                                                              [(if
                                                                                                                (>
                                                                                                                 (rsi
                                                                                                                  "TQQQ"
                                                                                                                  {:window
                                                                                                                   10})
                                                                                                                 79)
                                                                                                                [(asset
                                                                                                                  "UVXY"
                                                                                                                  "ProShares Ultra VIX Short-Term Futures ETF")]
                                                                                                                [(weight-equal
                                                                                                                  [(group
                                                                                                                    "Huge volatility"
                                                                                                                    [(weight-equal
                                                                                                                      [(if
                                                                                                                        (<
                                                                                                                         (cumulative-return
                                                                                                                          "TQQQ"
                                                                                                                          {:window
                                                                                                                           6})
                                                                                                                         -13)
                                                                                                                        [(weight-equal
                                                                                                                          [(if
                                                                                                                            (>
                                                                                                                             (cumulative-return
                                                                                                                              "TQQQ"
                                                                                                                              {:window
                                                                                                                               1})
                                                                                                                             6)
                                                                                                                            [(weight-equal
                                                                                                                              [(asset
                                                                                                                                "UVXY"
                                                                                                                                "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                                                            [(weight-equal
                                                                                                                              [(group
                                                                                                                                "Mean Rev"
                                                                                                                                [(weight-equal
                                                                                                                                  [(if
                                                                                                                                    (<
                                                                                                                                     (rsi
                                                                                                                                      "TQQQ"
                                                                                                                                      {:window
                                                                                                                                       10})
                                                                                                                                     32)
                                                                                                                                    [(asset
                                                                                                                                      "TECL"
                                                                                                                                      "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                    [(weight-equal
                                                                                                                                      [(if
                                                                                                                                        (<
                                                                                                                                         (max-drawdown
                                                                                                                                          "TMF"
                                                                                                                                          {:window
                                                                                                                                           10})
                                                                                                                                         7)
                                                                                                                                        [(asset
                                                                                                                                          "TECL"
                                                                                                                                          "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                        [(weight-equal
                                                                                                                                          [(asset
                                                                                                                                            "BIL"
                                                                                                                                            "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])]
                                                                                                                        [(weight-equal
                                                                                                                          [(group
                                                                                                                            "Normal market"
                                                                                                                            [(weight-equal
                                                                                                                              [(if
                                                                                                                                (>
                                                                                                                                 (max-drawdown
                                                                                                                                  "QQQ"
                                                                                                                                  {:window
                                                                                                                                   10})
                                                                                                                                 6)
                                                                                                                                [(weight-equal
                                                                                                                                  [(asset
                                                                                                                                    "BIL"
                                                                                                                                    "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                                [(weight-equal
                                                                                                                                  [(if
                                                                                                                                    (>
                                                                                                                                     (max-drawdown
                                                                                                                                      "TMF"
                                                                                                                                      {:window
                                                                                                                                       10})
                                                                                                                                     7)
                                                                                                                                    [(weight-equal
                                                                                                                                      [(asset
                                                                                                                                        "BIL"
                                                                                                                                        "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                                    [(weight-equal
                                                                                                                                      [(if
                                                                                                                                        (>
                                                                                                                                         (current-price
                                                                                                                                          "QQQ")
                                                                                                                                         (moving-average-price
                                                                                                                                          "QQQ"
                                                                                                                                          {:window
                                                                                                                                           25}))
                                                                                                                                        [(weight-equal
                                                                                                                                          [(asset
                                                                                                                                            "TECL"
                                                                                                                                            "Direxion Daily Technology Bull 3x Shares")])]
                                                                                                                                        [(weight-equal
                                                                                                                                          [(if
                                                                                                                                            (>
                                                                                                                                             (rsi
                                                                                                                                              "SPY"
                                                                                                                                              {:window
                                                                                                                                               60})
                                                                                                                                             50)
                                                                                                                                            [(group
                                                                                                                                              "Bond > Stock"
                                                                                                                                              [(weight-equal
                                                                                                                                                [(if
                                                                                                                                                  (>
                                                                                                                                                   (rsi
                                                                                                                                                    "BND"
                                                                                                                                                    {:window
                                                                                                                                                     45})
                                                                                                                                                   (rsi
                                                                                                                                                    "SPY"
                                                                                                                                                    {:window
                                                                                                                                                     45}))
                                                                                                                                                  [(asset
                                                                                                                                                    "TECL"
                                                                                                                                                    "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                                  [(weight-equal
                                                                                                                                                    [(asset
                                                                                                                                                      "BIL"
                                                                                                                                                      "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])]
                                                                                                                                            [(group
                                                                                                                                              "Bond Mid-term < Long-term"
                                                                                                                                              [(weight-equal
                                                                                                                                                [(if
                                                                                                                                                  (<
                                                                                                                                                   (rsi
                                                                                                                                                    "IEF"
                                                                                                                                                    {:window
                                                                                                                                                     200})
                                                                                                                                                   (rsi
                                                                                                                                                    "TLT"
                                                                                                                                                    {:window
                                                                                                                                                     200}))
                                                                                                                                                  [(weight-equal
                                                                                                                                                    [(if
                                                                                                                                                      (>
                                                                                                                                                       (rsi
                                                                                                                                                        "BND"
                                                                                                                                                        {:window
                                                                                                                                                         45})
                                                                                                                                                       (rsi
                                                                                                                                                        "SPY"
                                                                                                                                                        {:window
                                                                                                                                                         45}))
                                                                                                                                                      [(asset
                                                                                                                                                        "TECL"
                                                                                                                                                        "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                                      [(weight-equal
                                                                                                                                                        [(asset
                                                                                                                                                          "BIL"
                                                                                                                                                          "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])]
                                                                                                                                                  [(weight-equal
                                                                                                                                                    [(asset
                                                                                                                                                      "BIL"
                                                                                                                                                      "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])])])])])])])])])])])])])])])])])]
                                                                                                  [(group
                                                                                                    "2nd Block"
                                                                                                    [(weight-equal
                                                                                                      [(if
                                                                                                        (>
                                                                                                         (cumulative-return
                                                                                                          "TQQQ"
                                                                                                          {:window
                                                                                                           1})
                                                                                                         5.5)
                                                                                                        [(weight-equal
                                                                                                          [(filter
                                                                                                            (exponential-moving-average-price
                                                                                                             {:window
                                                                                                              5})
                                                                                                            (select-bottom
                                                                                                             1)
                                                                                                            [(asset
                                                                                                              "UVXY"
                                                                                                              "ProShares Ultra VIX Short-Term Futures ETF")
                                                                                                             (asset
                                                                                                              "TECS"
                                                                                                              "Direxion Daily Technology Bear 3X Shares")])])]
                                                                                                        [(weight-equal
                                                                                                          [(group
                                                                                                            "TECL or Not"
                                                                                                            [(weight-equal
                                                                                                              [(if
                                                                                                                (>
                                                                                                                 (rsi
                                                                                                                  "TQQQ"
                                                                                                                  {:window
                                                                                                                   10})
                                                                                                                 79)
                                                                                                                [(asset
                                                                                                                  "UVXY"
                                                                                                                  "ProShares Ultra VIX Short-Term Futures ETF")]
                                                                                                                [(weight-equal
                                                                                                                  [(group
                                                                                                                    "Huge volatility"
                                                                                                                    [(weight-equal
                                                                                                                      [(if
                                                                                                                        (<
                                                                                                                         (cumulative-return
                                                                                                                          "TQQQ"
                                                                                                                          {:window
                                                                                                                           6})
                                                                                                                         -13)
                                                                                                                        [(weight-equal
                                                                                                                          [(if
                                                                                                                            (>
                                                                                                                             (cumulative-return
                                                                                                                              "TQQQ"
                                                                                                                              {:window
                                                                                                                               1})
                                                                                                                             6)
                                                                                                                            [(weight-equal
                                                                                                                              [(asset
                                                                                                                                "UVXY"
                                                                                                                                "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                                                            [(weight-equal
                                                                                                                              [(group
                                                                                                                                "Mean Rev"
                                                                                                                                [(weight-equal
                                                                                                                                  [(if
                                                                                                                                    (<
                                                                                                                                     (rsi
                                                                                                                                      "TQQQ"
                                                                                                                                      {:window
                                                                                                                                       10})
                                                                                                                                     32)
                                                                                                                                    [(asset
                                                                                                                                      "TECL"
                                                                                                                                      "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                    [(weight-equal
                                                                                                                                      [(if
                                                                                                                                        (<
                                                                                                                                         (max-drawdown
                                                                                                                                          "TMF"
                                                                                                                                          {:window
                                                                                                                                           10})
                                                                                                                                         7)
                                                                                                                                        [(asset
                                                                                                                                          "TECL"
                                                                                                                                          "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                        [(weight-equal
                                                                                                                                          [(asset
                                                                                                                                            "BIL"
                                                                                                                                            "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])]
                                                                                                                        [(weight-equal
                                                                                                                          [(group
                                                                                                                            "Normal market"
                                                                                                                            [(weight-equal
                                                                                                                              [(if
                                                                                                                                (>
                                                                                                                                 (max-drawdown
                                                                                                                                  "QQQ"
                                                                                                                                  {:window
                                                                                                                                   10})
                                                                                                                                 6)
                                                                                                                                [(weight-equal
                                                                                                                                  [(asset
                                                                                                                                    "BIL"
                                                                                                                                    "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                                [(weight-equal
                                                                                                                                  [(if
                                                                                                                                    (>
                                                                                                                                     (max-drawdown
                                                                                                                                      "TMF"
                                                                                                                                      {:window
                                                                                                                                       10})
                                                                                                                                     7)
                                                                                                                                    [(weight-equal
                                                                                                                                      [(asset
                                                                                                                                        "BIL"
                                                                                                                                        "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                                    [(weight-equal
                                                                                                                                      [(if
                                                                                                                                        (>
                                                                                                                                         (current-price
                                                                                                                                          "QQQ")
                                                                                                                                         (moving-average-price
                                                                                                                                          "QQQ"
                                                                                                                                          {:window
                                                                                                                                           25}))
                                                                                                                                        [(weight-equal
                                                                                                                                          [(asset
                                                                                                                                            "TECL"
                                                                                                                                            "Direxion Daily Technology Bull 3x Shares")])]
                                                                                                                                        [(weight-equal
                                                                                                                                          [(if
                                                                                                                                            (>
                                                                                                                                             (rsi
                                                                                                                                              "SPY"
                                                                                                                                              {:window
                                                                                                                                               60})
                                                                                                                                             50)
                                                                                                                                            [(group
                                                                                                                                              "Bond > Stock"
                                                                                                                                              [(weight-equal
                                                                                                                                                [(if
                                                                                                                                                  (>
                                                                                                                                                   (rsi
                                                                                                                                                    "BND"
                                                                                                                                                    {:window
                                                                                                                                                     45})
                                                                                                                                                   (rsi
                                                                                                                                                    "SPY"
                                                                                                                                                    {:window
                                                                                                                                                     45}))
                                                                                                                                                  [(asset
                                                                                                                                                    "TECL"
                                                                                                                                                    "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                                  [(weight-equal
                                                                                                                                                    [(asset
                                                                                                                                                      "BIL"
                                                                                                                                                      "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])]
                                                                                                                                            [(group
                                                                                                                                              "Bond Mid-term < Long-term"
                                                                                                                                              [(weight-equal
                                                                                                                                                [(if
                                                                                                                                                  (<
                                                                                                                                                   (rsi
                                                                                                                                                    "IEF"
                                                                                                                                                    {:window
                                                                                                                                                     200})
                                                                                                                                                   (rsi
                                                                                                                                                    "TLT"
                                                                                                                                                    {:window
                                                                                                                                                     200}))
                                                                                                                                                  [(weight-equal
                                                                                                                                                    [(if
                                                                                                                                                      (>
                                                                                                                                                       (rsi
                                                                                                                                                        "BND"
                                                                                                                                                        {:window
                                                                                                                                                         45})
                                                                                                                                                       (rsi
                                                                                                                                                        "SPY"
                                                                                                                                                        {:window
                                                                                                                                                         45}))
                                                                                                                                                      [(asset
                                                                                                                                                        "TECL"
                                                                                                                                                        "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                                      [(weight-equal
                                                                                                                                                        [(asset
                                                                                                                                                          "BIL"
                                                                                                                                                          "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])]
                                                                                                                                                  [(weight-equal
                                                                                                                                                    [(asset
                                                                                                                                                      "BIL"
                                                                                                                                                      "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])])])])])])])])])])])])])])])])])])])]
                                                                                              [(weight-equal
                                                                                                [(if
                                                                                                  (<
                                                                                                   (moving-average-return
                                                                                                    "VIXY"
                                                                                                    {:window
                                                                                                     5})
                                                                                                   0)
                                                                                                  [(group
                                                                                                    "3rd Block"
                                                                                                    [(weight-equal
                                                                                                      [(if
                                                                                                        (>
                                                                                                         (cumulative-return
                                                                                                          "TQQQ"
                                                                                                          {:window
                                                                                                           1})
                                                                                                         5.5)
                                                                                                        [(weight-equal
                                                                                                          [(filter
                                                                                                            (exponential-moving-average-price
                                                                                                             {:window
                                                                                                              5})
                                                                                                            (select-bottom
                                                                                                             1)
                                                                                                            [(asset
                                                                                                              "VIXM"
                                                                                                              "ProShares VIX Mid-Term Futures ETF")
                                                                                                             (asset
                                                                                                              "TECS"
                                                                                                              "Direxion Daily Technology Bear 3X Shares")])])]
                                                                                                        [(weight-equal
                                                                                                          [(group
                                                                                                            "TECL or Not"
                                                                                                            [(weight-equal
                                                                                                              [(if
                                                                                                                (>
                                                                                                                 (rsi
                                                                                                                  "TQQQ"
                                                                                                                  {:window
                                                                                                                   10})
                                                                                                                 79)
                                                                                                                [(asset
                                                                                                                  "UVXY"
                                                                                                                  "ProShares Ultra VIX Short-Term Futures ETF")]
                                                                                                                [(weight-equal
                                                                                                                  [(group
                                                                                                                    "Huge volatility"
                                                                                                                    [(weight-equal
                                                                                                                      [(if
                                                                                                                        (<
                                                                                                                         (cumulative-return
                                                                                                                          "TQQQ"
                                                                                                                          {:window
                                                                                                                           6})
                                                                                                                         -13)
                                                                                                                        [(weight-equal
                                                                                                                          [(if
                                                                                                                            (>
                                                                                                                             (cumulative-return
                                                                                                                              "TQQQ"
                                                                                                                              {:window
                                                                                                                               1})
                                                                                                                             6)
                                                                                                                            [(weight-equal
                                                                                                                              [(asset
                                                                                                                                "UVXY"
                                                                                                                                "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                                                            [(weight-equal
                                                                                                                              [(group
                                                                                                                                "Mean Rev"
                                                                                                                                [(weight-equal
                                                                                                                                  [(if
                                                                                                                                    (<
                                                                                                                                     (rsi
                                                                                                                                      "TQQQ"
                                                                                                                                      {:window
                                                                                                                                       10})
                                                                                                                                     32)
                                                                                                                                    [(asset
                                                                                                                                      "TECL"
                                                                                                                                      "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                    [(weight-equal
                                                                                                                                      [(if
                                                                                                                                        (<
                                                                                                                                         (max-drawdown
                                                                                                                                          "TMF"
                                                                                                                                          {:window
                                                                                                                                           10})
                                                                                                                                         7)
                                                                                                                                        [(asset
                                                                                                                                          "TECL"
                                                                                                                                          "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                        [(weight-equal
                                                                                                                                          [(asset
                                                                                                                                            "BIL"
                                                                                                                                            "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])]
                                                                                                                        [(weight-equal
                                                                                                                          [(group
                                                                                                                            "Normal market"
                                                                                                                            [(weight-equal
                                                                                                                              [(if
                                                                                                                                (>
                                                                                                                                 (max-drawdown
                                                                                                                                  "QQQ"
                                                                                                                                  {:window
                                                                                                                                   10})
                                                                                                                                 6)
                                                                                                                                [(weight-equal
                                                                                                                                  [(asset
                                                                                                                                    "BIL"
                                                                                                                                    "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                                [(weight-equal
                                                                                                                                  [(if
                                                                                                                                    (>
                                                                                                                                     (max-drawdown
                                                                                                                                      "TMF"
                                                                                                                                      {:window
                                                                                                                                       10})
                                                                                                                                     7)
                                                                                                                                    [(weight-equal
                                                                                                                                      [(asset
                                                                                                                                        "BIL"
                                                                                                                                        "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                                    [(weight-equal
                                                                                                                                      [(if
                                                                                                                                        (>
                                                                                                                                         (current-price
                                                                                                                                          "QQQ")
                                                                                                                                         (moving-average-price
                                                                                                                                          "QQQ"
                                                                                                                                          {:window
                                                                                                                                           25}))
                                                                                                                                        [(weight-equal
                                                                                                                                          [(asset
                                                                                                                                            "TECL"
                                                                                                                                            "Direxion Daily Technology Bull 3x Shares")])]
                                                                                                                                        [(weight-equal
                                                                                                                                          [(if
                                                                                                                                            (>
                                                                                                                                             (rsi
                                                                                                                                              "SPY"
                                                                                                                                              {:window
                                                                                                                                               60})
                                                                                                                                             50)
                                                                                                                                            [(group
                                                                                                                                              "Bond > Stock"
                                                                                                                                              [(weight-equal
                                                                                                                                                [(if
                                                                                                                                                  (>
                                                                                                                                                   (rsi
                                                                                                                                                    "BND"
                                                                                                                                                    {:window
                                                                                                                                                     45})
                                                                                                                                                   (rsi
                                                                                                                                                    "SPY"
                                                                                                                                                    {:window
                                                                                                                                                     45}))
                                                                                                                                                  [(asset
                                                                                                                                                    "TECL"
                                                                                                                                                    "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                                  [(weight-equal
                                                                                                                                                    [(asset
                                                                                                                                                      "BIL"
                                                                                                                                                      "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])]
                                                                                                                                            [(group
                                                                                                                                              "Bond Mid-term < Long-term"
                                                                                                                                              [(weight-equal
                                                                                                                                                [(if
                                                                                                                                                  (<
                                                                                                                                                   (rsi
                                                                                                                                                    "IEF"
                                                                                                                                                    {:window
                                                                                                                                                     200})
                                                                                                                                                   (rsi
                                                                                                                                                    "TLT"
                                                                                                                                                    {:window
                                                                                                                                                     200}))
                                                                                                                                                  [(weight-equal
                                                                                                                                                    [(if
                                                                                                                                                      (>
                                                                                                                                                       (rsi
                                                                                                                                                        "BND"
                                                                                                                                                        {:window
                                                                                                                                                         45})
                                                                                                                                                       (rsi
                                                                                                                                                        "SPY"
                                                                                                                                                        {:window
                                                                                                                                                         45}))
                                                                                                                                                      [(asset
                                                                                                                                                        "TECL"
                                                                                                                                                        "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                                      [(weight-equal
                                                                                                                                                        [(asset
                                                                                                                                                          "BIL"
                                                                                                                                                          "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])]
                                                                                                                                                  [(weight-equal
                                                                                                                                                    [(asset
                                                                                                                                                      "BIL"
                                                                                                                                                      "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])])])])])])])])])])])])])])])])])]
                                                                                                  [(group
                                                                                                    "4th Block"
                                                                                                    [(weight-equal
                                                                                                      [(if
                                                                                                        (>
                                                                                                         (cumulative-return
                                                                                                          "TQQQ"
                                                                                                          {:window
                                                                                                           1})
                                                                                                         5.5)
                                                                                                        [(weight-equal
                                                                                                          [(filter
                                                                                                            (exponential-moving-average-price
                                                                                                             {:window
                                                                                                              5})
                                                                                                            (select-top
                                                                                                             1)
                                                                                                            [(asset
                                                                                                              "UVXY"
                                                                                                              "ProShares Ultra VIX Short-Term Futures ETF")
                                                                                                             (asset
                                                                                                              "TECS"
                                                                                                              "Direxion Daily Technology Bear 3X Shares")])])]
                                                                                                        [(weight-equal
                                                                                                          [(group
                                                                                                            "TECL or Not"
                                                                                                            [(weight-equal
                                                                                                              [(if
                                                                                                                (>
                                                                                                                 (rsi
                                                                                                                  "TQQQ"
                                                                                                                  {:window
                                                                                                                   10})
                                                                                                                 79)
                                                                                                                [(asset
                                                                                                                  "UVXY"
                                                                                                                  "ProShares Ultra VIX Short-Term Futures ETF")]
                                                                                                                [(weight-equal
                                                                                                                  [(group
                                                                                                                    "Huge volatility"
                                                                                                                    [(weight-equal
                                                                                                                      [(if
                                                                                                                        (<
                                                                                                                         (cumulative-return
                                                                                                                          "TQQQ"
                                                                                                                          {:window
                                                                                                                           6})
                                                                                                                         -13)
                                                                                                                        [(weight-equal
                                                                                                                          [(if
                                                                                                                            (>
                                                                                                                             (cumulative-return
                                                                                                                              "TQQQ"
                                                                                                                              {:window
                                                                                                                               1})
                                                                                                                             6)
                                                                                                                            [(weight-equal
                                                                                                                              [(asset
                                                                                                                                "UVXY"
                                                                                                                                "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                                                            [(weight-equal
                                                                                                                              [(group
                                                                                                                                "Mean Rev"
                                                                                                                                [(weight-equal
                                                                                                                                  [(if
                                                                                                                                    (<
                                                                                                                                     (rsi
                                                                                                                                      "TQQQ"
                                                                                                                                      {:window
                                                                                                                                       10})
                                                                                                                                     32)
                                                                                                                                    [(asset
                                                                                                                                      "TECL"
                                                                                                                                      "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                    [(weight-equal
                                                                                                                                      [(if
                                                                                                                                        (<
                                                                                                                                         (max-drawdown
                                                                                                                                          "TMF"
                                                                                                                                          {:window
                                                                                                                                           10})
                                                                                                                                         7)
                                                                                                                                        [(asset
                                                                                                                                          "TECL"
                                                                                                                                          "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                        [(weight-equal
                                                                                                                                          [(asset
                                                                                                                                            "BIL"
                                                                                                                                            "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])]
                                                                                                                        [(weight-equal
                                                                                                                          [(group
                                                                                                                            "Normal market"
                                                                                                                            [(weight-equal
                                                                                                                              [(if
                                                                                                                                (>
                                                                                                                                 (max-drawdown
                                                                                                                                  "QQQ"
                                                                                                                                  {:window
                                                                                                                                   10})
                                                                                                                                 6)
                                                                                                                                [(weight-equal
                                                                                                                                  [(asset
                                                                                                                                    "BIL"
                                                                                                                                    "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                                [(weight-equal
                                                                                                                                  [(if
                                                                                                                                    (>
                                                                                                                                     (max-drawdown
                                                                                                                                      "TMF"
                                                                                                                                      {:window
                                                                                                                                       10})
                                                                                                                                     7)
                                                                                                                                    [(weight-equal
                                                                                                                                      [(asset
                                                                                                                                        "BIL"
                                                                                                                                        "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                                    [(weight-equal
                                                                                                                                      [(if
                                                                                                                                        (>
                                                                                                                                         (current-price
                                                                                                                                          "QQQ")
                                                                                                                                         (moving-average-price
                                                                                                                                          "QQQ"
                                                                                                                                          {:window
                                                                                                                                           25}))
                                                                                                                                        [(weight-equal
                                                                                                                                          [(asset
                                                                                                                                            "TECL"
                                                                                                                                            "Direxion Daily Technology Bull 3x Shares")])]
                                                                                                                                        [(weight-equal
                                                                                                                                          [(if
                                                                                                                                            (>
                                                                                                                                             (rsi
                                                                                                                                              "SPY"
                                                                                                                                              {:window
                                                                                                                                               60})
                                                                                                                                             50)
                                                                                                                                            [(group
                                                                                                                                              "Bond > Stock"
                                                                                                                                              [(weight-equal
                                                                                                                                                [(if
                                                                                                                                                  (>
                                                                                                                                                   (rsi
                                                                                                                                                    "BND"
                                                                                                                                                    {:window
                                                                                                                                                     45})
                                                                                                                                                   (rsi
                                                                                                                                                    "SPY"
                                                                                                                                                    {:window
                                                                                                                                                     45}))
                                                                                                                                                  [(asset
                                                                                                                                                    "TECL"
                                                                                                                                                    "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                                  [(weight-equal
                                                                                                                                                    [(asset
                                                                                                                                                      "BIL"
                                                                                                                                                      "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])]
                                                                                                                                            [(group
                                                                                                                                              "Bond Mid-term < Long-term"
                                                                                                                                              [(weight-equal
                                                                                                                                                [(if
                                                                                                                                                  (<
                                                                                                                                                   (rsi
                                                                                                                                                    "IEF"
                                                                                                                                                    {:window
                                                                                                                                                     200})
                                                                                                                                                   (rsi
                                                                                                                                                    "TLT"
                                                                                                                                                    {:window
                                                                                                                                                     200}))
                                                                                                                                                  [(weight-equal
                                                                                                                                                    [(if
                                                                                                                                                      (>
                                                                                                                                                       (rsi
                                                                                                                                                        "BND"
                                                                                                                                                        {:window
                                                                                                                                                         45})
                                                                                                                                                       (rsi
                                                                                                                                                        "SPY"
                                                                                                                                                        {:window
                                                                                                                                                         45}))
                                                                                                                                                      [(asset
                                                                                                                                                        "TECL"
                                                                                                                                                        "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                                      [(weight-equal
                                                                                                                                                        [(asset
                                                                                                                                                          "BIL"
                                                                                                                                                          "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])]
                                                                                                                                                  [(weight-equal
                                                                                                                                                    [(asset
                                                                                                                                                      "BIL"
                                                                                                                                                      "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])]
                                                                              [(weight-equal
                                                                                [(group
                                                                                  "Danger Market Conditions"
                                                                                  [(weight-equal
                                                                                    [(if
                                                                                      (>
                                                                                       (rsi
                                                                                        "TQQQ"
                                                                                        {:window
                                                                                         10})
                                                                                       80)
                                                                                      [(weight-equal
                                                                                        [(filter
                                                                                          (cumulative-return
                                                                                           {:window
                                                                                            5})
                                                                                          (select-bottom
                                                                                           1)
                                                                                          [(asset
                                                                                            "TMV"
                                                                                            "Direxion Daily 20+ Year Treasury Bear 3x Shares")
                                                                                           (asset
                                                                                            "UGL"
                                                                                            "ProShares Ultra Gold")])])]
                                                                                      [(weight-equal
                                                                                        [(if
                                                                                          (>
                                                                                           (rsi
                                                                                            "VIXY"
                                                                                            {:window
                                                                                             10})
                                                                                           50)
                                                                                          [(weight-equal
                                                                                            [(if
                                                                                              (<
                                                                                               (rsi
                                                                                                "TQQQ"
                                                                                                {:window
                                                                                                 10})
                                                                                               31)
                                                                                              [(weight-equal
                                                                                                [(filter
                                                                                                  (stdev-price
                                                                                                   {:window
                                                                                                    5})
                                                                                                  (select-bottom
                                                                                                   1)
                                                                                                  [(asset
                                                                                                    "SVXY"
                                                                                                    "ProShares Short VIX Short-Term Futures ETF")
                                                                                                   (asset
                                                                                                    "SOXL"
                                                                                                    "Direxion Daily Semiconductor Bull 3x Shares")
                                                                                                   (asset
                                                                                                    "ERX"
                                                                                                    "Direxion Daily Energy Bull 2x Shares")
                                                                                                   (asset
                                                                                                    "TMV"
                                                                                                    "Direxion Daily 20+ Year Treasury Bear 3x Shares")])])]
                                                                                              [(weight-equal
                                                                                                [(if
                                                                                                  (<
                                                                                                   (moving-average-return
                                                                                                    "VIXY"
                                                                                                    {:window
                                                                                                     5})
                                                                                                   0)
                                                                                                  [(weight-equal
                                                                                                    [(asset
                                                                                                      "SVXY"
                                                                                                      "ProShares Short VIX Short-Term Futures ETF")])]
                                                                                                  [(weight-equal
                                                                                                    [(group
                                                                                                      "TECL or Not"
                                                                                                      [(weight-equal
                                                                                                        [(if
                                                                                                          (>
                                                                                                           (rsi
                                                                                                            "TQQQ"
                                                                                                            {:window
                                                                                                             10})
                                                                                                           79)
                                                                                                          [(asset
                                                                                                            "UVXY"
                                                                                                            "ProShares Ultra VIX Short-Term Futures ETF")]
                                                                                                          [(weight-equal
                                                                                                            [(group
                                                                                                              "Huge volatility"
                                                                                                              [(weight-equal
                                                                                                                [(if
                                                                                                                  (<
                                                                                                                   (cumulative-return
                                                                                                                    "TQQQ"
                                                                                                                    {:window
                                                                                                                     6})
                                                                                                                   -13)
                                                                                                                  [(weight-equal
                                                                                                                    [(if
                                                                                                                      (>
                                                                                                                       (cumulative-return
                                                                                                                        "TQQQ"
                                                                                                                        {:window
                                                                                                                         1})
                                                                                                                       6)
                                                                                                                      [(weight-equal
                                                                                                                        [(asset
                                                                                                                          "UVXY"
                                                                                                                          "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                                                      [(weight-equal
                                                                                                                        [(group
                                                                                                                          "Mean Rev"
                                                                                                                          [(weight-equal
                                                                                                                            [(if
                                                                                                                              (<
                                                                                                                               (rsi
                                                                                                                                "TQQQ"
                                                                                                                                {:window
                                                                                                                                 10})
                                                                                                                               32)
                                                                                                                              [(asset
                                                                                                                                "TECL"
                                                                                                                                "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                              [(weight-equal
                                                                                                                                [(if
                                                                                                                                  (<
                                                                                                                                   (max-drawdown
                                                                                                                                    "TMF"
                                                                                                                                    {:window
                                                                                                                                     10})
                                                                                                                                   7)
                                                                                                                                  [(asset
                                                                                                                                    "TECL"
                                                                                                                                    "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                  [(weight-equal
                                                                                                                                    [(asset
                                                                                                                                      "BIL"
                                                                                                                                      "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])]
                                                                                                                  [(weight-equal
                                                                                                                    [(group
                                                                                                                      "Normal market"
                                                                                                                      [(weight-equal
                                                                                                                        [(if
                                                                                                                          (>
                                                                                                                           (max-drawdown
                                                                                                                            "QQQ"
                                                                                                                            {:window
                                                                                                                             10})
                                                                                                                           6)
                                                                                                                          [(weight-equal
                                                                                                                            [(asset
                                                                                                                              "BIL"
                                                                                                                              "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                          [(weight-equal
                                                                                                                            [(if
                                                                                                                              (>
                                                                                                                               (max-drawdown
                                                                                                                                "TMF"
                                                                                                                                {:window
                                                                                                                                 10})
                                                                                                                               7)
                                                                                                                              [(weight-equal
                                                                                                                                [(asset
                                                                                                                                  "BIL"
                                                                                                                                  "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                              [(weight-equal
                                                                                                                                [(if
                                                                                                                                  (>
                                                                                                                                   (current-price
                                                                                                                                    "QQQ")
                                                                                                                                   (moving-average-price
                                                                                                                                    "QQQ"
                                                                                                                                    {:window
                                                                                                                                     25}))
                                                                                                                                  [(weight-equal
                                                                                                                                    [(asset
                                                                                                                                      "TECL"
                                                                                                                                      "Direxion Daily Technology Bull 3x Shares")])]
                                                                                                                                  [(weight-equal
                                                                                                                                    [(if
                                                                                                                                      (>
                                                                                                                                       (rsi
                                                                                                                                        "SPY"
                                                                                                                                        {:window
                                                                                                                                         60})
                                                                                                                                       50)
                                                                                                                                      [(group
                                                                                                                                        "Bond > Stock"
                                                                                                                                        [(weight-equal
                                                                                                                                          [(if
                                                                                                                                            (>
                                                                                                                                             (rsi
                                                                                                                                              "BND"
                                                                                                                                              {:window
                                                                                                                                               45})
                                                                                                                                             (rsi
                                                                                                                                              "SPY"
                                                                                                                                              {:window
                                                                                                                                               45}))
                                                                                                                                            [(asset
                                                                                                                                              "TECL"
                                                                                                                                              "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                            [(weight-equal
                                                                                                                                              [(asset
                                                                                                                                                "BIL"
                                                                                                                                                "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])]
                                                                                                                                      [(group
                                                                                                                                        "Bond Mid-term < Long-term"
                                                                                                                                        [(weight-equal
                                                                                                                                          [(if
                                                                                                                                            (<
                                                                                                                                             (rsi
                                                                                                                                              "IEF"
                                                                                                                                              {:window
                                                                                                                                               200})
                                                                                                                                             (rsi
                                                                                                                                              "TLT"
                                                                                                                                              {:window
                                                                                                                                               200}))
                                                                                                                                            [(weight-equal
                                                                                                                                              [(if
                                                                                                                                                (>
                                                                                                                                                 (rsi
                                                                                                                                                  "BND"
                                                                                                                                                  {:window
                                                                                                                                                   45})
                                                                                                                                                 (rsi
                                                                                                                                                  "SPY"
                                                                                                                                                  {:window
                                                                                                                                                   45}))
                                                                                                                                                [(asset
                                                                                                                                                  "TECL"
                                                                                                                                                  "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                                [(weight-equal
                                                                                                                                                  [(asset
                                                                                                                                                    "BIL"
                                                                                                                                                    "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])]
                                                                                                                                            [(weight-equal
                                                                                                                                              [(asset
                                                                                                                                                "BIL"
                                                                                                                                                "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])])])])])])])])])])])])])])])])])])]
                                                                                          [(weight-equal
                                                                                            [(if
                                                                                              (<
                                                                                               (rsi
                                                                                                "TQQQ"
                                                                                                {:window
                                                                                                 10})
                                                                                               31)
                                                                                              [(weight-equal
                                                                                                [(asset
                                                                                                  "SVXY"
                                                                                                  "ProShares Short VIX Short-Term Futures ETF")])]
                                                                                              [(weight-equal
                                                                                                [(group
                                                                                                  "TECL or Not"
                                                                                                  [(weight-equal
                                                                                                    [(if
                                                                                                      (>
                                                                                                       (rsi
                                                                                                        "TQQQ"
                                                                                                        {:window
                                                                                                         10})
                                                                                                       79)
                                                                                                      [(asset
                                                                                                        "UVXY"
                                                                                                        "ProShares Ultra VIX Short-Term Futures ETF")]
                                                                                                      [(weight-equal
                                                                                                        [(group
                                                                                                          "Huge volatility"
                                                                                                          [(weight-equal
                                                                                                            [(if
                                                                                                              (<
                                                                                                               (cumulative-return
                                                                                                                "TQQQ"
                                                                                                                {:window
                                                                                                                 6})
                                                                                                               -13)
                                                                                                              [(weight-equal
                                                                                                                [(if
                                                                                                                  (>
                                                                                                                   (cumulative-return
                                                                                                                    "TQQQ"
                                                                                                                    {:window
                                                                                                                     1})
                                                                                                                   6)
                                                                                                                  [(weight-equal
                                                                                                                    [(asset
                                                                                                                      "UVXY"
                                                                                                                      "ProShares Ultra VIX Short-Term Futures ETF")])]
                                                                                                                  [(weight-equal
                                                                                                                    [(group
                                                                                                                      "Mean Rev"
                                                                                                                      [(weight-equal
                                                                                                                        [(if
                                                                                                                          (<
                                                                                                                           (rsi
                                                                                                                            "TQQQ"
                                                                                                                            {:window
                                                                                                                             10})
                                                                                                                           32)
                                                                                                                          [(asset
                                                                                                                            "TECL"
                                                                                                                            "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                          [(weight-equal
                                                                                                                            [(if
                                                                                                                              (<
                                                                                                                               (max-drawdown
                                                                                                                                "TMF"
                                                                                                                                {:window
                                                                                                                                 10})
                                                                                                                               7)
                                                                                                                              [(asset
                                                                                                                                "TECL"
                                                                                                                                "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                              [(weight-equal
                                                                                                                                [(asset
                                                                                                                                  "BIL"
                                                                                                                                  "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])]
                                                                                                              [(weight-equal
                                                                                                                [(group
                                                                                                                  "Normal market"
                                                                                                                  [(weight-equal
                                                                                                                    [(if
                                                                                                                      (>
                                                                                                                       (max-drawdown
                                                                                                                        "QQQ"
                                                                                                                        {:window
                                                                                                                         10})
                                                                                                                       6)
                                                                                                                      [(weight-equal
                                                                                                                        [(asset
                                                                                                                          "BIL"
                                                                                                                          "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                      [(weight-equal
                                                                                                                        [(if
                                                                                                                          (>
                                                                                                                           (max-drawdown
                                                                                                                            "TMF"
                                                                                                                            {:window
                                                                                                                             10})
                                                                                                                           7)
                                                                                                                          [(weight-equal
                                                                                                                            [(asset
                                                                                                                              "BIL"
                                                                                                                              "SPDR Bloomberg 1-3 Month T-Bill ETF")])]
                                                                                                                          [(weight-equal
                                                                                                                            [(if
                                                                                                                              (>
                                                                                                                               (current-price
                                                                                                                                "QQQ")
                                                                                                                               (moving-average-price
                                                                                                                                "QQQ"
                                                                                                                                {:window
                                                                                                                                 25}))
                                                                                                                              [(weight-equal
                                                                                                                                [(asset
                                                                                                                                  "TECL"
                                                                                                                                  "Direxion Daily Technology Bull 3x Shares")])]
                                                                                                                              [(weight-equal
                                                                                                                                [(if
                                                                                                                                  (>
                                                                                                                                   (rsi
                                                                                                                                    "SPY"
                                                                                                                                    {:window
                                                                                                                                     60})
                                                                                                                                   50)
                                                                                                                                  [(group
                                                                                                                                    "Bond > Stock"
                                                                                                                                    [(weight-equal
                                                                                                                                      [(if
                                                                                                                                        (>
                                                                                                                                         (rsi
                                                                                                                                          "BND"
                                                                                                                                          {:window
                                                                                                                                           45})
                                                                                                                                         (rsi
                                                                                                                                          "SPY"
                                                                                                                                          {:window
                                                                                                                                           45}))
                                                                                                                                        [(asset
                                                                                                                                          "TECL"
                                                                                                                                          "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                        [(weight-equal
                                                                                                                                          [(asset
                                                                                                                                            "BIL"
                                                                                                                                            "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])]
                                                                                                                                  [(group
                                                                                                                                    "Bond Mid-term < Long-term"
                                                                                                                                    [(weight-equal
                                                                                                                                      [(if
                                                                                                                                        (<
                                                                                                                                         (rsi
                                                                                                                                          "IEF"
                                                                                                                                          {:window
                                                                                                                                           200})
                                                                                                                                         (rsi
                                                                                                                                          "TLT"
                                                                                                                                          {:window
                                                                                                                                           200}))
                                                                                                                                        [(weight-equal
                                                                                                                                          [(if
                                                                                                                                            (>
                                                                                                                                             (rsi
                                                                                                                                              "BND"
                                                                                                                                              {:window
                                                                                                                                               45})
                                                                                                                                             (rsi
                                                                                                                                              "SPY"
                                                                                                                                              {:window
                                                                                                                                               45}))
                                                                                                                                            [(asset
                                                                                                                                              "TECL"
                                                                                                                                              "Direxion Daily Technology Bull 3x Shares")]
                                                                                                                                            [(weight-equal
                                                                                                                                              [(asset
                                                                                                                                                "BIL"
                                                                                                                                                "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])]
                                                                                                                                        [(weight-equal
                                                                                                                                          [(asset
                                                                                                                                            "BIL"
                                                                                                                                            "SPDR Bloomberg 1-3 Month T-Bill ETF")])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])])]
              [(weight-equal
                [(group
                  "V1 | New SOXL Baller | New SOXX. Two SOXX. Who's SOXX? Sue's SOXX."
                  [(weight-equal
                    [(if
                      (>
                       (moving-average-return "SOXL" {:window 60})
                       (moving-average-return "QID" {:window 60}))
                      [(weight-equal
                        [(group
                          "Plaid SOXL / SOXS Baller Long / Short"
                          [(weight-equal
                            [(if
                              (>
                               (moving-average-return
                                "BND"
                                {:window 60})
                               (moving-average-return
                                "BIL"
                                {:window 60}))
                              [(weight-equal
                                [(group
                                  "Plaid SOXL Baller (long biased)"
                                  [(weight-equal
                                    [(if
                                      (< (rsi "TQQQ" {:window 10}) 27)
                                      [(group
                                        "Oversold NASDAQ (low RSI). Double check with bond mkt before going long"
                                        [(weight-equal
                                          [(if
                                            (<=
                                             (rsi "SHY" {:window 10})
                                             (rsi "SOXL" {:window 10}))
                                            [(weight-equal
                                              [(filter
                                                (rsi {:window 12})
                                                (select-bottom 1)
                                                [(asset
                                                  "UVXY"
                                                  "ProShares Ultra VIX Short-Term Futures ETF")
                                                 (asset
                                                  "SOXS"
                                                  "Direxion Daily Semiconductor Bear 3x Shares")])])]
                                            [(weight-equal
                                              [(filter
                                                (rsi {:window 12})
                                                (select-bottom 1)
                                                [(asset
                                                  "SOXL"
                                                  "Direxion Daily Semiconductor Bull 3x Shares")
                                                 (asset
                                                  "SHY"
                                                  "iShares 1-3 Year Treasury Bond ETF")])])])])])]
                                      [(weight-equal
                                        [(if
                                          (<
                                           (cumulative-return
                                            "TQQQ"
                                            {:window 6})
                                           -10)
                                          [(group
                                            "Buy the dips. Sell the rips. V2"
                                            [(weight-equal
                                              [(if
                                                (>
                                                 (cumulative-return
                                                  "TQQQ"
                                                  {:window 1})
                                                 5.5)
                                                [(weight-equal
                                                  [(filter
                                                    (rsi {:window 11})
                                                    (select-top 1)
                                                    [(asset
                                                      "UVXY"
                                                      "ProShares Ultra VIX Short-Term Futures ETF")
                                                     (asset
                                                      "SQQQ"
                                                      "ProShares UltraPro Short QQQ")])])]
                                                [(weight-equal
                                                  [(if
                                                    (>
                                                     (cumulative-return
                                                      "SQQQ"
                                                      {:window 1})
                                                     2.7)
                                                    [(weight-equal
                                                      [(filter
                                                        (rsi
                                                         {:window 11})
                                                        (select-top 1)
                                                        [(asset
                                                          "TMV"
                                                          "Direxion Daily 20+ Year Treasury Bear 3x Shares")
                                                         (asset
                                                          "TQQQ"
                                                          "ProShares UltraPro QQQ")])])]
                                                    [(group
                                                      "Hold Stocks / Bonds (RSI modulated TQQQ-SHV, TMF-ZROZ)"
                                                      [(weight-equal
                                                        [(filter
                                                          (rsi
                                                           {:window
                                                            11})
                                                          (select-bottom
                                                           1)
                                                          [(asset
                                                            "SOXL"
                                                            "Direxion Daily Semiconductor Bull 3x Shares")
                                                           (asset
                                                            "SHV"
                                                            "iShares Short Treasury Bond ETF")])
                                                         (filter
                                                          (rsi
                                                           {:window
                                                            11})
                                                          (select-bottom
                                                           1)
                                                          [(asset
                                                            "TQQQ"
                                                            "ProShares UltraPro QQQ")
                                                           (asset
                                                            "TYO"
                                                            "Direxion Daily 7-10 Year Treasury Bear 3x Shares")])])])])])])])])]
                                          [(weight-equal
                                            [(if
                                              (>
                                               (rsi
                                                "TQQQ"
                                                {:window 10})
                                               79)
                                              [(group
                                                "Overbought NASDAQ (high RSI). "
                                                [(weight-equal
                                                  [(filter
                                                    (rsi {:window 13})
                                                    (select-top 1)
                                                    [(asset
                                                      "UVXY"
                                                      "ProShares Ultra VIX Short-Term Futures ETF")
                                                     (asset
                                                      "SQQQ"
                                                      "ProShares UltraPro Short QQQ")])])])]
                                              [(weight-equal
                                                [(group
                                                  "Bullish SOXL Baller"
                                                  [(weight-equal
                                                    [(if
                                                      (>
                                                       (rsi
                                                        "BIL"
                                                        {:window 5})
                                                       (rsi
                                                        "LQD"
                                                        {:window 5}))
                                                      [(weight-equal
                                                        [(group
                                                          "IEI SPTL Inner baller"
                                                          [(weight-equal
                                                            [(if
                                                              (<
                                                               (rsi
                                                                "IEI"
                                                                {:window
                                                                 10})
                                                               (rsi
                                                                "SPTL"
                                                                {:window
                                                                 10}))
                                                              [(weight-equal
                                                                [(filter
                                                                  (rsi
                                                                   {:window
                                                                    11})
                                                                  (select-top
                                                                   1)
                                                                  [(asset
                                                                    "BTAL"
                                                                    "AGFiQ US Market Neutral Anti-Beta Fund")
                                                                   (asset
                                                                    "UGL"
                                                                    "ProShares Ultra Gold")])])]
                                                              [(weight-equal
                                                                [(filter
                                                                  (rsi
                                                                   {:window
                                                                    13})
                                                                  (select-top
                                                                   1)
                                                                  [(asset
                                                                    "SOXL"
                                                                    "Direxion Daily Semiconductor Bull 3x Shares")
                                                                   (asset
                                                                    "EDV"
                                                                    "Vanguard Extended Duration Treasury ETF")])])])])])])]
                                                      [(weight-equal
                                                        [(asset
                                                          "SOXL"
                                                          "Direxion Daily Semiconductor Bull 3x Shares")])])])])])])])])])])])])])]
                              [(weight-equal
                                [(group
                                  "Plaid SOXL / SOXS Baller (short biased)"
                                  [(weight-equal
                                    [(if
                                      (< (rsi "TQQQ" {:window 10}) 27)
                                      [(group
                                        "Oversold NASDAQ (low RSI). Double check with bond mkt before going long"
                                        [(weight-equal
                                          [(if
                                            (<=
                                             (rsi "SHY" {:window 10})
                                             (rsi "SOXL" {:window 10}))
                                            [(weight-equal
                                              [(filter
                                                (rsi {:window 12})
                                                (select-bottom 1)
                                                [(asset
                                                  "UVXY"
                                                  "ProShares Ultra VIX Short-Term Futures ETF")
                                                 (asset
                                                  "SOXS"
                                                  "Direxion Daily Semiconductor Bear 3x Shares")])])]
                                            [(weight-equal
                                              [(filter
                                                (rsi {:window 12})
                                                (select-bottom 1)
                                                [(asset
                                                  "SOXL"
                                                  "Direxion Daily Semiconductor Bull 3x Shares")
                                                 (asset
                                                  "SHY"
                                                  "iShares 1-3 Year Treasury Bond ETF")])])])])])]
                                      [(weight-equal
                                        [(if
                                          (<
                                           (cumulative-return
                                            "TQQQ"
                                            {:window 6})
                                           -11)
                                          [(group
                                            "Buy the dips. Sell the rips."
                                            [(weight-equal
                                              [(if
                                                (>
                                                 (cumulative-return
                                                  "TQQQ"
                                                  {:window 1})
                                                 5.5)
                                                [(weight-equal
                                                  [(filter
                                                    (rsi {:window 11})
                                                    (select-top 1)
                                                    [(asset
                                                      "UVXY"
                                                      "ProShares Ultra VIX Short-Term Futures ETF")
                                                     (asset
                                                      "SQQQ"
                                                      "ProShares UltraPro Short QQQ")])])]
                                                [(weight-equal
                                                  [(group
                                                    "Hold Stocks / Bonds (RSI modulated TQQQ-SHV, TMF-ZROZ)"
                                                    [(weight-specified
                                                      0.68
                                                      (filter
                                                       (rsi
                                                        {:window 11})
                                                       (select-bottom
                                                        1)
                                                       [(asset
                                                         "SOXL"
                                                         "Direxion Daily Semiconductor Bull 3x Shares")
                                                        (asset
                                                         "SHV"
                                                         "iShares Short Treasury Bond ETF")])
                                                      0.32
                                                      (filter
                                                       (rsi
                                                        {:window 11})
                                                       (select-bottom
                                                        1)
                                                       [(asset
                                                         "TQQQ"
                                                         "ProShares UltraPro QQQ")
                                                        (asset
                                                         "STIP"
                                                         "iShares 0-5 Year TIPS Bond ETF")]))])])])])])]
                                          [(weight-equal
                                            [(if
                                              (>
                                               (rsi
                                                "TQQQ"
                                                {:window 10})
                                               79)
                                              [(group
                                                "Overbought NASDAQ (high RSI). Check VIXY RSI"
                                                [(weight-equal
                                                  [(filter
                                                    (rsi {:window 13})
                                                    (select-top 1)
                                                    [(asset
                                                      "UVXY"
                                                      "ProShares Ultra VIX Short-Term Futures ETF")
                                                     (asset
                                                      "SQQQ"
                                                      "ProShares UltraPro Short QQQ")])])])]
                                              [(weight-equal
                                                [(group
                                                  "Bearish SOXL Baller "
                                                  [(weight-equal
                                                    [(if
                                                      (>
                                                       (rsi
                                                        "BIL"
                                                        {:window 5})
                                                       (rsi
                                                        "LQD"
                                                        {:window 5}))
                                                      [(weight-equal
                                                        [(group
                                                          "IEI TLH Inner baller"
                                                          [(weight-equal
                                                            [(if
                                                              (<
                                                               (rsi
                                                                "IEI"
                                                                {:window
                                                                 10})
                                                               (rsi
                                                                "TLH"
                                                                {:window
                                                                 10}))
                                                              [(weight-equal
                                                                [(filter
                                                                  (rsi
                                                                   {:window
                                                                    11})
                                                                  (select-bottom
                                                                   1)
                                                                  [(asset
                                                                    "SOXS"
                                                                    "Direxion Daily Semiconductor Bear 3x Shares")
                                                                   (asset
                                                                    "TBF"
                                                                    "Proshares Short 20+ Year Treasury")])])]
                                                              [(weight-equal
                                                                [(filter
                                                                  (max-drawdown
                                                                   {:window
                                                                    2})
                                                                  (select-top
                                                                   1)
                                                                  [(asset
                                                                    "SOXS"
                                                                    "Direxion Daily Semiconductor Bear 3x Shares")
                                                                   (asset
                                                                    "BIL"
                                                                    "SPDR Bloomberg 1-3 Month T-Bill ETF")])
                                                                 (filter
                                                                  (rsi
                                                                   {:window
                                                                    11})
                                                                  (select-top
                                                                   1)
                                                                  [(asset
                                                                    "SQQQ"
                                                                    "ProShares UltraPro Short QQQ")
                                                                   (asset
                                                                    "EDV"
                                                                    "Vanguard Extended Duration Treasury ETF")])])])])])])]
                                                      [(weight-equal
                                                        [(filter
                                                          (max-drawdown
                                                           {:window 2})
                                                          (select-top
                                                           1)
                                                          [(asset
                                                            "SOXL"
                                                            "Direxion Daily Semiconductor Bull 3x Shares")
                                                           (asset
                                                            "USD"
                                                            "ProShares Ultra Semiconductors")])])])])])])])])])])])])])])])])])])]
                      [(weight-equal
                        [(group
                          "Plaid SOXL / SOXS Baller (short biased)"
                          [(weight-equal
                            [(if
                              (< (rsi "TQQQ" {:window 10}) 27)
                              [(group
                                "Oversold NASDAQ (low RSI). Double check with bond mkt before going long"
                                [(weight-equal
                                  [(if
                                    (<=
                                     (rsi "SHY" {:window 10})
                                     (rsi "SOXL" {:window 10}))
                                    [(weight-equal
                                      [(filter
                                        (rsi {:window 12})
                                        (select-bottom 1)
                                        [(asset
                                          "UVXY"
                                          "ProShares Ultra VIX Short-Term Futures ETF")
                                         (asset
                                          "SOXS"
                                          "Direxion Daily Semiconductor Bear 3x Shares")])])]
                                    [(weight-equal
                                      [(filter
                                        (rsi {:window 12})
                                        (select-bottom 1)
                                        [(asset
                                          "SOXL"
                                          "Direxion Daily Semiconductor Bull 3x Shares")
                                         (asset
                                          "SHY"
                                          "iShares 1-3 Year Treasury Bond ETF")])])])])])]
                              [(weight-equal
                                [(if
                                  (<
                                   (cumulative-return
                                    "TQQQ"
                                    {:window 6})
                                   -11)
                                  [(group
                                    "Buy the dips. Sell the rips."
                                    [(weight-equal
                                      [(if
                                        (>
                                         (cumulative-return
                                          "TQQQ"
                                          {:window 1})
                                         5.5)
                                        [(weight-equal
                                          [(filter
                                            (rsi {:window 11})
                                            (select-top 1)
                                            [(asset
                                              "UVXY"
                                              "ProShares Ultra VIX Short-Term Futures ETF")
                                             (asset
                                              "SQQQ"
                                              "ProShares UltraPro Short QQQ")])])]
                                        [(weight-equal
                                          [(group
                                            "Hold Stocks / Bonds (RSI modulated TQQQ-SHV, TMF-ZROZ)"
                                            [(weight-specified
                                              0.68
                                              (filter
                                               (rsi {:window 11})
                                               (select-bottom 1)
                                               [(asset
                                                 "SOXL"
                                                 "Direxion Daily Semiconductor Bull 3x Shares")
                                                (asset
                                                 "SHV"
                                                 "iShares Short Treasury Bond ETF")])
                                              0.32
                                              (filter
                                               (rsi {:window 11})
                                               (select-bottom 1)
                                               [(asset
                                                 "TQQQ"
                                                 "ProShares UltraPro QQQ")
                                                (asset
                                                 "STIP"
                                                 "iShares 0-5 Year TIPS Bond ETF")]))])])])])])]
                                  [(weight-equal
                                    [(if
                                      (> (rsi "TQQQ" {:window 10}) 79)
                                      [(group
                                        "Overbought NASDAQ (high RSI)."
                                        [(weight-equal
                                          [(filter
                                            (rsi {:window 13})
                                            (select-top 1)
                                            [(asset
                                              "UVXY"
                                              "ProShares Ultra VIX Short-Term Futures ETF")
                                             (asset
                                              "SQQQ"
                                              "ProShares UltraPro Short QQQ")])])])]
                                      [(weight-equal
                                        [(group
                                          "Bearish SOXL / SOXS Baller "
                                          [(weight-equal
                                            [(if
                                              (>
                                               (rsi "BIL" {:window 5})
                                               (rsi "LQD" {:window 5}))
                                              [(weight-equal
                                                [(group
                                                  "IEI TLH Inner baller"
                                                  [(weight-equal
                                                    [(if
                                                      (<
                                                       (rsi
                                                        "IEI"
                                                        {:window 10})
                                                       (rsi
                                                        "TLH"
                                                        {:window 10}))
                                                      [(weight-equal
                                                        [(filter
                                                          (rsi
                                                           {:window
                                                            10})
                                                          (select-bottom
                                                           1)
                                                          [(asset
                                                            "SOXS"
                                                            "Direxion Daily Semiconductor Bear 3x Shares")
                                                           (asset
                                                            "UGL"
                                                            "ProShares Ultra Gold")])
                                                         (filter
                                                          (rsi
                                                           {:window
                                                            10})
                                                          (select-top
                                                           1)
                                                          [(asset
                                                            "SOXS"
                                                            "Direxion Daily Semiconductor Bear 3x Shares")
                                                           (asset
                                                            "UUP"
                                                            "Invesco DB US Dollar Index Bullish Fund")])])]
                                                      [(weight-equal
                                                        [(filter
                                                          (rsi
                                                           {:window 5})
                                                          (select-bottom
                                                           1)
                                                          [(asset
                                                            "SOXS"
                                                            "Direxion Daily Semiconductor Bear 3x Shares")
                                                           (asset
                                                            "STIP"
                                                            "iShares 0-5 Year TIPS Bond ETF")])
                                                         (filter
                                                          (rsi
                                                           {:window
                                                            11})
                                                          (select-top
                                                           1)
                                                          [(asset
                                                            "SQQQ"
                                                            "ProShares UltraPro Short QQQ")
                                                           (asset
                                                            "EDV"
                                                            "Vanguard Extended Duration Treasury ETF")])])])])])])]
                                              [(weight-equal
                                                [(filter
                                                  (rsi {:window 11})
                                                  (select-bottom 1)
                                                  [(asset
                                                    "SOXL"
                                                    "Direxion Daily Semiconductor Bull 3x Shares")
                                                   (asset
                                                    "STIP"
                                                    "iShares 0-5 Year TIPS Bond ETF")])])])])])])])])])])])])])
                         (group
                          "V0.25 |  Beta Baller - $Deez, HinnomTX | EVO date 03JAN23"
                          [(weight-equal
                            [(if
                              (<
                               (rsi "BIL" {:window 5})
                               (rsi "TYD" {:window 5}))
                              [(weight-equal
                                [(if
                                  (> (rsi "SPY" {:window 6}) 75)
                                  [(group
                                    "Overbought S&P. Sell the rip. Buy volatility."
                                    [(weight-equal
                                      [(filter
                                        (rsi {:window 13})
                                        (select-bottom 1)
                                        [(asset
                                          "UVXY"
                                          "ProShares Ultra VIX Short-Term Futures ETF")
                                         (asset
                                          "VIXY"
                                          "ProShares VIX Short-Term Futures ETF")])])])]
                                  [(weight-equal
                                    [(asset
                                      "SOXL"
                                      "Direxion Daily Semiconductor Bull 3x Shares")])])])]
                              [(weight-equal
                                [(if
                                  (< (rsi "SPY" {:window 6}) 27)
                                  [(group
                                    "Extremely oversold S&P (low RSI). Double check with bond mkt before going long"
                                    [(weight-equal
                                      [(if
                                        (<=
                                         (rsi "SHY" {:window 8})
                                         (rsi "SPHB" {:window 8}))
                                        [(weight-equal
                                          [(filter
                                            (rsi {:window 7})
                                            (select-bottom 1)
                                            [(asset
                                              "SOXS"
                                              "Direxion Daily Semiconductor Bear 3x Shares")
                                             (asset
                                              "SQQQ"
                                              "ProShares UltraPro Short QQQ")])])]
                                        [(weight-equal
                                          [(filter
                                            (rsi {:window 7})
                                            (select-bottom 1)
                                            [(asset
                                              "SOXL"
                                              "Direxion Daily Semiconductor Bull 3x Shares")
                                             (asset
                                              "TECL"
                                              "Direxion Daily Technology Bull 3x Shares")])])])])])]
                                  [(weight-equal
                                    [(if
                                      (<
                                       (cumulative-return
                                        "TQQQ"
                                        {:window 6})
                                       -11)
                                      [(group
                                        "Buy the dips. Sell the rips. "
                                        [(weight-equal
                                          [(if
                                            (>
                                             (cumulative-return
                                              "TQQQ"
                                              {:window 1})
                                             5.5)
                                            [(weight-equal
                                              [(filter
                                                (rsi {:window 11})
                                                (select-top 1)
                                                [(asset
                                                  "UVXY"
                                                  "ProShares Ultra VIX Short-Term Futures ETF")
                                                 (asset
                                                  "SQQQ"
                                                  "ProShares UltraPro Short QQQ")])])]
                                            [(weight-equal
                                              [(group
                                                "Hold Stocks / Bonds (RSI modulated TQQQ-SHV, TMF-ZROZ)"
                                                [(weight-specified
                                                  0.68
                                                  (filter
                                                   (rsi {:window 11})
                                                   (select-bottom 1)
                                                   [(asset
                                                     "SOXL"
                                                     "Direxion Daily Semiconductor Bull 3x Shares")
                                                    (asset
                                                     "SHV"
                                                     "iShares Short Treasury Bond ETF")])
                                                  0.32
                                                  (filter
                                                   (rsi {:window 11})
                                                   (select-bottom 1)
                                                   [(asset
                                                     "TQQQ"
                                                     "ProShares UltraPro QQQ")
                                                    (asset
                                                     "VTIP"
                                                     "Vanguard Short-Term Inflation-Protected Securities ETF")]))])])])])])]
                                      [(weight-equal
                                        [(if
                                          (>
                                           (rsi "TQQQ" {:window 10})
                                           79)
                                          [(group
                                            "Overbought NASDAQ (high RSI). Check VIXY RSI"
                                            [(weight-equal
                                              [(filter
                                                (rsi {:window 13})
                                                (select-top 1)
                                                [(asset
                                                  "UVXY"
                                                  "ProShares Ultra VIX Short-Term Futures ETF")
                                                 (asset
                                                  "SQQQ"
                                                  "ProShares UltraPro Short QQQ")])])])]
                                          [(weight-equal
                                            [(group
                                              "Bearish SOXL / SOXS Plaid Baller "
                                              [(weight-equal
                                                [(if
                                                  (>
                                                   (rsi
                                                    "BIL"
                                                    {:window 5})
                                                   (rsi
                                                    "LQD"
                                                    {:window 5}))
                                                  [(weight-equal
                                                    [(group
                                                      "IEI SPTL Inner baller"
                                                      [(weight-equal
                                                        [(if
                                                          (<
                                                           (rsi
                                                            "IEI"
                                                            {:window
                                                             10})
                                                           (rsi
                                                            "SPTL"
                                                            {:window
                                                             10}))
                                                          [(weight-equal
                                                            [(filter
                                                              (rsi
                                                               {:window
                                                                10})
                                                              (select-bottom
                                                               1)
                                                              [(asset
                                                                "SOXS"
                                                                "Direxion Daily Semiconductor Bear 3x Shares")
                                                               (asset
                                                                "UGL"
                                                                "ProShares Ultra Gold")])
                                                             (filter
                                                              (rsi
                                                               {:window
                                                                10})
                                                              (select-top
                                                               1)
                                                              [(asset
                                                                "SOXS"
                                                                "Direxion Daily Semiconductor Bear 3x Shares")
                                                               (asset
                                                                "UUP"
                                                                "Invesco DB US Dollar Index Bullish Fund")])])]
                                                          [(weight-equal
                                                            [(filter
                                                              (rsi
                                                               {:window
                                                                5})
                                                              (select-bottom
                                                               1)
                                                              [(asset
                                                                "SOXS"
                                                                "Direxion Daily Semiconductor Bear 3x Shares")
                                                               (asset
                                                                "STIP"
                                                                "iShares 0-5 Year TIPS Bond ETF")])
                                                             (filter
                                                              (rsi
                                                               {:window
                                                                11})
                                                              (select-top
                                                               1)
                                                              [(asset
                                                                "SQQQ"
                                                                "ProShares UltraPro Short QQQ")
                                                               (asset
                                                                "EDV"
                                                                "Vanguard Extended Duration Treasury ETF")])])])])])])]
                                                  [(weight-equal
                                                    [(filter
                                                      (rsi
                                                       {:window 11})
                                                      (select-bottom 1)
                                                      [(asset
                                                        "USD"
                                                        "ProShares Ultra Semiconductors")
                                                       (asset
                                                        "STIP"
                                                        "iShares 0-5 Year TIPS Bond ETF")])])])])])])])])])])])])])])])])])])])])])])])])])
     (group
      "Sandy's Golden Dragon V4.7 (vol hedge? + beta hedge 2.0 + BAB 2)"
      [(weight-equal
        [(weight-specified
          0.125
          (group
           "Long Volatility"
           [(weight-equal
             [(group
               "Vol Hedge ?"
               [(weight-equal
                 [(if
                   (> (rsi "TQQQ" {:window 10}) 79)
                   [(asset
                     "UVXY"
                     "ProShares Ultra VIX Short-Term Futures ETF")]
                   [(weight-equal
                     [(if
                       (> (rsi "SPXL" {:window 10}) 80)
                       [(asset
                         "UVXY"
                         "ProShares Ultra VIX Short-Term Futures ETF")]
                       [(weight-equal
                         [(if
                           (< (rsi "QQQ" {:window 10}) 31)
                           [(asset "TQQQ" "ProShares UltraPro QQQ")]
                           [(weight-equal
                             [(asset "GLD" "SPDR Gold Shares")
                              (asset
                               "SHY"
                               "iShares 1-3 Year Treasury Bond ETF")
                              (asset
                               "UUP"
                               "Invesco DB US Dollar Index Bullish Fund")])])])])])])])])
              (group
               "Beta Hedge 2.0"
               [(weight-equal
                 [(if
                   (> (rsi "QQQ" {:window 10}) 75)
                   [(weight-equal
                     [(if
                       (> (rsi "QQQ" {:window 10}) 80)
                       [(asset
                         "UVXY"
                         "ProShares Ultra VIX Short-Term Futures ETF")]
                       [(asset
                         "VIXM"
                         "ProShares VIX Mid-Term Futures ETF")])])]
                   [(weight-equal
                     [(if
                       (> (rsi "UVXY" {:window 40}) 55)
                       [(weight-equal
                         [(asset
                           "BTAL"
                           "AGF U.S. Market Neutral Anti-Beta Fund")
                          (asset
                           "IEF"
                           "iShares 7-10 Year Treasury Bond ETF")
                          (asset "GLD" "SPDR Gold Shares")
                          (asset
                           "VIXY"
                           "ProShares VIX Short-Term Futures ETF")])]
                       [(weight-equal
                         [(if
                           (> (max-drawdown "SPY" {:window 10}) 5)
                           [(weight-equal
                             [(asset
                               "BTAL"
                               "AGF U.S. Market Neutral Anti-Beta Fund")
                              (asset
                               "IEF"
                               "iShares 7-10 Year Treasury Bond ETF")
                              (asset "GLD" "SPDR Gold Shares")
                              (asset
                               "VIXY"
                               "ProShares VIX Short-Term Futures ETF")])]
                           [(weight-equal
                             [(if
                               (<
                                (current-price "SPY")
                                (moving-average-price
                                 "SPY"
                                 {:window 200}))
                               [(weight-equal
                                 [(asset
                                   "XLP"
                                   "Consumer Staples Select Sector SPDR Fund")
                                  (asset
                                   "BTAL"
                                   "AGF U.S. Market Neutral Anti-Beta Fund")
                                  (asset
                                   "SCHD"
                                   "Schwab US Dividend Equity ETF")
                                  (asset
                                   "IEF"
                                   "iShares 7-10 Year Treasury Bond ETF")
                                  (asset
                                   "VIXM"
                                   "ProShares VIX Mid-Term Futures ETF")
                                  (asset "GLD" "SPDR Gold Shares")])]
                               [(weight-equal
                                 [(asset "GLD" "SPDR Gold Shares")
                                  (asset
                                   "SHY"
                                   "iShares 1-3 Year Treasury Bond ETF")
                                  (asset
                                   "SCHD"
                                   "Schwab US Dividend Equity ETF")])])])])])])])])])])
              (group
               "BAB 2"
               [(weight-equal
                 [(if
                   (> (rsi "QQQ" {:window 10}) 75)
                   [(weight-equal
                     [(if
                       (> (rsi "QQQ" {:window 10}) 80)
                       [(asset
                         "UVXY"
                         "ProShares Ultra VIX Short-Term Futures ETF")]
                       [(asset
                         "VIXM"
                         "ProShares VIX Mid-Term Futures ETF")])])]
                   [(weight-equal
                     [(if
                       (> (rsi "UVXY" {:window 40}) 55)
                       [(weight-equal
                         [(asset
                           "BTAL"
                           "AGF U.S. Market Neutral Anti-Beta Fund")
                          (asset
                           "IEF"
                           "iShares 7-10 Year Treasury Bond ETF")
                          (asset "GLD" "SPDR Gold Shares")
                          (asset
                           "VIXM"
                           "ProShares VIX Mid-Term Futures ETF")])]
                       [(weight-equal
                         [(if
                           (> (max-drawdown "SPY" {:window 10}) 5)
                           [(weight-equal
                             [(asset
                               "BTAL"
                               "AGF U.S. Market Neutral Anti-Beta Fund")
                              (asset
                               "IEF"
                               "iShares 7-10 Year Treasury Bond ETF")
                              (asset "GLD" "SPDR Gold Shares")
                              (asset
                               "VIXM"
                               "ProShares VIX Mid-Term Futures ETF")])]
                           [(weight-equal
                             [(if
                               (<
                                (current-price "SPY")
                                (moving-average-price
                                 "SPY"
                                 {:window 200}))
                               [(weight-equal
                                 [(asset
                                   "XLP"
                                   "Consumer Staples Select Sector SPDR Fund")
                                  (asset
                                   "BTAL"
                                   "AGF U.S. Market Neutral Anti-Beta Fund")
                                  (asset
                                   "SCHD"
                                   "Schwab US Dividend Equity ETF")
                                  (asset
                                   "IEF"
                                   "iShares 7-10 Year Treasury Bond ETF")
                                  (asset
                                   "VIXM"
                                   "ProShares VIX Mid-Term Futures ETF")
                                  (asset "GLD" "SPDR Gold Shares")])]
                               [(weight-equal
                                 [(asset
                                   "XLU"
                                   "Utilities Select Sector SPDR Fund")
                                  (asset
                                   "XLP"
                                   "Consumer Staples Select Sector SPDR Fund")
                                  (asset
                                   "XLV"
                                   "Health Care Select Sector SPDR Fund")
                                  (asset
                                   "IEF"
                                   "iShares 7-10 Year Treasury Bond ETF")
                                  (asset "GLD" "SPDR Gold Shares")
                                  (asset
                                   "SCHD"
                                   "Schwab US Dividend Equity ETF")
                                  (asset
                                   "BTAL"
                                   "AGF U.S. Market Neutral Anti-Beta Fund")
                                  (asset
                                   "UUP"
                                   "Invesco DB US Dollar Index Bullish Fund")
                                  (asset
                                   "SHY"
                                   "iShares 1-3 Year Treasury Bond ETF")])])])])])])])])])])])])
          0.175
          (group
           "Trend and Momentum"
           [(weight-equal
             [(group
               "Commodity Momentum (#COMMO)"
               [(weight-equal
                 [(filter
                   (cumulative-return {:window 120})
                   (select-top 2)
                   [(asset "SPY" "SPDR S&P 500 ETF Trust")
                    (asset "TLT" "iShares 20+ Year Treasury Bond ETF")
                    (asset
                     "UUP"
                     "Invesco DB US Dollar Index Bullish Fund")
                    (asset "GLD" "SPDR Gold Shares")
                    (asset "SHV" "iShares Short Treasury Bond ETF")
                    (asset
                     "DBC"
                     "Invesco DB Commodity Index Tracking Fund")])])])])])
          0.15
          (group
           "The Enigma of the Financial Universe 1.1 - www.investorcollab.com"
           [(weight-equal
             [(weight-specified
               1
               (if
                (> (rsi "TTT" {:window 30}) (rsi "SHYG" {:window 30}))
                [(group
                  "Bond yield risk off"
                  [(weight-equal
                    [(filter
                      (exponential-moving-average-price {:window 10})
                      (select-bottom 3)
                      [(asset
                        "USDU"
                        "WisdomTree Bloomberg US Dollar Bullish Fund")
                       (asset
                        "BTAL"
                        "AGF U.S. Market Neutral Anti-Beta Fund")
                       (asset
                        "HDGE"
                        "AdvisorShares Ranger Equity Bear ETF")
                       (asset "SJB" "ProShares Short High Yield")
                       (asset "URTY" "ProShares UltraPro Russell2000")
                       (asset
                        "TZA"
                        "Direxion Daily Small Cap Bear 3x Shares")
                       (asset
                        "ERX"
                        "Direxion Daily Energy Bull 2x Shares")])
                     (weight-equal
                      [(filter
                        (rsi {:window 20})
                        (select-bottom 2)
                        [(asset "SQQQ" "ProShares UltraPro Short QQQ")
                         (asset
                          "TBF"
                          "Proshares Short 20+ Year Treasury")
                         (asset
                          "TBT"
                          "ProShares UltraShort 20+ Year Treasury")
                         (asset "SDY" "SPDR S&P Dividend ETF")])
                       (filter
                        (rsi {:window 30})
                        (select-top 2)
                        [(asset
                          "SHV"
                          "iShares Short Treasury Bond ETF")
                         (asset
                          "SPLV"
                          "Invesco S&P 500 Low Volatility ETF")
                         (asset
                          "FAS"
                          "Direxion Daily Financial Bull 3x Shares")
                         (asset
                          "PDBC"
                          "Invesco Optimum Yield Diversified Commodity Strategy No K-1 ETF")
                         (asset
                          "XLY"
                          "Consumer Discretionary Select Sector SPDR Fund")])])])])]
                [(weight-equal
                  [(if
                    (>
                     (stdev-return "SPY" {:window 30})
                     (stdev-return "SPY" {:window 252}))
                    [(group
                      "Vol risk OFF"
                      [(weight-equal
                        [(if
                          (> (rsi "VIXM" {:window 40}) 69)
                          [(group
                            "Black Swan Catcher"
                            [(weight-equal
                              [(filter
                                (stdev-return {:window 5})
                                (select-bottom 3)
                                [(asset
                                  "SQQQ"
                                  "ProShares UltraPro Short QQQ")
                                 (asset
                                  "TTT"
                                  "ProShares UltraPro Short 20+ Year Treasury")
                                 (asset
                                  "SDS"
                                  "ProShares UltraShort S&P500")
                                 (asset
                                  "BTAL"
                                  "AGF U.S. Market Neutral Anti-Beta Fund")
                                 (asset
                                  "TMV"
                                  "Direxion Daily 20+ Year Treasury Bear 3x Shares")
                                 (asset
                                  "XLU"
                                  "Utilities Select Sector SPDR Fund")])])])]
                          [(asset
                            "SHY"
                            "iShares 1-3 Year Treasury Bond ETF")])])])]
                    [(weight-equal
                      [(if
                        (< (cumulative-return "BND" {:window 60}) -1)
                        [(asset
                          "SHY"
                          "iShares 1-3 Year Treasury Bond ETF")]
                        [(asset
                          "SPY"
                          "SPDR S&P 500 ETF Trust")])])])])]))])])
          0.35
          (group
           "Secular Growth Assets"
           [(weight-specified
             0.5
             (group
              "Equities"
              [(weight-equal
                [(if
                  (>
                   (cumulative-return "BND" {:window 60})
                   (cumulative-return "BIL" {:window 60}))
                  [(group
                    "Risk ON - Bullish Market Conditions"
                    [(weight-equal
                      [(if
                        (< (max-drawdown "SPY" {:window 10}) 5)
                        [(group
                          "3x Aggressive Equities"
                          [(weight-equal
                            [(filter
                              (moving-average-return {:window 10})
                              (select-bottom 4)
                              [(asset
                                "UPRO"
                                "ProShares UltraPro S&P500")
                               (asset
                                "TECL"
                                "Direxion Daily Technology Bull 3x Shares")
                               (asset "TQQQ" "ProShares UltraPro QQQ")
                               (asset
                                "SOXL"
                                "Direxion Daily Semiconductor Bull 3x Shares")
                               (asset
                                "FAS"
                                "Direxion Daily Financial Bull 3x Shares")])])])]
                        [(group
                          "1x Defensive Equities"
                          [(weight-equal
                            [(asset "SPY" "SPDR S&P 500 ETF Trust")
                             (filter
                              (cumulative-return {:window 10})
                              (select-top 1)
                              [(asset
                                "RSP"
                                "Invesco S&P 500 Equal Weight ETF")
                               (asset
                                "RPV"
                                "Invesco S&P 500 Pure Value ETF")
                               (asset
                                "QUAL"
                                "iShares MSCI USA Quality Factor ETF")
                               (asset
                                "BTAL"
                                "AGFiQ US Market Neutral Anti-Beta Fund")])])])])])])]
                  [(weight-equal
                    [(if
                      (< (moving-average-return "TLT" {:window 15}) 0)
                      [(group
                        "Risk OFF - Rising Rates"
                        [(weight-specified
                          0.6
                          (if
                           (>
                            (current-price "SPY")
                            (moving-average-price "SPY" {:window 25}))
                           [(group
                             "Defensive Fund Surf"
                             [(weight-equal
                               [(filter
                                 (rsi {:window 10})
                                 (select-bottom 3)
                                 [(asset
                                   "XLP"
                                   "Consumer Staples Select Sector SPDR Fund")
                                  (asset
                                   "XLE"
                                   "Energy Select Sector SPDR Fund")
                                  (asset
                                   "BTAL"
                                   "AGFiQ US Market Neutral Anti-Beta Fund")
                                  (asset
                                   "XLY"
                                   "Consumer Discretionary Select Sector SPDR Fund")
                                  (asset
                                   "XLF"
                                   "Financial Select Sector SPDR Fund")])])])]
                           [(group
                             "Fund Surf with Shorting"
                             [(weight-equal
                               [(filter
                                 (rsi {:window 10})
                                 (select-bottom 3)
                                 [(asset
                                   "XLP"
                                   "Consumer Staples Select Sector SPDR Fund")
                                  (asset
                                   "XLE"
                                   "Energy Select Sector SPDR Fund")
                                  (asset
                                   "SDS"
                                   "ProShares UltraShort S&P500")
                                  (asset
                                   "SQQQ"
                                   "ProShares UltraPro Short QQQ")
                                  (asset
                                   "BTAL"
                                   "AGFiQ US Market Neutral Anti-Beta Fund")])])])])
                          0.4
                          (asset
                           "USDU"
                           "WisdomTree Bloomberg US Dollar Bullish Fund"))])]
                      [(group
                        "Risk ON - Falling Rates"
                        [(weight-equal
                          [(if
                            (>
                             (moving-average-return "SPY" {:window 25})
                             (moving-average-return
                              "QUAL"
                              {:window 25}))
                            [(group
                              "Modified Nasdaq Buy the Dip"
                              [(weight-equal
                                [(if
                                  (<
                                   (cumulative-return
                                    "QQQ"
                                    {:window 5})
                                   -5)
                                  [(weight-equal
                                    [(asset
                                      "UPRO"
                                      "ProShares UltraPro S&P500")
                                     (if
                                      (>
                                       (cumulative-return
                                        "TQQQ"
                                        {:window 1})
                                       5)
                                      [(asset
                                        "SSO"
                                        "ProShares Ultra S&P 500")]
                                      [(weight-equal
                                        [(filter
                                          (rsi {:window 5})
                                          (select-bottom 1)
                                          [(asset
                                            "TQQQ"
                                            "ProShares UltraPro QQQ")
                                           (asset
                                            "TECL"
                                            "Direxion Daily Technology Bull 3x Shares")])])])])]
                                  [(asset
                                    "SPY"
                                    "SPDR S&P 500 ETF Trust")])])])]
                            [(group
                              "Recessionary Defensive"
                              [(weight-equal
                                [(asset
                                  "SCHD"
                                  "Schwab US Dividend Equity ETF")
                                 (filter
                                  (cumulative-return {:window 10})
                                  (select-top 1)
                                  [(asset
                                    "RSP"
                                    "Invesco S&P 500 Equal Weight ETF")
                                   (asset
                                    "RPV"
                                    "Invesco S&P 500 Pure Value ETF")
                                   (asset
                                    "QUAL"
                                    "iShares MSCI USA Quality Factor ETF")
                                   (asset
                                    "BTAL"
                                    "AGFiQ US Market Neutral Anti-Beta Fund")
                                   (asset
                                    "XLP"
                                    "Consumer Staples Select Sector SPDR Fund")
                                   (asset
                                    "XLF"
                                    "Financial Select Sector SPDR Fund")])])])])])])])])])])])
             0.2
             (weight-equal
              [(if
                (>
                 (current-price "SPY")
                 (moving-average-price "SPY" {:window 200}))
                [(weight-equal
                  [(if
                    (> (rsi "TQQQ" {:window 10}) 79)
                    [(asset
                      "UVXY"
                      "ProShares Ultra VIX Short-Term Futures ETF")]
                    [(weight-equal
                      [(if
                        (> (rsi "SPXL" {:window 10}) 80)
                        [(asset
                          "UVXY"
                          "ProShares Ultra VIX Short-Term Futures ETF")]
                        [(asset
                          "TQQQ"
                          "ProShares UltraPro QQQ")])])])])]
                [(weight-equal
                  [(if
                    (< (rsi "TQQQ" {:window 10}) 31)
                    [(asset
                      "TECL"
                      "Direxion Daily Technology Bull 3x Shares")]
                    [(weight-equal
                      [(if
                        (< (rsi "SPY" {:window 10}) 30)
                        [(asset
                          "SPXL"
                          "Direxion Daily S&P 500 Bull 3x Shares")]
                        [(weight-equal
                          [(if
                            (> (rsi "UVXY" {:window 10}) 74)
                            [(weight-equal
                              [(if
                                (> (rsi "UVXY" {:window 10}) 84)
                                [(weight-equal
                                  [(if
                                    (>
                                     (current-price "TQQQ")
                                     (moving-average-price
                                      "TQQQ"
                                      {:window 20}))
                                    [(asset
                                      "TQQQ"
                                      "ProShares UltraPro QQQ")]
                                    [(weight-equal
                                      [(filter
                                        (rsi {:window 10})
                                        (select-top 1)
                                        [(asset
                                          "SQQQ"
                                          "ProShares UltraPro Short QQQ")
                                         (asset
                                          "BSV"
                                          "Vanguard Short-Term Bond ETF")])])])])]
                                [(asset
                                  "UVXY"
                                  "ProShares Ultra VIX Short-Term Futures ETF")])])]
                            [(weight-equal
                              [(if
                                (>
                                 (current-price "TQQQ")
                                 (moving-average-price
                                  "TQQQ"
                                  {:window 20}))
                                [(asset
                                  "TQQQ"
                                  "ProShares UltraPro QQQ")]
                                [(weight-equal
                                  [(filter
                                    (rsi {:window 10})
                                    (select-top 1)
                                    [(asset
                                      "SQQQ"
                                      "ProShares UltraPro Short QQQ")
                                     (asset
                                      "BSV"
                                      "Vanguard Short-Term Bond ETF")])])])])])])])])])])])])
             0.3
             (group
              "Not Boring dip buyer"
              [(weight-equal
                [(if
                  (> (max-drawdown "QQQ" {:window 10}) 6)
                  [(group
                    "Risk Off"
                    [(weight-equal
                      [(if
                        (< (rsi "QQQ" {:window 10}) 32)
                        [(asset "TQQQ" "ProShares UltraPro QQQ")]
                        [(weight-inverse-volatility
                          45
                          [(asset "GLD" "SPDR Gold Shares")
                           (asset
                            "TLT"
                            "iShares 20+ Year Treasury Bond ETF")
                           (asset "QQQ" "Invesco QQQ Trust")
                           (asset
                            "UUP"
                            "Invesco DB US Dollar Index Bullish Fund")])])])])]
                  [(weight-equal
                    [(if
                      (> (max-drawdown "TLT" {:window 10}) 3)
                      [(group
                        "Risk Off "
                        [(weight-inverse-volatility
                          45
                          [(asset "GLD" "SPDR Gold Shares")
                           (asset
                            "UUP"
                            "Invesco DB US Dollar Index Bullish Fund")
                           (asset "SPY" "SPDR S&P 500 ETF Trust")
                           (asset
                            "TLT"
                            "iShares 20+ Year Treasury Bond ETF")])])]
                      [(weight-equal
                        [(group
                          "Risk On: Core Risk Parity"
                          [(weight-specified
                            1
                            (weight-inverse-volatility
                             45
                             [(asset
                               "TMF"
                               "Direxion Daily 20+ Year Treasury Bull 3X Shares")
                              (asset "TQQQ" "ProShares UltraPro QQQ")
                              (asset
                               "UPRO"
                               "ProShares UltraPro S&P500")]))])])])])])])]))])
          0.2
          (group
           "Interest Rate Linked"
           [(weight-specified
             0.6
             (group
              "Treasury Bonds"
              [(weight-equal
                [(group
                  "Safer 20 Year Treasury Bonds with Leverage"
                  [(weight-equal
                    [(if
                      (>
                       (current-price "TLT")
                       (moving-average-price "TLT" {:window 200}))
                      [(weight-equal
                        [(group
                          "If long term TLT is trending up"
                          [(weight-equal
                            [(if
                              (< (rsi "TLT" {:window 14}) 50)
                              [(weight-equal
                                [(group
                                  "If medium term TLT is not overbought"
                                  [(weight-equal
                                    [(if
                                      (>
                                       (current-price "TLT")
                                       (moving-average-price
                                        "TLT"
                                        {:window 5}))
                                      [(weight-equal
                                        [(group
                                          "Short term TLT is trending up, buy 3x leveraged bull treasury bonds (TMF)"
                                          [(weight-equal
                                            [(asset
                                              "TMF"
                                              "Direxion Daily 20+ Year Treasury Bull 3X Shares")])])])]
                                      [(weight-equal
                                        [(group
                                          "If short term TLT is trending down"
                                          [(weight-equal
                                            [(if
                                              (<
                                               (rsi "TLT" {:window 14})
                                               20)
                                              [(weight-equal
                                                [(group
                                                  "Medium term TLT is underbought, buy 3x leveraged bull treasury bonds (TMF)"
                                                  [(weight-equal
                                                    [(asset
                                                      "TMF"
                                                      "Direxion Daily 20+ Year Treasury Bull 3X Shares")])])])]
                                              [(weight-specified
                                                1
                                                (group
                                                 "Leveraged Safety"
                                                 [(weight-equal
                                                   [(if
                                                     (<
                                                      (moving-average-return
                                                       "TLT"
                                                       {:window 20})
                                                      0)
                                                     [(group
                                                       "Risk Off, Rising Rates"
                                                       [(weight-equal
                                                         [(asset
                                                           "UUP"
                                                           "Invesco DB US Dollar Index Bullish Fund")
                                                          (filter
                                                           (rsi
                                                            {:window
                                                             20})
                                                           (select-bottom
                                                            1)
                                                           [(asset
                                                             "PSQ"
                                                             "ProShares Short QQQ")
                                                            (asset
                                                             "SH"
                                                             "ProShares Short S&P500")
                                                            (asset
                                                             "UUP"
                                                             "Invesco DB US Dollar Index Bullish Fund")
                                                            (asset
                                                             "TMV"
                                                             "Direxion Daily 20+ Year Treasury Bear 3x Shares")])])])]
                                                     [(group
                                                       "Risk Off, Falling Rates"
                                                       [(weight-equal
                                                         [(asset
                                                           "GLD"
                                                           "SPDR Gold Shares")
                                                          (asset
                                                           "TMF"
                                                           "Direxion Daily 20+ Year Treasury Bull 3X Shares")
                                                          (asset
                                                           "BTAL"
                                                           "AGFiQ US Market Neutral Anti-Beta Fund")
                                                          (asset
                                                           "XLP"
                                                           "Consumer Staples Select Sector SPDR Fund")])])])])]))])])])])])])])])]
                              [(weight-equal
                                [(group
                                  "Medium term TLT may be overbought"
                                  [(weight-equal
                                    [(if
                                      (> (rsi "TLT" {:window 14}) 80)
                                      [(weight-equal
                                        [(group
                                          "Medium term TLT is overbought, buy 3x leveraged bear treasury bonds (TMV)"
                                          [(weight-equal
                                            [(asset
                                              "TMV"
                                              "Direxion Daily 20+ Year Treasury Bear 3x Shares")])])])]
                                      [(weight-specified
                                        1
                                        (group
                                         "Leveraged Safety"
                                         [(weight-specified
                                           1
                                           (if
                                            (<
                                             (moving-average-return
                                              "TLT"
                                              {:window 20})
                                             0)
                                            [(group
                                              "Risk Off, Rising Rates"
                                              [(weight-equal
                                                [(asset
                                                  "UUP"
                                                  "Invesco DB US Dollar Index Bullish Fund")
                                                 (filter
                                                  (rsi {:window 20})
                                                  (select-bottom 1)
                                                  [(asset
                                                    "PSQ"
                                                    "ProShares Short QQQ")
                                                   (asset
                                                    "SH"
                                                    "ProShares Short S&P500")
                                                   (asset
                                                    "UUP"
                                                    "Invesco DB US Dollar Index Bullish Fund")
                                                   (asset
                                                    "TMV"
                                                    "Direxion Daily 20+ Year Treasury Bear 3x Shares")])])])]
                                            [(group
                                              "Risk Off, Falling Rates"
                                              [(weight-equal
                                                [(asset
                                                  "GLD"
                                                  "SPDR Gold Shares")
                                                 (asset
                                                  "TMF"
                                                  "Direxion Daily 20+ Year Treasury Bull 3X Shares")
                                                 (asset
                                                  "BTAL"
                                                  "AGFiQ US Market Neutral Anti-Beta Fund")
                                                 (asset
                                                  "XLP"
                                                  "Consumer Staples Select Sector SPDR Fund")])])]))]))])])])])])])])])]
                      [(group
                        "Safety: Long Term, 2 Least Volatile"
                        [(weight-equal
                          [(group
                            "Leveraged Safety"
                            [(weight-specified
                              1
                              (if
                               (<
                                (moving-average-return
                                 "TLT"
                                 {:window 20})
                                0)
                               [(group
                                 "Risk Off, Rising Rates"
                                 [(weight-equal
                                   [(asset
                                     "UUP"
                                     "Invesco DB US Dollar Index Bullish Fund")
                                    (filter
                                     (rsi {:window 20})
                                     (select-bottom 1)
                                     [(asset
                                       "PSQ"
                                       "ProShares Short QQQ")
                                      (asset
                                       "SH"
                                       "ProShares Short S&P500")
                                      (asset
                                       "UUP"
                                       "Invesco DB US Dollar Index Bullish Fund")
                                      (asset
                                       "TMV"
                                       "Direxion Daily 20+ Year Treasury Bear 3x Shares")])])])]
                               [(group
                                 "Risk Off, Falling Rates"
                                 [(weight-equal
                                   [(asset "GLD" "SPDR Gold Shares")
                                    (asset
                                     "TMF"
                                     "Direxion Daily 20+ Year Treasury Bull 3X Shares")
                                    (asset
                                     "BTAL"
                                     "AGFiQ US Market Neutral Anti-Beta Fund")
                                    (asset
                                     "XLP"
                                     "Consumer Staples Select Sector SPDR Fund")])])]))])])])])])])])])
             0.4
             (group
              "Bonds"
              [(weight-equal
                [(if
                  (>
                   (cumulative-return "BND" {:window 60})
                   (cumulative-return "BIL" {:window 60}))
                  [(group
                    "Normal Market - 1x Bonds"
                    [(weight-specified
                      0.6
                      (asset "VGLT" "Vanguard Long-Term Treasury ETF")
                      0.4
                      (asset
                       "VGIT"
                       "Vanguard Intermediate-Term Treasury ETF"))])]
                  [(weight-equal
                    [(if
                      (< (moving-average-return "TLT" {:window 20}) 0)
                      [(group
                        "Rising Rates - USD/Bond Surf"
                        [(weight-equal
                          [(asset
                            "USDU"
                            "WisdomTree Bloomberg US Dollar Bullish Fund")
                           (filter
                            (rsi {:window 20})
                            (select-bottom 1)
                            [(asset
                              "TMV"
                              "Direxion Daily 20+ Year Treasury Bear 3x Shares")
                             (asset
                              "TYO"
                              "Direxion Daily 7-10 Year Treasury Bear 3x Shares")
                             (asset
                              "USDU"
                              "WisdomTree Bloomberg US Dollar Bullish Fund")])])])]
                      [(group
                        "Falling Rates - 3x Bonds"
                        [(weight-specified
                          0.6
                          (asset
                           "TMF"
                           "Direxion Daily 20+ Year Treasury Bull 3X Shares")
                          0.4
                          (asset
                           "TYD"
                           "Direxion Daily 7-10 Year Treasury Bull 3x Shares"))])])])])])]))]))])])])]))
