###############################################
# The Alchemiser - .env example (minimal)
#
# Copy to .env and fill in values.
###############################################

# Naming convention:
# - App settings use nested keys with double underscores (e.g., LOGGING__*, EMAIL__*)
# - Vendor/API credentials use single underscore (e.g., ALPACA_KEY)

# --- Required for local PAPER trading ---
# Provide your Alpaca paper credentials. Endpoint defaults to paper if omitted,
# but keeping it explicit helps clarity.
ALPACA_KEY=your_paper_api_key_here
ALPACA_SECRET=your_paper_secret_key_here
ALPACA_ENDPOINT=https://paper-api.alpaca.markets/v2

# --- Optional: Logging ---
# Override app log level (INFO, DEBUG, WARNING, ERROR). Defaults are fine.
LOGGING__LEVEL=INFO

# --- Optional: Data providers ---
# (No external data provider keys required)

# --- Optional: Email notifications ---
# Leave blank to disable email. If providing, FROM is required; TO defaults to FROM.
# EMAIL__FROM_EMAIL=you@example.com
# EMAIL__TO_EMAIL=you@example.com
# EMAIL__PASSWORD=your_smtp_password
# EMAIL__SMTP_SERVER=smtp.mail.me.com
# EMAIL__SMTP_PORT=587

# --- Optional: Execution Configuration ---
# Market-on-exhaust fallback: automatically place market orders when limit orders
# exhaust monitoring time/repegs without fills. Disabled by default for safety.
# EXECUTION__MARKET_ON_EXHAUST_ENABLED=false
# EXECUTION__MARKET_ON_EXHAUST_MAX_NOTIONAL_USD=50000  # Optional cap to prevent large slippage

# --- Optional: Persistence/Mode hints (advanced) ---
# Not required when ALPACA_ENDPOINT contains "paper". When set to true/1/yes,
# forces paper mode for local persistence paths.
# ALPACA_PAPER_TRADING=true

# --- Live trading notes ---
# Preferred: In AWS Lambda, credentials are read from AWS Secrets Manager when
# AWS_LAMBDA_FUNCTION_NAME is present. Secret: "the-alchemiser-secrets" expects:
#   ALPACA_KEY, ALPACA_SECRET, ALPACA_ENDPOINT (set to live endpoint), and SMTP_PASSWORD if email is enabled.
# Region defaults to eu-west-2.
#
# Local live (advanced): set ALPACA_ENDPOINT=https://api.alpaca.markets/v2
# with live keys above. Exercise caution.

# --- Environment detection summary ---
# - Local development: reads from this .env (paper by default)
# - AWS Lambda: auto-detects and loads from Secrets Manager (live/paper via endpoint)

